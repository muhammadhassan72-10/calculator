import"./disclose-version.BDr9Qe-U.js";import{i as ne}from"./legacy.BrY5VHyC.js";import{p as re,am as ee,g as e,s as R,d as k,t as M,a as ie,b as z,c as y,r as g,aE as oe,f as H,aF as de}from"./hydration.C4XjvPX6.js";import{s as T}from"./render.BZ_1MAYl.js";import{i as S}from"./if.a5KYZZKo.js";import{e as me,i as ce}from"./each.DZx4BPQw.js";import{a as _,t as Z,c as J,b as Y}from"./template.B3y5Ch-c.js";import{a as K,r as ue,s as ve,b as fe}from"./attributes.DPN8is2Z.js";import{d as pe}from"./utils.Dl187tOt.js";import{s as ge,a as te}from"./store.CHkYo4vE.js";import{I as be}from"./instance-manager.BK3A94JX.js";import{D as f}from"./calc.model.B894CNSn.js";import{C as Q}from"./commands.xPwo0_L0.js";import{b as O}from"./this.C6yQSE9M.js";import{p as X}from"./props.RvT2dLJn.js";import"./task.JD7-Bzk8.js";import"./utils.B-ZhoiGS.js";import"./proxy.DQEJD0ac.js";var _e=Z('<div class="cursor-pointer w-full relative mx-1 py-2.5"><div data-slider-rail="" class="w-full h-1.5 bg-neutral-token-4 rounded-full overflow-hidden"><div data-slider-track="" class="rounded-full w-full h-full bg-primary-token-4"></div></div> <div data-slider-handle="" tabindex="0" role="slider" aria-orientation="horizontal" class="slider-handle  -translate-x-1/2 absolute top-1/2 -translate-y-1/2 rounded-full bg-neutral-token-1 border-[3px] border-primary-token-5  size-4 svelte-10p8ame"></div> <div data-slider-tooltip="" class=" svelte-10p8ame"><span class="z-10 relative"> </span></div></div>');function ye(a,t){re(t,!0);let s=X(t,"min",3,0),i=X(t,"max",3,100),r=X(t,"step",3,1),o=X(t,"value",15);X(t,"showTicks",3,!1);let l,n=z(void 0),d=z(void 0),v=z(void 0),m=z(void 0),u=z(void 0);function c(a){l&&clearInterval(l),a?e(u).classList.add("show"):l=setTimeout((()=>{e(u).classList.remove("show")}),300)}ee((()=>{!e(n)||!e(d)||!e(v)||!e(m)||(e(n).addEventListener("pointerdown",(a=>{e(d).setAttribute("data-state","dragging"),p(a),document.addEventListener("pointermove",p),document.addEventListener("pointerup",(()=>{document.removeEventListener("pointermove",p),e(d).removeAttribute("data-state"),c(!1)}),{once:!0})})),e(n).addEventListener("touchstart",(a=>{e(d).setAttribute("data-state","dragging"),p(a),document.addEventListener("touchmove",p),document.addEventListener("touchend",(()=>{document.removeEventListener("touchmove",p),c(!1),e(d).removeAttribute("data-state")}),{once:!0})})),e(d).addEventListener("pointerenter",(a=>{c(!0),e(d).addEventListener("pointerleave",(e=>{c(!1)}),{once:!0})})))}));const p=a=>{let l;a.preventDefault(),a.stopPropagation(),c(!0),l=a.type.startsWith("touch")?a.touches[0].clientX-e(n).getBoundingClientRect().left:a.clientX-e(n).getBoundingClientRect().left;let d=(a=>{const t=e(m).offsetWidth,o=t/((i()-s())/r()),l=Math.max(0,Math.min(a,t)),n=Math.round(l/o);return s()+n})(l);d!==o()&&(o(d),t.onchange?.(o())),f()};function f(a){const t=(o()-s())/(i()-s())*100;e(d).style.left=`${t}%`,e(u).style.left=`${t}%`,e(v).style.width=`${t}%`}ee((()=>{null==o()&&o(s()),f(o())}));var b=_e(),h=y(b),$=y(h);O($,(e=>R(v,e)),(()=>e(v))),g(h),O(h,(e=>R(m,e)),(()=>e(m)));var E=k(h,2);O(E,(e=>R(d,e)),(()=>e(d)));var x=k(E,2),N=y(x),S=y(N,!0);g(N),g(x),O(x,(e=>R(u,e)),(()=>e(u))),g(b),O(b,(e=>R(n,e)),(()=>e(n))),M((()=>{K(E,"aria-valuemin",`${s()??0}`),K(E,"aria-valuemax",`${i()??0}`),K(E,"aria-valuenow",`${o()??0}`),T(S,o())})),_(a,b),ie()}function ae(e,a=".",t=",",s=",",i=10){if(isNaN(e))return"";const r=e.toFixed(i);let[o,l]=r.split(".");return t&&(o=o.replace(/\B(?=(\d{3})+(?!\d))/g,t)),s&&i>3&&(l=l.replace(/(\d{3})(?=\d)/g,`$1${s}`)),l?`${o}${a}${l}`:o}function xe(e,a=".",t=",",s=",",i=10){if(isNaN(e))return"";let r=e.toExponential(i),[o,l]=r.split("e");o=parseFloat(o).toFixed(i);let[n,d]=o.split(".");s&&i>3&&(d=d.replace(/(\d{3})(?=\d)/g,`$1${s}`)),t&&(n=n.replace(/\B(?=(\d{3})+(?!\d))/g,t)),o=d?`${n}${a}${d}`:n,l=l.replace("+","");let v=parseInt(l);const m={0:"⁰",1:"¹",2:"²",3:"³",4:"⁴",5:"⁵",6:"⁶",7:"⁷",8:"⁸",9:"⁹","-":"⁻"};return`${o}×10${v.toString().split("").map((e=>m[e]||e)).join("")}`}function he(e,a=".",t=",",s=",",i=10){if(isNaN(e))return"";const r=[{value:1e24,symbol:"Y"},{value:1e21,symbol:"Z"},{value:1e18,symbol:"E"},{value:1e15,symbol:"P"},{value:1e12,symbol:"T"},{value:1e9,symbol:"G"},{value:1e6,symbol:"M"},{value:1e3,symbol:"k"},{value:1,symbol:""},{value:.001,symbol:"m"},{value:1e-6,symbol:"μ"},{value:1e-9,symbol:"n"},{value:1e-12,symbol:"p"},{value:1e-15,symbol:"f"},{value:1e-18,symbol:"a"},{value:1e-21,symbol:"z"},{value:1e-24,symbol:"y"}],o=r.find((a=>Math.abs(e)>=a.value))||r[r.length-1],l=(e/o.value).toFixed(i);let[n,d]=l.split(".");return s&&i>3&&(d=d.replace(/(\d{3})(?=\d)/g,`$1${s}`)),t&&(n=n.replace(/\B(?=(\d{3})+(?!\d))/g,t)),`${d?`${n}${a}${d}`:n}${o.symbol}`}function Ne(a,t,s){let i=e(t).find((e=>e.value==a.target.value));s.executeCommands([Q.changeDecimalFormatType,JSON.parse(a.target.value)]),s.executeCommands([Q.changePrecision,i.precision])}var Ee=Z('<div class="flex gap-3 items-center"><div class="w-full"><!></div> <div class="text-end whitespace-nowrap font-bold font-mono w-7"> </div></div>'),$e=Z('<div class="select-item svelte-nnf1f"><label class="svelte-nnf1f"><div class="label-text"><span class="font-bold"> </span> <div class="mt-1 font-mono opacity-70"><!></div></div> <input type="radio" name="decimal-format-radio" class="radio"></label> <!></div>'),Fe=Z('<div class="radio-group-select"></div>');function He(a,t){re(t,!1);const s=ge(),i=()=>te(n,"$decimalFormatType",s),r=()=>te(d,"$precision",s),o=be.getCalculator(),l=o?.calcSettingManager,n=l?.$decimalFormatType,d=l?.$precision;const v=oe([{value:f.NORMAL,display:"Normal mode",number:1231.12345678911},{value:f.FIXED,display:"Fixed mode",number:1231.12345678911,precision:i()===f.FIXED?r():10},{value:f.SCI,display:"Science mode",number:1231.12345678911,precision:i()===f.SCI?r():10},{value:f.ENG,display:"Engineer mode",number:1231.12345678911,precision:i()===f.ENG?r():10},{value:f.ENG_SI,display:"Engineer SI mode",number:1231.12345678911,precision:i()===f.ENG_SI?r():10}]);ne();var m=J(),u=H(m);S(u,(()=>o),(a=>{var t=Fe();me(t,5,(()=>e(v)),ce,((a,t)=>{var s=$e(),r=y(s),l=y(r),n=y(l),d=y(n,!0);g(n);var m=k(n,2),u=y(m);S(u,(()=>e(t).value===f.NORMAL),(a=>{var s=Y();M((()=>T(s,ae(e(t).number,"."," "," ",11)))),_(a,s)}),(a=>{var s=J(),i=H(s);S(i,(()=>e(t).value===f.FIXED),(a=>{var s=Y();M((()=>T(s,ae(e(t).number,"."," "," ",e(t).precision)))),_(a,s)}),(a=>{var s=J(),i=H(s);S(i,(()=>e(t).value===f.SCI||e(t).value===f.ENG),(a=>{var s=Y();M((()=>T(s,xe(e(t).number,"."," "," ",e(t).precision)))),_(a,s)}),(a=>{var s=J(),i=H(s);S(i,(()=>e(t).value===f.ENG_SI),(a=>{var s=Y();M((()=>T(s,he(e(t).number,"."," "," ",e(t).precision)))),_(a,s)}),null,!0),_(a,s)}),!0),_(a,s)}),!0),_(a,s)})),g(m),g(l);var c=k(l,2);ue(c),c.__change=[Ne,v,o],g(r);var p=k(r,2);S(p,(()=>e(t).value!==f.NORMAL),(a=>{var s=Ee(),r=y(s);ye(y(r),{max:10,step:1,min:1,get value(){return e(t).precision},set value(a){e(t).precision=a,de((()=>e(v)))},onchange:a=>function(e,a){a==i()&&o.executeCommands([Q.changePrecision,e])}(a,e(t).value),$$legacy:!0}),g(r);var l=k(r,2),n=y(l,!0);g(l),g(s),M((()=>T(n,e(t).precision))),_(a,s)})),g(s),M((()=>{T(d,e(t).display),ve(c,e(t).value),fe(c,i()===e(t).value)})),_(a,s)})),g(t),_(a,t)})),_(a,m),ie()}pe(["change"]);export{He as default};