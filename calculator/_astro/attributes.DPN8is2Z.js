import{B as v,W as d,X as N,Y as B}from"./hydration.C4XjvPX6.js";import{a as E,i as I,c as O,d as R,b as S,n as G,f as M}from"./utils.Dl187tOt.js";import{a as P,q as Y}from"./task.JD7-Bzk8.js";function W(e){if(v){var t=!1,a=()=>{if(!t){if(t=!0,e.hasAttribute("value")){var a=e.value;h(e,"value",null),e.value=a}if(e.hasAttribute("checked")){var s=e.checked;h(e,"checked",null),e.checked=s}}};e.__on_r=a,P(a),E()}}function X(e,t){var a=e.__attributes??={};a.value===(a.value=t)||e.value===t&&(0!==t||"PROGRESS"!==e.nodeName)||(e.value=t)}function j(e,t){var a=e.__attributes??={};a.checked!==(a.checked=t)&&(e.checked=t)}function h(e,t,a,s){var l=e.__attributes??={};v&&(l[t]=e.getAttribute(t),"src"===t||"srcset"===t||"href"===t&&"LINK"===e.nodeName)||l[t]!==(l[t]=a)&&("style"===t&&"__styles"in e&&(e.__styles={}),"loading"===t&&(e[d]=a),null==a?e.removeAttribute(t):"string"!=typeof a&&q(e).includes(t)?e[t]=a:e.setAttribute(t,a))}function H(e,t,a,s,l=!1,r=!1,n=!1){var i=t||{},u="OPTION"===e.tagName;for(var o in t)o in a||(a[o]=null);var c=q(e),f=e.__attributes??={},_=[];for(const s in a){let n=a[s];if(u&&"value"===s&&null==n)e.value=e.__value="",i[s]=n;else{var d=i[s];if(n!==d){i[s]=n;var m=s[0]+s[1];if("$$"!==m){if("on"===m){const a={},l="$$"+s;let r=s.slice(2);var y=M(r);if(I(r)&&(r=r.slice(0,-7),a.capture=!0),!y&&d){if(null!=n)continue;e.removeEventListener(r,i[l],a),i[l]=null}if(null!=n)if(y)e[`__${r}`]=n,R([r]);else{let u=function(e){i[s].call(this,e)};t?i[l]=O(r,e,u,a):_.push([s,n,()=>i[l]=O(r,e,u,a)])}}else if("style"===s&&null!=n)e.style.cssText=n+"";else if("autofocus"===s)S(e,!!n);else if("__value"===s||"value"===s&&null!=n)e.value=e[s]=e.__value=n;else{var b=s;l||(b=G(b)),null!=n||r?c.includes(b)&&(r||"string"!=typeof n)?e[b]=n:"function"!=typeof n&&(v&&("src"===b||"href"===b||"srcset"===b)||h(e,b,n)):(f[s]=null,e.removeAttribute(s))}"style"===s&&"__styles"in e&&(e.__styles={})}}}}return t||Y((()=>{if(e.isConnected)for(const[e,t,a]of _)i[e]===t&&a()})),i}var $=new Map;function q(e){var t=$.get(e.nodeName);if(t)return t;$.set(e.nodeName,t=[]);for(var a,s=N(e),l=Element.prototype;l!==s;){for(var r in a=B(s))a[r].set&&t.push(r);s=N(s)}return t}function J(e){if(!v&&"lazy"===e.loading){var t=e.src;e[d]=null,e.loading="eager",e.removeAttribute("src"),requestAnimationFrame((()=>{"eager"!==e[d]&&(e.loading="lazy"),e.src=t}))}}export{h as a,j as b,H as c,J as h,W as r,X as s};