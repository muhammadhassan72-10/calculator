var Ch=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports);import{a as ir,i as bn,E as Xn,b as _e,F as oi,r as Js,_ as ai,c as Qt,C as Mh,d as b0,e as Dh}from"./calculator-instance.BXEdjmRH.js";import{X as Kn,E as is}from"./mathlive.min.BsOkRz8Q.js";import{C as f,I as v0,f as Ah,g as Ci,h as Qn,V as Ue}from"./commands.xPwo0_L0.js";import{C as Xe}from"./auth.service.CYhfz_Ml.js";import"./authStore.CN9YIAzg.js";import{I as ar}from"./instance-manager.BK3A94JX.js";import{C as B,M as kh}from"./calculator.const.CKLd4ihy.js";import{C as Eh}from"./CalculatorSessionUtils.yz2CW3RD.js";import{C as Lh}from"./calculator-toast.service.r6FV5G6C.js";import{a as Bh}from"./utils.Cvkh6UQz.js";import{C as h}from"./calculator-mode.enum.CE88Er3y.js";import{a as Fh}from"./feedback.service.DjI9bzGE.js";import"./calc.model.B894CNSn.js";import"./index.BcueH52X.js";import"./hydration.C4XjvPX6.js";import"./utils.B-ZhoiGS.js";import"./utils.Cz7UNdBz.js";import"./clsx.B-dksMZM.js";import"./bundle-mjs.D3-g1QD1.js";import"./environment.BLRScvqL.js";import"./text_unknown_error_occurred.D3589rme.js";import"./runtime.DXWTVdIs.js";import"./text_separator_underscore.Bic0A90h.js";var N3=Ch(((e,t)=>{const r="CALCULATOR_STATE_KEY";class i extends HTMLElement{calcModeScreen;mathModeScreen;calculatorInstance;resultViewMathMode;resultViewCalcMode;_calcModeStep;screenHistoryList;constructor(){super()}_isLoading;get isLoading(){return this._isLoading}set isLoading(e){this._isLoading=e}_displayResult;get displayResult(){return this._displayResult}set displayResult(e){this._displayResult=e}_currentInput;get currentInput(){return this._currentInput}get isFinishedEditSession(){return this.currentInput.clearInNextInsert}set currentInput(e){console.log("SET CURRENT INPUT: ",e.id,this._calcModeStep),this._currentInput=e}_calculatorMainMode;get calculatorMainMode(){return this._calculatorMainMode}_lastEvent;set lastEvent(e){this.onEventDataUpdate(e),this._lastEvent=e}get isMathMode(){return this._calculatorMainMode==ir.MATH_MODE}get isCalcMode(){return this._calculatorMainMode==ir.CALC_MODE}init(){this.mathModeScreen=this.querySelector("screen-math-mode"),this.calcModeScreen=this.querySelector("screen-calc-mode"),this.resultViewMathMode=this.mathModeScreen.resultViewInstance,this.resultViewCalcMode=this.calcModeScreen.resultViewInstance,this.calculatorInstance=ar.getCalculator(),this.screenHistoryList=this.querySelector("screen-history-list"),this.calculatorInstance.calcModeStateManager.$currentStep.subscribe((e=>{console.log("CURRENT STEP CHANGE: ",this._calcModeStep,e),bn(this._calcModeStep,e)||this.onCalcModeStepChange(e)})),this.calculatorInstance.calcSettingManager.$calculatorMainMode.subscribe((e=>{e!=this._calculatorMainMode&&this.onCalculatorMainModeChange(e)})),this.calculatorInstance.eventManager.$eventUpdateSubject.subscribe((e=>{this.onEventDataUpdate(e)})),this.calculatorInstance.eventManager.$newEventCreatedSubject.subscribe((e=>{this.onNewEventCreated(e)})),this.loadSaveDataFromLocalStorage(),this.updateAnsValue({forceNewest:!0})}onEventDataUpdate(e){e&&e.id==this._lastEvent?.id&&(this.displayResult=e.computeResult,this.isLoading=e.status==Xn.WAITING_FOR_COMPUTE_RESULT,console.log("Screen Event Update: ",e,"Loading: ",this.isLoading),this.updateView(this.displayResult,this.isLoading),this.saveStateToLocalStorage())}onCalculatorMainModeChange(e){this._calculatorMainMode!=e&&(this._calculatorMainMode=e,this.isMathMode&&(this._calcModeStep=void 0,this.calcModeScreen.hide(),this.currentInput=this.mathModeScreen.mathInput,this.currentInput.readOnly=!1,this.mathModeScreen.resultViewInstance.show()),this.isCalcMode&&(this.calcModeScreen.show(),this.calcModeScreen.mathInput.clearInNextInsert=!0,this.mathModeScreen.blur(),this.mathModeScreen.resultViewInstance.hide(),this.currentInput=this.calcModeScreen.mathInput),this.calculatorInstance.focusStateManager?.setFocusState({focusElement:this.currentInput.focusElementName}))}onCalcModeStepChange(e){if(this._calcModeStep=e,this.calcModeScreen.currentCalcModeStep=e,null==e)return this.currentInput=this.mathModeScreen.mathInput,void(this.currentInput.readOnly=!1);e?.actions==_e.SHOW_MAIN_MATH_RESULT?(this.currentInput=this.mathModeScreen.mathInput,this.currentInput.readOnly=!1,this.currentInput.clearInNextInsert=!0):e?.actions==_e.CALCULATE_AND_SAVE_VARIABLE_VALUE&&(this.updateAnsValue({forceNewest:!0}),this.mathModeScreen.mathInput.readOnly=!0,this.currentInput=this.calcModeScreen.mathInput,this.mathModeScreen.mathInput.blur(),this.mathModeScreen.resultViewInstance.hide())}_computeResult;get computeResult(){return this._computeResult}updateAnsValue(e){this._lastEvent?.calculateOptions?.calculatorStateSnapshot?.variableValues?.Ans.displayingLatex&&!e?.forceNewest?this.setAnsValue(this._lastEvent?.calculateOptions?.calculatorStateSnapshot?.variableValues?.Ans.displayingLatex):this.setAnsValue(this.calculatorInstance.variableManager.variables?.Ans.displayingLatex)}updateView(e,t){if(this._computeResult=e,console.log("updateView: ",e,"loading",t),this.updateAnsValue(),this.isMathMode)this.calcModeScreen.hide(),t?(this.resultViewMathMode.isLoadingResult=t,this.resultViewMathMode.value=void 0):(this.resultViewMathMode.value=e,this.resultViewMathMode.isLoadingResult=t);else if(this.isCalcMode){let r=this._calcModeStep,i=r?.actions,a=r?.variableName,s=e?.calcModeStep?.actions,n=e?.calcModeStep?.variableName;if(i==_e.CALCULATE_MAIN_MATH_RESULT||i==_e.SHOW_MAIN_MATH_RESULT?(this.resultViewMathMode.isLoadingResult=t,this.resultViewMathMode.show()):(this.resultViewCalcMode.isLoadingResult=t,this.resultViewCalcMode.show(),this.resultViewMathMode.value=void 0),t)return;if(!(i!=_e.SHOW_MAIN_MATH_RESULT&&i!=_e.CALCULATE_MAIN_MATH_RESULT||s!=_e.CALCULATE_MAIN_MATH_RESULT&&s!=_e.SHOW_MAIN_MATH_RESULT))return void(this.resultViewMathMode.value=e);_e.CALCULATE_MAIN_MATH_RESULT_AND_EXIT_CALC_MODE,i==_e.CALCULATE_AND_SAVE_VARIABLE_VALUE&&(this.resultViewCalcMode.value=i!==s||a!==n?void 0:e)}}pushToScreenHistory(){(this.calculatorInstance.isMathMode||this.calculatorInstance.isCalcMode&&this.calculatorInstance.calcModeStateManager.currentStep?.actions===_e.SHOW_MAIN_MATH_RESULT)&&this.calculatorInstance.calcHistoryManager.pushPendingScreenHistoryToList()}clearScreenHistory(){(this.calculatorInstance.isMathMode||this.calculatorInstance.isCalcMode&&this.calculatorInstance.calcModeStateManager.currentStep?.actions===_e.SHOW_MAIN_MATH_RESULT)&&this.currentInput.isEmpty&&this.calculatorInstance.calcHistoryManager.clearScreenHistory()}insert(e){let t=!1;return this.currentInput.clearInNextInsert&&(this.pushToScreenHistory(),this.currentInput.clear(),this.currentInput.clearInNextInsert=!1,t=!0),this.calculatorInstance.focusStateManager.setFocusState({focusElement:this.currentInput.focusElementName}),this.currentInput.insert(e),t&&this.scrollToPosition("input"),this.currentInput.value}clear(){return this.currentInput.clearInNextInsert&&(this.pushToScreenHistory(),this.currentInput.clearInNextInsert=!1),this.clearScreenHistory(),this.currentInput.clear(),this.calculatorInstance.focusStateManager.setFocusState({focusElement:this.currentInput.focusElementName}),this.currentInput.value}delete(){return this.currentInput.clearInNextInsert?(this.pushToScreenHistory(),this.currentInput.clearInNextInsert=!1,this.currentInput.clear(),this.scrollToPosition("input")):this.currentInput.delete(),this.calculatorInstance.focusStateManager.setFocusState({focusElement:this.currentInput.focusElementName}),this.currentInput.value}focus(){super.focus()}blur(){super.blur()}moveCursor(e){this.calculatorInstance.focusStateManager.setFocusState({focusElement:this.currentInput.focusElementName}),this.currentInput.moveCursor(e)}saveStateToLocalStorage(){let e={mathModeInput:this.mathModeScreen.mathInput.value,userUid:this.calculatorInstance.user?.userUid};localStorage.setItem(r,JSON.stringify(e))}getAbsoluteHeight(e){let t=window.getComputedStyle(e),r=parseFloat(t.marginTop)+parseFloat(t.marginBottom);return Math.ceil(e.offsetHeight+r)}scrollToPosition(e){let t=this;if("bottom"===e&&t.scrollTo({top:t.scrollHeight,behavior:"smooth"}),"input"===e){let e=t.mathModeScreen.mathInput.offsetTop;t.currentInput.focusElementName===oi.MATH_MODE_INPUT?e=t.mathModeScreen.offsetTop:t.currentInput.focusElementName===oi.CALC_MODE_INPUT&&(e=t.calcModeScreen.offsetTop),t.scrollTo({top:e,behavior:"instant"})}"resultViewMathMode"===e&&t.scrollTo({top:t.mathModeScreen.resultViewInstance.offsetTop-8,behavior:"smooth"}),"resultViewCalcMode"===e&&t.scrollTo({top:t.calcModeScreen.resultViewInstance.offsetTop-8,behavior:"smooth"})}loadSaveDataFromLocalStorage(){let e=localStorage.getItem(r);if(e&&e.length>0)try{let t=JSON.parse(e);this.calculatorInstance.user?.userUid==t.userUid&&(this.mathModeScreen.mathInput.value=t.mathModeInput)}catch(e){console.error("loadSaveDataFromLocalStorage ",e)}}onNewEventCreated(e){e&&(this.lastEvent=e,e.status==Xn.COMPLETED&&!e.computeResult&&(this.displayResult=void 0,this.isLoading=void 0,this.updateView(this.displayResult,this.isLoading)))}setAnsValue(e){this.mathModeScreen.mathInput.ansValue=e,this.calcModeScreen.mathInput.ansValue=e}}class a extends HTMLElement{dialogElement;calculator;calculatorService=Lh.getInstance();resultObject;loading=!0;resultFormatList;listContainer;itemTemplate;loadingElement;constructor(){super(),this.dialogElement=this.querySelector("dialog"),this.loadingElement=this.querySelector('[data-type="loading"]'),this.itemTemplate=this.querySelector('[data-type="template"]'),this.listContainer=this.querySelector("ul"),this.querySelector('[value="close"]').addEventListener("click",(()=>{this.close()}))}set data(e){this.resultObject=e,this.fetchData(),this.render()}init(e){this.calculator=e,this.dialogElement.addEventListener("close",(()=>{this.calculator.focusStateManager.restoreFocusState()})),Js(this.listContainer,(e=>{console.log("Visible: ",e)}))}close(){this.dialogElement.close()}show(){this.dialogElement.showModal()}fetchData(){this.loading=!0;let e=this.calculator.calcSettingManager;this.calculatorService.getResultFormats(this.resultObject,{calculationType:e.calculationType,angleUnit:e.angleUnit},{decimalFormatType:e.decimalFormatType,normalPrecision:e.precision,sciencePrecision:e.precision,engPrecision:e.precision,fixPrecision:e.precision,useDecimalPointSeparator:e.useDecimalPointSeparator,thousandSeparatorChar:e.thousandSeparatorChar,thousandthSeparatorChar:e.thousandthSeparatorChar,useIndianStyleOfDigitGrouping:e.useIndianStyleOfDigitGrouping,scientificNotationType:e.scientificNotationType}).then((e=>{this.loading=!1,this.resultFormatList=e.data.alternativeForms,this.render()}))}renderLoading(e){this.loadingElement.style.display=e?"block":"none",this.listContainer.style.display=e?"none":"block"}getNewItem(e){let t=this.itemTemplate.cloneNode(!0);return t.querySelector('[data-type="result-name"]').textContent=Bh(e.resultName),t.querySelector("math-view").value=e.displayResultLatex,t.style.display="block",t}render(){this.renderLoading(this.loading),this.listContainer.innerHTML="",this.loading||this.resultFormatList.forEach((e=>{this.listContainer.appendChild(this.getNewItem(e))}))}get open(){return this.dialogElement.open}}class s extends HTMLElement{dialogElement;calculator;listContainer;preventInteract=!1;constructor(){super(),this.dialogElement=this.querySelector("dialog"),this.listContainer=this.querySelector("ul"),this.querySelector('[value="close"]').addEventListener("click",(()=>{this.close()}))}init(e){this.calculator=e,this.dialogElement.addEventListener("close",(()=>{this.calculator.focusStateManager.restoreFocusState()})),this.querySelector("ul").querySelectorAll("[data-code]").forEach((t=>{t.addEventListener("click",(()=>{this.preventInteract||(e.executeCommands([f.insert,t.getAttribute("data-code"),{valueType:v0.SCIENTIFIC_CONSTANT}]),e.executeCommands([f.openScientificConstantsDialog,!1]))}))}))}close(){this.dialogElement.close()}show(){this.preventInteract=!0,setTimeout((()=>{this.preventInteract=!1}),300),this.dialogElement.showModal()}get open(){return this.dialogElement.open}}class n extends HTMLElement{dialogElement;calculator;listContainer;preventInteract=!0;constructor(){super(),this.dialogElement=this.querySelector("dialog"),this.listContainer=this.querySelector("ul"),this.querySelector('[value="close"]').addEventListener("click",(()=>{this.close()}))}init(e){this.calculator=e,this.dialogElement.addEventListener("close",(()=>{this.calculator.focusStateManager.restoreFocusState()})),this.querySelector("ul").querySelectorAll("[data-code]").forEach((t=>{t.addEventListener("click",(()=>{this.preventInteract||(e.executeCommands([f.insert,t.getAttribute("data-code"),{valueType:v0.METRIC_CONVERSION}]),e.executeCommands([f.openMetricConversionsDialog,!1]))}))}))}close(){this.dialogElement.close()}show(){this.preventInteract=!0,setTimeout((()=>{this.preventInteract=!1}),300),this.dialogElement.showModal()}get open(){return this.dialogElement.open}}class o extends HTMLElement{dialogElement;calculator;listContainer;preventInteract=!0;constructor(){super(),this.dialogElement=this.querySelector("dialog"),this.listContainer=this.querySelector("ul"),this.querySelector('[value="close"]').addEventListener("click",(()=>{this.close()}))}init(e){this.calculator=e,this.dialogElement.addEventListener("close",(()=>{this.calculator.focusStateManager.restoreFocusState()})),this.listContainer.querySelectorAll("[data-code]").forEach((t=>{t.addEventListener("click",(()=>{this.preventInteract||(e.executeCommands([f.insert,t.getAttribute("data-code")]),e.executeCommands([f.openHypDialog,!1]))}))}))}close(){this.dialogElement.close()}show(){this.preventInteract=!0,setTimeout((()=>{this.preventInteract=!1}),300),this.dialogElement.showModal()}get open(){return this.dialogElement.open}}class l extends HTMLElement{dialogElement;calculator;listContainer;preventInteract=!0;constructor(){super(),this.dialogElement=this.querySelector("dialog"),this.listContainer=this.querySelector("ul"),this.querySelector('[value="close"]').addEventListener("click",(()=>{this.close()}))}init(e){this.calculator=e,this.dialogElement.addEventListener("close",(()=>{this.calculator.focusStateManager.restoreFocusState()})),this.listContainer.querySelectorAll("[data-code]").forEach((t=>{t.addEventListener("click",(()=>{if(this.preventInteract)return;let r=t.getAttribute("data-code");r.startsWith("TokenTemplate.")&&(r=Ah[r.replace("TokenTemplate.","")]),e.executeCommands([f.insert,r]),e.executeCommands([f.openCMPLXDialog,!1])}))}))}close(){this.dialogElement.close()}show(){this.preventInteract=!0,setTimeout((()=>{this.preventInteract=!1}),300),this.dialogElement.showModal()}get open(){return this.dialogElement.open}}class c extends HTMLElement{changeLayoutForm;constructor(){super()}}class u extends HTMLElement{mathInput;resultViewInstance;constructor(){super()}init(){this.mathInput=this.querySelector("math-input"),this.resultViewInstance=this.querySelector("result-view"),this.resultViewInstance.init(ar.getCalculator()),this.mathInput.focusElementName=oi.MATH_MODE_INPUT}set value(e){throw new Error("Method not implemented.")}show(){this.mathInput.show(),this.resultViewInstance.show()}hide(){}focus(){this.mathInput.focus()}blur(){this.mathInput.blur()}}var d=Object.defineProperty,m=Object.defineProperties,p=Object.getOwnPropertyDescriptors,g=Object.getOwnPropertySymbols,y=Object.prototype.hasOwnProperty,b=Object.prototype.propertyIsEnumerable,v=(e,t,r)=>t in e?d(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,w=(e,t)=>{for(var r in t||(t={}))y.call(t,r)&&v(e,r,t[r]);if(g)for(var r of g(t))b.call(t,r)&&v(e,r,t[r]);return e},_=(e,t)=>m(e,p(t)),S=[0,.68889,0,0,.72222],x=[0,.68889,0,0,.66667],M=[0,.68889,0,0,.77778],k=[0,.68889,0,0,.61111],L=[.16667,.68889,0,0,.77778],A=[0,.68889,0,0,.55556],C=[0,0,0,0,.25],T=[0,.825,0,0,2.33334],D=[0,.9,0,0,2.33334],E=[0,.68889,0,0,.54028],F=[-.03598,.46402,0,0,.5],I=[-.13313,.36687,0,0,1],P=[.01354,.52239,0,0,1],z=[.01354,.52239,0,0,1.11111],O=[0,.54986,0,0,1],R=[0,.69224,0,0,.5],q=[0,.43056,0,0,1],$=[.08198,.58198,0,0,.77778],V=[.19444,.69224,0,0,.41667],H=[.1808,.675,0,0,1],N=[.19444,.69224,0,0,.83334],U=[.13667,.63667,0,0,1],Y=[-.064,.437,0,0,1.334],j=[.08167,.58167,0,0,.77778],W=[0,.69224,0,0,.72222],G=[0,.69224,0,0,.66667],J=[-.13313,.36687,0,0,.77778],X=[.06062,.54986,0,0,.77778],Z=[0,.69224,0,0,.77778],K=[.25583,.75583,0,0,.77778],Q=[.25142,.75726,0,0,.77778],ee=[.20576,.70576,0,0,.77778],te=[.30274,.79383,0,0,.77778],re=[.22958,.72958,0,0,.77778],ie=[.1808,.675,0,0,.77778],ae=[.13667,.63667,0,0,.77778],se=[.13597,.63597,0,0,.77778],ne=[.03517,.54986,0,0,.77778],oe=[0,.675,0,0,.77778],le=[.19444,.69224,0,0,.61111],ce=[0,.54986,0,0,.76042],ue=[0,.54986,0,0,.66667],he=[.0391,.5391,0,0,.77778],de=[.03517,.54986,0,0,1.33334],me=[.38569,.88569,0,0,.77778],pe=[.23222,.74111,0,0,.77778],ge=[.19444,.69224,0,0,.77778],fe=[0,.37788,0,0,.5],ye=[0,.54986,0,0,.72222],be=[0,.69224,0,0,.83334],ve=[.11111,.69224,0,0,.66667],we=[.26167,.75726,0,0,.77778],Se=[.48256,.98256,0,0,.77778],xe=[.28481,.79383,0,0,.77778],Me=[.08167,.58167,0,0,.22222],ke=[.08167,.58167,0,0,.38889],Le=[0,.43056,.04028,0,.66667],Ae=[.41951,.91951,0,0,.77778],Ce=[.24982,.74947,0,0,.38865],Te=[.08319,.58283,0,0,.75623],De=[0,.10803,0,0,.27764],Ee=[0,.47534,0,0,.50181],Fe=[.18906,.47534,0,0,.50181],Ie=[0,.69141,0,0,.50181],Pe=[.24982,.74947,0,0,.27764],ze=[0,.69141,0,0,.21471],Be=[.25,.75,0,0,.44722],Oe=[0,.64444,0,0,.575],Re=[.08556,.58556,0,0,.89444],qe=[0,.69444,0,0,.89444],$e=[0,.68611,0,0,.9],Ve=[0,.68611,0,0,.86944],He=[.25,.75,0,0,.575],Ne=[.25,.75,0,0,.31944],Ye=[0,.69444,0,0,.63889],je=[0,.69444,0,0,.31944],We=[0,.44444,0,0,.63889],Ge=[0,.44444,0,0,.51111],Je=[0,.69444,0,0,.575],Ze=[.13333,.63333,0,0,.89444],Ke=[0,.44444,0,0,.31944],Qe=[0,.69444,0,0,.86944],et=[0,.68611,0,0,.69166],tt=[0,.68611,0,0,.83055],rt=[0,.68611,0,0,.89444],it=[0,.69444,0,0,.60278],at=[.19444,.69444,0,0,.51111],st=[0,.69444,0,0,.83055],nt=[-.10889,.39111,0,0,1.14999],ot=[.19444,.69444,0,0,.575],lt=[.19444,.69444,0,0,1.14999],ct=[.19444,.69444,0,0,.70277],ut=[.05556,.75,0,0,.575],ht=[0,.68611,0,0,.95833],dt=[.08556,.58556,0,0,.76666],mt=[-.02639,.47361,0,0,.575],pt=[0,.44444,0,0,.89444],gt=[0,.55556,0,0,.76666],ft=[-.10889,.39111,0,0,.89444],yt=[.00222,.50222,0,0,.89444],bt=[.19667,.69667,0,0,.89444],vt=[.08556,.58556,0,0,1.14999],wt=[0,.69444,0,0,.70277],_t=[-.02778,.47222,0,0,.575],St=[.25,.75,0,0,.51111],xt=[-.13889,.36111,0,0,1.14999],Mt=[.19444,.69444,0,0,1.02222],kt=[.12963,.69444,0,0,.89444],Lt=[.19444,.69444,0,0,.44722],At=[0,.64444,.13167,0,.59111],Ct=[.19444,.64444,.13167,0,.59111],Tt=[0,.68611,.17208,0,.8961],Dt=[.19444,.44444,.105,0,.53222],Et=[0,.44444,.085,0,.82666],Ft=[0,.69444,.06709,0,.59111],It=[0,.69444,.12945,0,.35555],Pt=[0,.69444,0,0,.94888],zt=[0,.69444,.11472,0,.59111],Bt=[0,.68611,.10778,0,.88555],Ot=[0,.69444,.07939,0,.62055],Rt=[0,.69444,.12417,0,.30667],qt=[0,.64444,.13556,0,.51111],$t=[.19444,.64444,.13556,0,.51111],Vt=[0,.68333,.16389,0,.74333],Ht=[.19444,.43056,.08847,0,.46],Nt=[0,.43056,.07514,0,.71555],Ut=[0,.69444,.06646,0,.51111],Yt=[0,.69444,0,0,.83129],jt=[0,.69444,.1225,0,.51111],Wt=[0,.68333,.09403,0,.76666],Gt=[0,.68333,.11111,0,.76666],Jt=[0,.69444,.06961,0,.51444],Xt=[0,.69444,0,0,.27778],Zt=[.25,.75,0,0,.38889],Kt=[0,.64444,0,0,.5],er=[0,.69444,0,0,.77778],tr=[0,.68333,0,0,.75],rr=[0,.68333,0,0,.77778],sr=[0,.68333,0,0,.68056],nr=[0,.68333,0,0,.72222],or=[.25,.75,0,0,.5],lr=[.25,.75,0,0,.27778],cr=[0,.69444,0,0,.5],ur=[0,.69444,0,0,.55556],hr=[0,.43056,0,0,.44445],dr=[0,.43056,0,0,.5],mr=[.19444,.43056,0,0,.55556],pr=[0,.43056,0,0,.55556],gr=[.08333,.58333,0,0,.77778],fr=[0,.43056,0,0,.27778],yr=[0,.66786,0,0,.27778],br=[0,.69444,0,0,.75],vr=[0,.66786,0,0,.5],wr=[0,.68333,0,0,.625],_r=[.19444,.69444,0,0,.44445],Sr=[0,.69444,0,0,.72222],xr=[.19444,.69444,0,0,.5],Mr=[.19444,.69444,0,0,1],kr=[.011,.511,0,0,1.126],Lr=[.19444,.69444,0,0,.61111],Ar=[.05556,.75,0,0,.5],Cr=[0,.68333,0,0,.83334],Tr=[.0391,.5391,0,0,.66667],Dr=[-.05555,.44445,0,0,.5],Er=[0,.43056,0,0,.77778],Fr=[0,.55556,0,0,.66667],Ir=[-.03625,.46375,0,0,.77778],Pr=[-.01688,.48312,0,0,.77778],zr=[.0391,.5391,0,0,1],Br=[0,.69444,0,0,.61111],Or=[-.03472,.46528,0,0,.5],Rr=[.25,.75,0,0,.44445],qr=[-.14236,.35764,0,0,1],$r=[.244,.744,0,0,.412],Vr=[.19444,.69444,0,0,.88889],Hr=[.12963,.69444,0,0,.77778],Nr=[.19444,.69444,0,0,.38889],Ur=[.011,.511,0,0,1.638],Yr=[.19444,.69444,0,0,0],jr=[0,.44444,0,0,.575],Wr=[.19444,.44444,0,0,.575],Gr=[0,.68611,0,0,.75555],Jr=[0,.69444,0,0,.66759],Xr=[0,.68611,0,0,.80555],Zr=[0,.68611,.08229,0,.98229],Kr=[0,.68611,0,0,.76666],Qr=[0,.44444,0,0,.58472],ei=[.19444,.44444,0,0,.6118],ti=[.19444,.43056,0,0,.5],ri=[0,.68333,.02778,.08334,.76278],ii=[0,.68333,.08125,.05556,.83125],si=[0,.43056,0,.05556,.48472],ni=[.19444,.43056,0,.08334,.51702],li=[.25,.75,0,0,.42778],ci=[0,.69444,0,0,.55],ui=[0,.69444,0,0,.73334],hi=[0,.69444,0,0,.79445],di=[0,.69444,0,0,.51945],mi=[0,.69444,0,0,.70278],pi=[0,.69444,0,0,.76389],gi=[.25,.75,0,0,.34306],fi=[0,.69444,0,0,.56111],yi=[0,.69444,0,0,.25556],bi=[.19444,.45833,0,0,.56111],vi=[0,.45833,0,0,.56111],wi=[0,.69444,0,0,.30556],_i=[0,.69444,0,0,.58056],Si=[0,.69444,0,0,.67223],xi=[0,.69444,0,0,.85556],Mi=[0,.69444,0,0,.55834],ki=[0,.65556,.11156,0,.5],Li=[0,.69444,.08094,0,.70834],Ai=[.17014,0,0,0,.44445],Ti=[0,.69444,.0799,0,.5],Di=[0,.69444,0,0,.73752],Ei=[0,.69444,.09205,0,.5],Fi=[0,.69444,.09031,0,.77778],Ii=[0,.69444,.07816,0,.27778],Pi=[0,.69444,.00316,0,.5],zi=[.19444,.69444,0,0,.83334],Bi=[.05556,.75,0,0,.83334],Oi=[0,.75,0,0,.5],Ri=[.125,.08333,0,0,.27778],qi=[0,.08333,0,0,.27778],$i=[0,.65556,0,0,.5],Vi=[0,.69444,0,0,.47222],Hi=[0,.69444,0,0,.66667],Ni=[0,.69444,0,0,.59722],Ui=[0,.69444,0,0,.54167],Yi=[0,.69444,0,0,.70834],ji=[.25,.75,0,0,.28889],Wi=[0,.69444,0,0,.51667],Gi=[0,.44444,0,0,.44445],Ji=[.19444,.44444,0,0,.51667],Xi=[0,.44444,0,0,.38333],Zi=[0,.44444,0,0,.51667],Ki=[0,.69444,0,0,.83334],Qi=[.35001,.85,0,0,.45834],ea=[.35001,.85,0,0,.57778],ta=[.35001,.85,0,0,.41667],ra=[.35001,.85,0,0,.58334],ia=[0,.72222,0,0,.55556],aa=[1e-5,.6,0,0,.66667],sa=[1e-5,.6,0,0,.77778],na=[.25001,.75,0,0,.94445],oa=[.306,.805,.19445,0,.47222],la=[.30612,.805,.19445,0,.47222],ca=[.25001,.75,0,0,.83334],ua=[.35001,.85,0,0,.47222],ha=[.25001,.75,0,0,1.11111],da=[.65002,1.15,0,0,.59722],ma=[.65002,1.15,0,0,.81111],pa=[.65002,1.15,0,0,.47222],ga=[.65002,1.15,0,0,.66667],fa=[0,.75,0,0,1],ya=[.55001,1.05,0,0,1.27778],ba=[.862,1.36,.44445,0,.55556],va=[.86225,1.36,.44445,0,.55556],wa=[.55001,1.05,0,0,1.11111],_a=[.65002,1.15,0,0,.52778],Sa=[.65002,1.15,0,0,.61111],xa=[.55001,1.05,0,0,1.51112],Ma=[.95003,1.45,0,0,.73611],ka=[.95003,1.45,0,0,1.04445],La=[.95003,1.45,0,0,.52778],Aa=[.95003,1.45,0,0,.75],Ca=[0,.75,0,0,1.44445],Ta=[.95003,1.45,0,0,.58334],Da=[1.25003,1.75,0,0,.79167],Ea=[1.25003,1.75,0,0,1.27778],Fa=[1.25003,1.75,0,0,.58334],Ia=[1.25003,1.75,0,0,.80556],Pa=[0,.825,0,0,1.8889],za=[1.25003,1.75,0,0,.63889],Ba=[.64502,1.155,0,0,.875],Oa=[1e-5,.6,0,0,.875],Ra=[-99e-5,.601,0,0,.66667],qa=[.64502,1.155,0,0,.66667],$a=[1e-5,.9,0,0,.88889],Va=[.65002,1.15,0,0,.88889],Ha=[.90001,0,0,0,.88889],Na=[-.00499,.605,0,0,1.05556],Ua=[0,.12,0,0,.45],Ya=[0,.61111,0,0,.525],ja=[.08333,.69444,0,0,.525],Wa=[-.08056,.53055,0,0,.525],Ga=[-.05556,.55556,0,0,.525],Ja=[0,.43056,0,0,.525],Xa=[.22222,.43056,0,0,.525],Za=[0,0,0,0,.525],Ka={"AMS-Regular":{32:C,65:S,66:x,67:S,68:S,69:x,70:k,71:M,72:M,73:[0,.68889,0,0,.38889],74:[.16667,.68889,0,0,.5],75:M,76:x,77:[0,.68889,0,0,.94445],78:S,79:L,80:k,81:L,82:S,83:A,84:x,85:S,86:S,87:[0,.68889,0,0,1],88:S,89:S,90:x,107:A,160:C,165:[0,.675,.025,0,.75],174:[.15559,.69224,0,0,.94666],240:A,295:E,710:T,732:D,770:T,771:D,989:j,1008:Le,8245:[0,.54986,0,0,.275],8463:E,8487:S,8498:A,8502:x,8503:[0,.68889,0,0,.44445],8504:x,8513:[0,.68889,0,0,.63889],8592:F,8594:F,8602:I,8603:I,8606:P,8608:P,8610:z,8611:z,8619:O,8620:O,8621:[-.13313,.37788,0,0,1.38889],8622:I,8624:R,8625:R,8630:q,8631:q,8634:$,8635:$,8638:V,8639:V,8642:V,8643:V,8644:H,8646:H,8647:H,8648:N,8649:H,8650:N,8651:P,8652:P,8653:I,8654:I,8655:I,8666:U,8667:U,8669:[-.13313,.37788,0,0,1],8672:Y,8674:Y,8705:[0,.825,0,0,.5],8708:A,8709:j,8717:[0,.43056,0,0,.42917],8722:F,8724:[.08198,.69224,0,0,.77778],8726:j,8733:Z,8736:W,8737:W,8738:[.03517,.52239,0,0,.72222],8739:Me,8740:[.25142,.74111,0,0,.27778],8741:ke,8742:[.25142,.74111,0,0,.5],8756:G,8757:G,8764:J,8765:[-.13313,.37788,0,0,.77778],8769:J,8770:Ir,8774:te,8776:Pr,8778:j,8782:X,8783:X,8785:$,8786:$,8787:$,8790:Z,8791:re,8796:[.08198,.91667,0,0,.77778],8806:K,8807:K,8808:Q,8809:Q,8812:[.25583,.75583,0,0,.5],8814:ee,8815:ee,8816:te,8817:te,8818:re,8819:re,8822:ie,8823:ie,8828:ae,8829:ae,8830:re,8831:re,8832:ee,8833:ee,8840:te,8841:te,8842:se,8843:se,8847:ne,8848:ne,8858:$,8859:$,8861:$,8862:oe,8863:oe,8864:oe,8865:oe,8872:[0,.69224,0,0,.61111],8873:W,8874:[0,.69224,0,0,.88889],8876:k,8877:k,8878:S,8879:S,8882:ne,8883:ne,8884:ae,8885:ae,8888:[0,.54986,0,0,1.11111],8890:mr,8891:le,8892:le,8901:[0,.54986,0,0,.27778],8903:j,8905:j,8906:j,8907:Z,8908:Z,8909:[-.03598,.46402,0,0,.77778],8910:ce,8911:ce,8912:ne,8913:ne,8914:ue,8915:ue,8916:G,8918:he,8919:he,8920:de,8921:de,8922:me,8923:me,8926:ae,8927:ae,8928:te,8929:te,8934:pe,8935:pe,8936:pe,8937:pe,8938:ee,8939:ee,8940:te,8941:te,8994:ge,8995:ge,9416:[.15559,.69224,0,0,.90222],9484:R,9488:R,9492:fe,9496:fe,9585:[.19444,.68889,0,0,.88889],9586:[.19444,.74111,0,0,.88889],9632:oe,9633:oe,9650:ye,9651:ye,9654:ne,9660:ye,9661:ye,9664:ne,9674:ve,9733:[.19444,.69224,0,0,.94445],10003:be,10016:be,10731:ve,10846:[.19444,.75583,0,0,.61111],10877:ae,10878:ae,10885:K,10886:K,10887:se,10888:se,10889:we,10890:we,10891:Se,10892:Se,10901:ae,10902:ae,10933:Q,10934:Q,10935:we,10936:we,10937:we,10938:we,10949:K,10950:K,10955:xe,10956:xe,57350:Me,57351:ke,57352:j,57353:Le,57356:Q,57357:Q,57358:Ae,57359:te,57360:te,57361:Ae,57366:Q,57367:Q,57368:Q,57369:Q,57370:se,57371:se},"Caligraphic-Regular":{32:C,65:[0,.68333,0,.19445,.79847],66:[0,.68333,.03041,.13889,.65681],67:[0,.68333,.05834,.13889,.52653],68:[0,.68333,.02778,.08334,.77139],69:[0,.68333,.08944,.11111,.52778],70:[0,.68333,.09931,.11111,.71875],71:[.09722,.68333,.0593,.11111,.59487],72:[0,.68333,.00965,.11111,.84452],73:[0,.68333,.07382,0,.54452],74:[.09722,.68333,.18472,.16667,.67778],75:[0,.68333,.01445,.05556,.76195],76:[0,.68333,0,.13889,.68972],77:[0,.68333,0,.13889,1.2009],78:[0,.68333,.14736,.08334,.82049],79:[0,.68333,.02778,.11111,.79611],80:[0,.68333,.08222,.08334,.69556],81:[.09722,.68333,0,.11111,.81667],82:[0,.68333,0,.08334,.8475],83:[0,.68333,.075,.13889,.60556],84:[0,.68333,.25417,0,.54464],85:[0,.68333,.09931,.08334,.62583],86:[0,.68333,.08222,0,.61278],87:[0,.68333,.08222,.08334,.98778],88:[0,.68333,.14643,.13889,.7133],89:[.09722,.68333,.08222,.08334,.66834],90:[0,.68333,.07944,.13889,.72473],160:C},"Fraktur-Regular":{32:C,33:[0,.69141,0,0,.29574],34:ze,38:[0,.69141,0,0,.73786],39:[0,.69141,0,0,.21201],40:Ce,41:Ce,42:[0,.62119,0,0,.27764],43:Te,44:De,45:Te,46:De,47:[.24982,.74947,0,0,.50181],48:Ee,49:Ee,50:Ee,51:Fe,52:Fe,53:Fe,54:Ie,55:Fe,56:Ie,57:Fe,58:[0,.47534,0,0,.21606],59:[.12604,.47534,0,0,.21606],61:[-.13099,.36866,0,0,.75623],63:[0,.69141,0,0,.36245],65:[0,.69141,0,0,.7176],66:[0,.69141,0,0,.88397],67:[0,.69141,0,0,.61254],68:[0,.69141,0,0,.83158],69:[0,.69141,0,0,.66278],70:[.12604,.69141,0,0,.61119],71:[0,.69141,0,0,.78539],72:[.06302,.69141,0,0,.7203],73:[0,.69141,0,0,.55448],74:[.12604,.69141,0,0,.55231],75:[0,.69141,0,0,.66845],76:[0,.69141,0,0,.66602],77:[0,.69141,0,0,1.04953],78:[0,.69141,0,0,.83212],79:[0,.69141,0,0,.82699],80:[.18906,.69141,0,0,.82753],81:[.03781,.69141,0,0,.82699],82:[0,.69141,0,0,.82807],83:[0,.69141,0,0,.82861],84:[0,.69141,0,0,.66899],85:[0,.69141,0,0,.64576],86:[0,.69141,0,0,.83131],87:[0,.69141,0,0,1.04602],88:[0,.69141,0,0,.71922],89:[.18906,.69141,0,0,.83293],90:[.12604,.69141,0,0,.60201],91:Pe,93:Pe,94:[0,.69141,0,0,.49965],97:[0,.47534,0,0,.50046],98:[0,.69141,0,0,.51315],99:[0,.47534,0,0,.38946],100:[0,.62119,0,0,.49857],101:[0,.47534,0,0,.40053],102:[.18906,.69141,0,0,.32626],103:[.18906,.47534,0,0,.5037],104:[.18906,.69141,0,0,.52126],105:[0,.69141,0,0,.27899],106:[0,.69141,0,0,.28088],107:[0,.69141,0,0,.38946],108:[0,.69141,0,0,.27953],109:[0,.47534,0,0,.76676],110:[0,.47534,0,0,.52666],111:[0,.47534,0,0,.48885],112:[.18906,.52396,0,0,.50046],113:[.18906,.47534,0,0,.48912],114:[0,.47534,0,0,.38919],115:[0,.47534,0,0,.44266],116:[0,.62119,0,0,.33301],117:[0,.47534,0,0,.5172],118:[0,.52396,0,0,.5118],119:[0,.52396,0,0,.77351],120:[.18906,.47534,0,0,.38865],121:[.18906,.47534,0,0,.49884],122:[.18906,.47534,0,0,.39054],160:C,8216:ze,8217:ze,58112:[0,.62119,0,0,.49749],58113:[0,.62119,0,0,.4983],58114:[.18906,.69141,0,0,.33328],58115:[.18906,.69141,0,0,.32923],58116:[.18906,.47534,0,0,.50343],58117:[0,.69141,0,0,.33301],58118:[0,.62119,0,0,.33409],58119:[0,.47534,0,0,.50073]},"Main-Bold":{32:C,33:[0,.69444,0,0,.35],34:it,35:[.19444,.69444,0,0,.95833],36:ut,37:[.05556,.75,0,0,.95833],38:qe,39:je,40:Be,41:Be,42:[0,.75,0,0,.575],43:Ze,44:[.19444,.15556,0,0,.31944],45:Xi,46:[0,.15556,0,0,.31944],47:He,48:Oe,49:Oe,50:Oe,51:Oe,52:Oe,53:Oe,54:Oe,55:Oe,56:Oe,57:Oe,58:Ke,59:[.19444,.44444,0,0,.31944],60:Re,61:ft,62:Re,63:[0,.69444,0,0,.54305],64:qe,65:Ve,66:[0,.68611,0,0,.81805],67:tt,68:[0,.68611,0,0,.88194],69:Gr,70:[0,.68611,0,0,.72361],71:[0,.68611,0,0,.90416],72:$e,73:[0,.68611,0,0,.43611],74:[0,.68611,0,0,.59444],75:[0,.68611,0,0,.90138],76:et,77:[0,.68611,0,0,1.09166],78:$e,79:[0,.68611,0,0,.86388],80:[0,.68611,0,0,.78611],81:[.19444,.68611,0,0,.86388],82:[0,.68611,0,0,.8625],83:[0,.68611,0,0,.63889],84:[0,.68611,0,0,.8],85:[0,.68611,0,0,.88472],86:[0,.68611,.01597,0,.86944],87:[0,.68611,.01597,0,1.18888],88:Ve,89:[0,.68611,.02875,0,.86944],90:[0,.68611,0,0,.70277],91:Ne,92:He,93:Ne,94:Je,95:[.31,.13444,.03194,0,.575],97:[0,.44444,0,0,.55902],98:Ye,99:Ge,100:Ye,101:[0,.44444,0,0,.52708],102:[0,.69444,.10903,0,.35139],103:[.19444,.44444,.01597,0,.575],104:Ye,105:je,106:[.19444,.69444,0,0,.35139],107:[0,.69444,0,0,.60694],108:je,109:[0,.44444,0,0,.95833],110:We,111:jr,112:[.19444,.44444,0,0,.63889],113:[.19444,.44444,0,0,.60694],114:[0,.44444,0,0,.47361],115:[0,.44444,0,0,.45361],116:[0,.63492,0,0,.44722],117:We,118:[0,.44444,.01597,0,.60694],119:[0,.44444,.01597,0,.83055],120:[0,.44444,0,0,.60694],121:[.19444,.44444,.01597,0,.60694],122:Ge,123:He,124:Ne,125:He,126:[.35,.34444,0,0,.575],160:C,163:[0,.69444,0,0,.86853],168:Je,172:[0,.44444,0,0,.76666],176:Qe,177:Ze,184:[.17014,0,0,0,.51111],198:[0,.68611,0,0,1.04166],215:Ze,216:[.04861,.73472,0,0,.89444],223:Ni,230:[0,.44444,0,0,.83055],247:Ze,248:[.09722,.54167,0,0,.575],305:Ke,338:[0,.68611,0,0,1.16944],339:pt,567:[.19444,.44444,0,0,.35139],710:Je,711:[0,.63194,0,0,.575],713:[0,.59611,0,0,.575],714:Je,715:Je,728:Je,729:je,730:Qe,732:Je,733:Je,915:et,916:ht,920:rt,923:Xr,926:Kr,928:$e,931:tt,933:rt,934:tt,936:rt,937:tt,8211:[0,.44444,.03194,0,.575],8212:[0,.44444,.03194,0,1.14999],8216:je,8217:je,8220:it,8221:it,8224:at,8225:at,8242:[0,.55556,0,0,.34444],8407:[0,.72444,.15486,0,.575],8463:Jr,8465:st,8467:[0,.69444,0,0,.47361],8472:[.19444,.44444,0,0,.74027],8476:st,8501:wt,8592:nt,8593:ot,8594:nt,8595:ot,8596:nt,8597:He,8598:lt,8599:lt,8600:lt,8601:lt,8636:nt,8637:nt,8640:nt,8641:nt,8656:nt,8657:ct,8658:nt,8659:ct,8660:nt,8661:[.25,.75,0,0,.70277],8704:Ye,8706:[0,.69444,.06389,0,.62847],8707:Ye,8709:ut,8711:ht,8712:dt,8715:dt,8722:Ze,8723:Ze,8725:He,8726:He,8727:_t,8728:mt,8729:mt,8730:[.18,.82,0,0,.95833],8733:pt,8734:[0,.44444,0,0,1.14999],8736:W,8739:Ne,8741:He,8743:gt,8744:gt,8745:gt,8746:gt,8747:[.19444,.69444,.12778,0,.56875],8764:ft,8768:[.19444,.69444,0,0,.31944],8771:yt,8776:[.02444,.52444,0,0,.89444],8781:yt,8801:yt,8804:bt,8805:bt,8810:vt,8811:vt,8826:Re,8827:Re,8834:Re,8835:Re,8838:bt,8839:bt,8846:gt,8849:bt,8850:bt,8851:gt,8852:gt,8853:Ze,8854:Ze,8855:Ze,8856:Ze,8857:Ze,8866:wt,8867:wt,8868:qe,8869:qe,8900:mt,8901:[-.02639,.47361,0,0,.31944],8902:_t,8968:St,8969:St,8970:St,8971:St,8994:xt,8995:xt,9651:Mt,9657:_t,9661:Mt,9667:_t,9711:lt,9824:kt,9825:kt,9826:kt,9827:kt,9837:[0,.75,0,0,.44722],9838:Lt,9839:Lt,10216:Be,10217:Be,10815:$e,10927:bt,10928:bt,57376:Yr},"Main-BoldItalic":{32:C,33:[0,.69444,.11417,0,.38611],34:Ot,35:[.19444,.69444,.06833,0,.94444],37:[.05556,.75,.12861,0,.94444],38:[0,.69444,.08528,0,.88555],39:It,40:[.25,.75,.15806,0,.47333],41:[.25,.75,.03306,0,.47333],42:[0,.75,.14333,0,.59111],43:[.10333,.60333,.03306,0,.88555],44:[.19444,.14722,0,0,.35555],45:[0,.44444,.02611,0,.41444],46:[0,.14722,0,0,.35555],47:[.25,.75,.15806,0,.59111],48:At,49:At,50:At,51:At,52:Ct,53:At,54:At,55:Ct,56:At,57:At,58:[0,.44444,.06695,0,.35555],59:[.19444,.44444,.06695,0,.35555],61:[-.10889,.39111,.06833,0,.88555],63:zt,64:[0,.69444,.09208,0,.88555],65:[0,.68611,0,0,.86555],66:[0,.68611,.0992,0,.81666],67:[0,.68611,.14208,0,.82666],68:[0,.68611,.09062,0,.87555],69:[0,.68611,.11431,0,.75666],70:[0,.68611,.12903,0,.72722],71:[0,.68611,.07347,0,.89527],72:Tt,73:[0,.68611,.15681,0,.47166],74:[0,.68611,.145,0,.61055],75:[0,.68611,.14208,0,.89499],76:[0,.68611,0,0,.69777],77:[0,.68611,.17208,0,1.07277],78:Tt,79:[0,.68611,.09062,0,.85499],80:[0,.68611,.0992,0,.78721],81:[.19444,.68611,.09062,0,.85499],82:[0,.68611,.02559,0,.85944],83:[0,.68611,.11264,0,.64999],84:[0,.68611,.12903,0,.7961],85:[0,.68611,.17208,0,.88083],86:[0,.68611,.18625,0,.86555],87:[0,.68611,.18625,0,1.15999],88:[0,.68611,.15681,0,.86555],89:[0,.68611,.19803,0,.86555],90:[0,.68611,.14208,0,.70888],91:[.25,.75,.1875,0,.35611],93:[.25,.75,.09972,0,.35611],94:Ft,95:[.31,.13444,.09811,0,.59111],97:[0,.44444,.09426,0,.59111],98:[0,.69444,.07861,0,.53222],99:[0,.44444,.05222,0,.53222],100:[0,.69444,.10861,0,.59111],101:[0,.44444,.085,0,.53222],102:[.19444,.69444,.21778,0,.4],103:Dt,104:[0,.69444,.09426,0,.59111],105:[0,.69326,.11387,0,.35555],106:[.19444,.69326,.1672,0,.35555],107:[0,.69444,.11111,0,.53222],108:[0,.69444,.10861,0,.29666],109:[0,.44444,.09426,0,.94444],110:[0,.44444,.09426,0,.64999],111:[0,.44444,.07861,0,.59111],112:[.19444,.44444,.07861,0,.59111],113:Dt,114:[0,.44444,.11111,0,.50167],115:[0,.44444,.08167,0,.48694],116:[0,.63492,.09639,0,.385],117:[0,.44444,.09426,0,.62055],118:[0,.44444,.11111,0,.53222],119:[0,.44444,.11111,0,.76777],120:[0,.44444,.12583,0,.56055],121:[.19444,.44444,.105,0,.56166],122:[0,.44444,.13889,0,.49055],126:[.35,.34444,.11472,0,.59111],160:C,168:[0,.69444,.11473,0,.59111],176:Pt,184:[.17014,0,0,0,.53222],198:[0,.68611,.11431,0,1.02277],216:[.04861,.73472,.09062,0,.88555],223:[.19444,.69444,.09736,0,.665],230:Et,248:[.09722,.54167,.09458,0,.59111],305:[0,.44444,.09426,0,.35555],338:[0,.68611,.11431,0,1.14054],339:Et,567:[.19444,.44444,.04611,0,.385],710:Ft,711:[0,.63194,.08271,0,.59111],713:[0,.59444,.10444,0,.59111],714:[0,.69444,.08528,0,.59111],715:[0,.69444,0,0,.59111],728:[0,.69444,.10333,0,.59111],729:It,730:Pt,732:zt,733:zt,915:[0,.68611,.12903,0,.69777],916:[0,.68611,0,0,.94444],920:[0,.68611,.09062,0,.88555],923:[0,.68611,0,0,.80666],926:[0,.68611,.15092,0,.76777],928:Tt,931:[0,.68611,.11431,0,.82666],933:Bt,934:[0,.68611,.05632,0,.82666],936:Bt,937:[0,.68611,.0992,0,.82666],8211:[0,.44444,.09811,0,.59111],8212:[0,.44444,.09811,0,1.18221],8216:It,8217:It,8220:[0,.69444,.16772,0,.62055],8221:Ot},"Main-Italic":{32:C,33:Rt,34:Jt,35:[.19444,.69444,.06616,0,.81777],37:[.05556,.75,.13639,0,.81777],38:[0,.69444,.09694,0,.76666],39:Rt,40:[.25,.75,.16194,0,.40889],41:[.25,.75,.03694,0,.40889],42:[0,.75,.14917,0,.51111],43:[.05667,.56167,.03694,0,.76666],44:[.19444,.10556,0,0,.30667],45:[0,.43056,.02826,0,.35778],46:[0,.10556,0,0,.30667],47:[.25,.75,.16194,0,.51111],48:qt,49:qt,50:qt,51:qt,52:$t,53:qt,54:qt,55:$t,56:qt,57:qt,58:[0,.43056,.0582,0,.30667],59:[.19444,.43056,.0582,0,.30667],61:[-.13313,.36687,.06616,0,.76666],63:jt,64:[0,.69444,.09597,0,.76666],65:[0,.68333,0,0,.74333],66:[0,.68333,.10257,0,.70389],67:[0,.68333,.14528,0,.71555],68:[0,.68333,.09403,0,.755],69:[0,.68333,.12028,0,.67833],70:[0,.68333,.13305,0,.65277],71:[0,.68333,.08722,0,.77361],72:Vt,73:[0,.68333,.15806,0,.38555],74:[0,.68333,.14028,0,.525],75:[0,.68333,.14528,0,.76888],76:[0,.68333,0,0,.62722],77:[0,.68333,.16389,0,.89666],78:Vt,79:Wt,80:[0,.68333,.10257,0,.67833],81:[.19444,.68333,.09403,0,.76666],82:[0,.68333,.03868,0,.72944],83:[0,.68333,.11972,0,.56222],84:[0,.68333,.13305,0,.71555],85:Vt,86:[0,.68333,.18361,0,.74333],87:[0,.68333,.18361,0,.99888],88:[0,.68333,.15806,0,.74333],89:[0,.68333,.19383,0,.74333],90:[0,.68333,.14528,0,.61333],91:[.25,.75,.1875,0,.30667],93:[.25,.75,.10528,0,.30667],94:Ut,95:[.31,.12056,.09208,0,.51111],97:[0,.43056,.07671,0,.51111],98:[0,.69444,.06312,0,.46],99:[0,.43056,.05653,0,.46],100:[0,.69444,.10333,0,.51111],101:[0,.43056,.07514,0,.46],102:[.19444,.69444,.21194,0,.30667],103:Ht,104:[0,.69444,.07671,0,.51111],105:[0,.65536,.1019,0,.30667],106:[.19444,.65536,.14467,0,.30667],107:[0,.69444,.10764,0,.46],108:[0,.69444,.10333,0,.25555],109:[0,.43056,.07671,0,.81777],110:[0,.43056,.07671,0,.56222],111:[0,.43056,.06312,0,.51111],112:[.19444,.43056,.06312,0,.51111],113:Ht,114:[0,.43056,.10764,0,.42166],115:[0,.43056,.08208,0,.40889],116:[0,.61508,.09486,0,.33222],117:[0,.43056,.07671,0,.53666],118:[0,.43056,.10764,0,.46],119:[0,.43056,.10764,0,.66444],120:[0,.43056,.12042,0,.46389],121:[.19444,.43056,.08847,0,.48555],122:[0,.43056,.12292,0,.40889],126:[.35,.31786,.11585,0,.51111],160:C,168:[0,.66786,.10474,0,.51111],176:Yt,184:[.17014,0,0,0,.46],198:[0,.68333,.12028,0,.88277],216:[.04861,.73194,.09403,0,.76666],223:[.19444,.69444,.10514,0,.53666],230:Nt,248:[.09722,.52778,.09194,0,.51111],338:[0,.68333,.12028,0,.98499],339:Nt,710:Ut,711:[0,.62847,.08295,0,.51111],713:[0,.56167,.10333,0,.51111],714:[0,.69444,.09694,0,.51111],715:[0,.69444,0,0,.51111],728:[0,.69444,.10806,0,.51111],729:[0,.66786,.11752,0,.30667],730:Yt,732:[0,.66786,.11585,0,.51111],733:jt,915:[0,.68333,.13305,0,.62722],916:[0,.68333,0,0,.81777],920:Wt,923:[0,.68333,0,0,.69222],926:[0,.68333,.15294,0,.66444],928:Vt,931:[0,.68333,.12028,0,.71555],933:Gt,934:[0,.68333,.05986,0,.71555],936:Gt,937:[0,.68333,.10257,0,.71555],8211:[0,.43056,.09208,0,.51111],8212:[0,.43056,.09208,0,1.02222],8216:Rt,8217:Rt,8220:[0,.69444,.1685,0,.51444],8221:Jt,8463:E},"Main-Regular":{32:C,33:Xt,34:cr,35:zi,36:Ar,37:Bi,38:er,39:Xt,40:Zt,41:Zt,42:Oi,43:gr,44:[.19444,.10556,0,0,.27778],45:[0,.43056,0,0,.33333],46:[0,.10556,0,0,.27778],47:or,48:Kt,49:Kt,50:Kt,51:Kt,52:Kt,53:Kt,54:Kt,55:Kt,56:Kt,57:Kt,58:fr,59:[.19444,.43056,0,0,.27778],60:he,61:J,62:he,63:Vi,64:er,65:tr,66:[0,.68333,0,0,.70834],67:nr,68:[0,.68333,0,0,.76389],69:sr,70:[0,.68333,0,0,.65278],71:[0,.68333,0,0,.78472],72:tr,73:[0,.68333,0,0,.36111],74:[0,.68333,0,0,.51389],75:rr,76:wr,77:[0,.68333,0,0,.91667],78:tr,79:rr,80:sr,81:[.19444,.68333,0,0,.77778],82:[0,.68333,0,0,.73611],83:[0,.68333,0,0,.55556],84:nr,85:tr,86:[0,.68333,.01389,0,.75],87:[0,.68333,.01389,0,1.02778],88:tr,89:[0,.68333,.025,0,.75],90:[0,.68333,0,0,.61111],91:lr,92:or,93:lr,94:cr,95:[.31,.12056,.02778,0,.5],97:dr,98:ur,99:hr,100:ur,101:hr,102:[0,.69444,.07778,0,.30556],103:[.19444,.43056,.01389,0,.5],104:ur,105:yr,106:[.19444,.66786,0,0,.30556],107:[0,.69444,0,0,.52778],108:Xt,109:[0,.43056,0,0,.83334],110:pr,111:dr,112:mr,113:[.19444,.43056,0,0,.52778],114:[0,.43056,0,0,.39167],115:[0,.43056,0,0,.39445],116:[0,.61508,0,0,.38889],117:pr,118:[0,.43056,.01389,0,.52778],119:[0,.43056,.01389,0,.72222],120:[0,.43056,0,0,.52778],121:[.19444,.43056,.01389,0,.52778],122:hr,123:or,124:lr,125:or,126:[.35,.31786,0,0,.5],160:C,163:[0,.69444,0,0,.76909],167:_r,168:vr,172:[0,.43056,0,0,.66667],176:br,177:gr,182:Lr,184:Ai,198:[0,.68333,0,0,.90278],215:gr,216:[.04861,.73194,0,0,.77778],223:cr,230:[0,.43056,0,0,.72222],247:gr,248:[.09722,.52778,0,0,.5],305:fr,338:[0,.68333,0,0,1.01389],339:Er,567:[.19444,.43056,0,0,.30556],710:cr,711:[0,.62847,0,0,.5],713:[0,.56778,0,0,.5],714:cr,715:cr,728:cr,729:yr,730:br,732:vr,733:cr,915:wr,916:Cr,920:rr,923:[0,.68333,0,0,.69445],926:[0,.68333,0,0,.66667],928:tr,931:nr,933:rr,934:nr,936:rr,937:nr,8211:[0,.43056,.02778,0,.5],8212:[0,.43056,.02778,0,1],8216:Xt,8217:Xt,8220:cr,8221:cr,8224:_r,8225:_r,8230:[0,.12,0,0,1.172],8242:[0,.55556,0,0,.275],8407:[0,.71444,.15382,0,.5],8463:E,8465:Sr,8467:[0,.69444,0,.11111,.41667],8472:[.19444,.43056,0,.11111,.63646],8476:Sr,8501:Br,8592:I,8593:xr,8594:I,8595:xr,8596:I,8597:or,8598:Mr,8599:Mr,8600:Mr,8601:Mr,8614:[.011,.511,0,0,1],8617:kr,8618:kr,8636:I,8637:I,8640:I,8641:I,8652:[.011,.671,0,0,1],8656:I,8657:Lr,8658:I,8659:Lr,8660:I,8661:[.25,.75,0,0,.61111],8704:ur,8706:[0,.69444,.05556,.08334,.5309],8707:ur,8709:Ar,8711:Cr,8712:Tr,8715:Tr,8722:gr,8723:gr,8725:or,8726:or,8727:Or,8728:Dr,8729:Dr,8730:[.2,.8,0,0,.83334],8733:Er,8734:q,8736:W,8739:lr,8741:or,8743:Fr,8744:Fr,8745:Fr,8746:Fr,8747:[.19444,.69444,.11111,0,.41667],8764:J,8768:[.19444,.69444,0,0,.27778],8771:Ir,8773:[-.022,.589,0,0,1],8776:Pr,8781:Ir,8784:[-.133,.67,0,0,.778],8801:Ir,8804:se,8805:se,8810:zr,8811:zr,8826:he,8827:he,8834:he,8835:he,8838:se,8839:se,8846:Fr,8849:se,8850:se,8851:Fr,8852:Fr,8853:gr,8854:gr,8855:gr,8856:gr,8857:gr,8866:Br,8867:Br,8868:er,8869:er,8872:[.249,.75,0,0,.867],8900:Dr,8901:[-.05555,.44445,0,0,.27778],8902:Or,8904:[.005,.505,0,0,.9],8942:[.03,.9,0,0,.278],8943:[-.19,.31,0,0,1.172],8945:[-.1,.82,0,0,1.282],8968:Rr,8969:Rr,8970:Rr,8971:Rr,8994:qr,8995:qr,9136:$r,9137:$r,9651:Vr,9657:Or,9661:Vr,9667:Or,9711:Mr,9824:Hr,9825:Hr,9826:Hr,9827:Hr,9837:[0,.75,0,0,.38889],9838:Nr,9839:Nr,10216:Zt,10217:Zt,10222:$r,10223:$r,10229:[.011,.511,0,0,1.609],10230:Ur,10231:[.011,.511,0,0,1.859],10232:[.024,.525,0,0,1.609],10233:[.024,.525,0,0,1.638],10234:[.024,.525,0,0,1.858],10236:Ur,10815:tr,10927:se,10928:se,57376:Yr},"Math-BoldItalic":{32:C,48:jr,49:jr,50:jr,51:Wr,52:Wr,53:Wr,54:Oe,55:Wr,56:Oe,57:Wr,65:Ve,66:[0,.68611,.04835,0,.8664],67:[0,.68611,.06979,0,.81694],68:[0,.68611,.03194,0,.93812],69:[0,.68611,.05451,0,.81007],70:[0,.68611,.15972,0,.68889],71:[0,.68611,0,0,.88673],72:Zr,73:[0,.68611,.07778,0,.51111],74:[0,.68611,.10069,0,.63125],75:[0,.68611,.06979,0,.97118],76:Gr,77:[0,.68611,.11424,0,1.14201],78:[0,.68611,.11424,0,.95034],79:[0,.68611,.03194,0,.83666],80:[0,.68611,.15972,0,.72309],81:[.19444,.68611,0,0,.86861],82:[0,.68611,.00421,0,.87235],83:[0,.68611,.05382,0,.69271],84:[0,.68611,.15972,0,.63663],85:[0,.68611,.11424,0,.80027],86:[0,.68611,.25555,0,.67778],87:[0,.68611,.15972,0,1.09305],88:[0,.68611,.07778,0,.94722],89:[0,.68611,.25555,0,.67458],90:[0,.68611,.06979,0,.77257],97:[0,.44444,0,0,.63287],98:[0,.69444,0,0,.52083],99:[0,.44444,0,0,.51342],100:[0,.69444,0,0,.60972],101:[0,.44444,0,0,.55361],102:[.19444,.69444,.11042,0,.56806],103:[.19444,.44444,.03704,0,.5449],104:Jr,105:[0,.69326,0,0,.4048],106:[.19444,.69326,.0622,0,.47083],107:[0,.69444,.01852,0,.6037],108:[0,.69444,.0088,0,.34815],109:[0,.44444,0,0,1.0324],110:[0,.44444,0,0,.71296],111:Qr,112:[.19444,.44444,0,0,.60092],113:[.19444,.44444,.03704,0,.54213],114:[0,.44444,.03194,0,.5287],115:[0,.44444,0,0,.53125],116:[0,.63492,0,0,.41528],117:[0,.44444,0,0,.68102],118:[0,.44444,.03704,0,.56666],119:[0,.44444,.02778,0,.83148],120:[0,.44444,0,0,.65903],121:[.19444,.44444,.03704,0,.59028],122:[0,.44444,.04213,0,.55509],160:C,915:[0,.68611,.15972,0,.65694],916:ht,920:[0,.68611,.03194,0,.86722],923:Xr,926:[0,.68611,.07458,0,.84125],928:Zr,931:[0,.68611,.05451,0,.88507],933:[0,.68611,.15972,0,.67083],934:Kr,936:[0,.68611,.11653,0,.71402],937:[0,.68611,.04835,0,.8789],945:[0,.44444,0,0,.76064],946:[.19444,.69444,.03403,0,.65972],947:[.19444,.44444,.06389,0,.59003],948:[0,.69444,.03819,0,.52222],949:[0,.44444,0,0,.52882],950:[.19444,.69444,.06215,0,.50833],951:[.19444,.44444,.03704,0,.6],952:[0,.69444,.03194,0,.5618],953:[0,.44444,0,0,.41204],954:[0,.44444,0,0,.66759],955:[0,.69444,0,0,.67083],956:[.19444,.44444,0,0,.70787],957:[0,.44444,.06898,0,.57685],958:[.19444,.69444,.03021,0,.50833],959:Qr,960:[0,.44444,.03704,0,.68241],961:ei,962:[.09722,.44444,.07917,0,.42361],963:[0,.44444,.03704,0,.68588],964:[0,.44444,.13472,0,.52083],965:[0,.44444,.03704,0,.63055],966:[.19444,.44444,0,0,.74722],967:[.19444,.44444,0,0,.71805],968:[.19444,.69444,.03704,0,.75833],969:[0,.44444,.03704,0,.71782],977:[0,.69444,0,0,.69155],981:[.19444,.69444,0,0,.7125],982:[0,.44444,.03194,0,.975],1009:ei,1013:[0,.44444,0,0,.48333],57649:[0,.44444,0,0,.39352],57911:[.19444,.44444,0,0,.43889]},"Math-Italic":{32:C,48:dr,49:dr,50:dr,51:ti,52:ti,53:ti,54:Kt,55:ti,56:Kt,57:ti,65:[0,.68333,0,.13889,.75],66:[0,.68333,.05017,.08334,.75851],67:[0,.68333,.07153,.08334,.71472],68:[0,.68333,.02778,.05556,.82792],69:[0,.68333,.05764,.08334,.7382],70:[0,.68333,.13889,.08334,.64306],71:[0,.68333,0,.08334,.78625],72:ii,73:[0,.68333,.07847,.11111,.43958],74:[0,.68333,.09618,.16667,.55451],75:[0,.68333,.07153,.05556,.84931],76:[0,.68333,0,.02778,.68056],77:[0,.68333,.10903,.08334,.97014],78:[0,.68333,.10903,.08334,.80347],79:ri,80:[0,.68333,.13889,.08334,.64201],81:[.19444,.68333,0,.08334,.79056],82:[0,.68333,.00773,.08334,.75929],83:[0,.68333,.05764,.08334,.6132],84:[0,.68333,.13889,.08334,.58438],85:[0,.68333,.10903,.02778,.68278],86:[0,.68333,.22222,0,.58333],87:[0,.68333,.13889,0,.94445],88:[0,.68333,.07847,.08334,.82847],89:[0,.68333,.22222,0,.58056],90:[0,.68333,.07153,.08334,.68264],97:[0,.43056,0,0,.52859],98:[0,.69444,0,0,.42917],99:[0,.43056,0,.05556,.43276],100:[0,.69444,0,.16667,.52049],101:[0,.43056,0,.05556,.46563],102:[.19444,.69444,.10764,.16667,.48959],103:[.19444,.43056,.03588,.02778,.47697],104:[0,.69444,0,0,.57616],105:[0,.65952,0,0,.34451],106:[.19444,.65952,.05724,0,.41181],107:[0,.69444,.03148,0,.5206],108:[0,.69444,.01968,.08334,.29838],109:[0,.43056,0,0,.87801],110:[0,.43056,0,0,.60023],111:si,112:[.19444,.43056,0,.08334,.50313],113:[.19444,.43056,.03588,.08334,.44641],114:[0,.43056,.02778,.05556,.45116],115:[0,.43056,0,.05556,.46875],116:[0,.61508,0,.08334,.36111],117:[0,.43056,0,.02778,.57246],118:[0,.43056,.03588,.02778,.48472],119:[0,.43056,.02691,.08334,.71592],120:[0,.43056,0,.02778,.57153],121:[.19444,.43056,.03588,.05556,.49028],122:[0,.43056,.04398,.05556,.46505],160:C,915:[0,.68333,.13889,.08334,.61528],916:[0,.68333,0,.16667,.83334],920:ri,923:[0,.68333,0,.16667,.69445],926:[0,.68333,.07569,.08334,.74236],928:ii,931:[0,.68333,.05764,.08334,.77986],933:[0,.68333,.13889,.05556,.58333],934:[0,.68333,0,.08334,.66667],936:[0,.68333,.11,.05556,.61222],937:[0,.68333,.05017,.08334,.7724],945:[0,.43056,.0037,.02778,.6397],946:[.19444,.69444,.05278,.08334,.56563],947:[.19444,.43056,.05556,0,.51773],948:[0,.69444,.03785,.05556,.44444],949:[0,.43056,0,.08334,.46632],950:[.19444,.69444,.07378,.08334,.4375],951:[.19444,.43056,.03588,.05556,.49653],952:[0,.69444,.02778,.08334,.46944],953:[0,.43056,0,.05556,.35394],954:[0,.43056,0,0,.57616],955:[0,.69444,0,0,.58334],956:[.19444,.43056,0,.02778,.60255],957:[0,.43056,.06366,.02778,.49398],958:[.19444,.69444,.04601,.11111,.4375],959:si,960:[0,.43056,.03588,0,.57003],961:ni,962:[.09722,.43056,.07986,.08334,.36285],963:[0,.43056,.03588,0,.57141],964:[0,.43056,.1132,.02778,.43715],965:[0,.43056,.03588,.02778,.54028],966:[.19444,.43056,0,.08334,.65417],967:[.19444,.43056,0,.05556,.62569],968:[.19444,.69444,.03588,.11111,.65139],969:[0,.43056,.03588,0,.62245],977:[0,.69444,0,.08334,.59144],981:[.19444,.69444,0,.08334,.59583],982:[0,.43056,.02778,0,.82813],1009:ni,1013:[0,.43056,0,.05556,.4059],57649:[0,.43056,0,.02778,.32246],57911:[.19444,.43056,0,.08334,.38403]},"SansSerif-Bold":{32:C,33:[0,.69444,0,0,.36667],34:Mi,35:[.19444,.69444,0,0,.91667],36:[.05556,.75,0,0,.55],37:[.05556,.75,0,0,1.02912],38:[0,.69444,0,0,.83056],39:wi,40:li,41:li,42:[0,.75,0,0,.55],43:[.11667,.61667,0,0,.85556],44:[.10556,.13056,0,0,.30556],45:[0,.45833,0,0,.36667],46:[0,.13056,0,0,.30556],47:[.25,.75,0,0,.55],48:ci,49:ci,50:ci,51:ci,52:ci,53:ci,54:ci,55:ci,56:ci,57:ci,58:[0,.45833,0,0,.30556],59:[.10556,.45833,0,0,.30556],61:[-.09375,.40625,0,0,.85556],63:di,64:ui,65:ui,66:ui,67:mi,68:hi,69:[0,.69444,0,0,.64167],70:Br,71:ui,72:hi,73:[0,.69444,0,0,.33056],74:di,75:pi,76:_i,77:[0,.69444,0,0,.97778],78:hi,79:hi,80:mi,81:[.10556,.69444,0,0,.79445],82:mi,83:Br,84:ui,85:pi,86:[0,.69444,.01528,0,.73334],87:[0,.69444,.01528,0,1.03889],88:ui,89:[0,.69444,.0275,0,.73334],90:Si,91:gi,93:gi,94:ci,95:[.35,.10833,.03056,0,.55],97:[0,.45833,0,0,.525],98:fi,99:[0,.45833,0,0,.48889],100:fi,101:[0,.45833,0,0,.51111],102:[0,.69444,.07639,0,.33611],103:[.19444,.45833,.01528,0,.55],104:fi,105:yi,106:[.19444,.69444,0,0,.28611],107:[0,.69444,0,0,.53056],108:yi,109:[0,.45833,0,0,.86667],110:vi,111:[0,.45833,0,0,.55],112:bi,113:bi,114:[0,.45833,.01528,0,.37222],115:[0,.45833,0,0,.42167],116:[0,.58929,0,0,.40417],117:vi,118:[0,.45833,.01528,0,.5],119:[0,.45833,.01528,0,.74445],120:[0,.45833,0,0,.5],121:[.19444,.45833,.01528,0,.5],122:[0,.45833,0,0,.47639],126:[.35,.34444,0,0,.55],160:C,168:ci,176:ui,180:ci,184:[.17014,0,0,0,.48889],305:[0,.45833,0,0,.25556],567:[.19444,.45833,0,0,.28611],710:ci,711:[0,.63542,0,0,.55],713:[0,.63778,0,0,.55],728:ci,729:wi,730:ui,732:ci,733:ci,915:_i,916:[0,.69444,0,0,.91667],920:xi,923:Si,926:ui,928:hi,931:hi,933:xi,934:hi,936:xi,937:hi,8211:[0,.45833,.03056,0,.55],8212:[0,.45833,.03056,0,1.10001],8216:wi,8217:wi,8220:Mi,8221:Mi},"SansSerif-Italic":{32:C,33:[0,.69444,.05733,0,.31945],34:Pi,35:[.19444,.69444,.05087,0,.83334],36:[.05556,.75,.11156,0,.5],37:[.05556,.75,.03126,0,.83334],38:[0,.69444,.03058,0,.75834],39:Ii,40:[.25,.75,.13164,0,.38889],41:[.25,.75,.02536,0,.38889],42:[0,.75,.11775,0,.5],43:[.08333,.58333,.02536,0,.77778],44:Ri,45:[0,.44444,.01946,0,.33333],46:qi,47:[.25,.75,.13164,0,.5],48:ki,49:ki,50:ki,51:ki,52:ki,53:ki,54:ki,55:ki,56:ki,57:ki,58:[0,.44444,.02502,0,.27778],59:[.125,.44444,.02502,0,.27778],61:[-.13,.37,.05087,0,.77778],63:[0,.69444,.11809,0,.47222],64:[0,.69444,.07555,0,.66667],65:Hi,66:[0,.69444,.08293,0,.66667],67:[0,.69444,.11983,0,.63889],68:[0,.69444,.07555,0,.72223],69:[0,.69444,.11983,0,.59722],70:[0,.69444,.13372,0,.56945],71:[0,.69444,.11983,0,.66667],72:Li,73:[0,.69444,.13372,0,.27778],74:[0,.69444,.08094,0,.47222],75:[0,.69444,.11983,0,.69445],76:Ui,77:[0,.69444,.08094,0,.875],78:Li,79:[0,.69444,.07555,0,.73611],80:[0,.69444,.08293,0,.63889],81:[.125,.69444,.07555,0,.73611],82:[0,.69444,.08293,0,.64584],83:[0,.69444,.09205,0,.55556],84:[0,.69444,.13372,0,.68056],85:[0,.69444,.08094,0,.6875],86:[0,.69444,.1615,0,.66667],87:[0,.69444,.1615,0,.94445],88:[0,.69444,.13372,0,.66667],89:[0,.69444,.17261,0,.66667],90:[0,.69444,.11983,0,.61111],91:[.25,.75,.15942,0,.28889],93:[.25,.75,.08719,0,.28889],94:Ti,95:[.35,.09444,.08616,0,.5],97:[0,.44444,.00981,0,.48056],98:[0,.69444,.03057,0,.51667],99:[0,.44444,.08336,0,.44445],100:[0,.69444,.09483,0,.51667],101:[0,.44444,.06778,0,.44445],102:[0,.69444,.21705,0,.30556],103:[.19444,.44444,.10836,0,.5],104:[0,.69444,.01778,0,.51667],105:[0,.67937,.09718,0,.23889],106:[.19444,.67937,.09162,0,.26667],107:[0,.69444,.08336,0,.48889],108:[0,.69444,.09483,0,.23889],109:[0,.44444,.01778,0,.79445],110:[0,.44444,.01778,0,.51667],111:[0,.44444,.06613,0,.5],112:[.19444,.44444,.0389,0,.51667],113:[.19444,.44444,.04169,0,.51667],114:[0,.44444,.10836,0,.34167],115:[0,.44444,.0778,0,.38333],116:[0,.57143,.07225,0,.36111],117:[0,.44444,.04169,0,.51667],118:[0,.44444,.10836,0,.46111],119:[0,.44444,.10836,0,.68334],120:[0,.44444,.09169,0,.46111],121:[.19444,.44444,.10836,0,.46111],122:[0,.44444,.08752,0,.43472],126:[.35,.32659,.08826,0,.5],160:C,168:[0,.67937,.06385,0,.5],176:Di,184:Ai,305:[0,.44444,.04169,0,.23889],567:[.19444,.44444,.04169,0,.26667],710:Ti,711:[0,.63194,.08432,0,.5],713:[0,.60889,.08776,0,.5],714:Ei,715:cr,728:[0,.69444,.09483,0,.5],729:[0,.67937,.07774,0,.27778],730:Di,732:[0,.67659,.08826,0,.5],733:Ei,915:[0,.69444,.13372,0,.54167],916:Ki,920:[0,.69444,.07555,0,.77778],923:Br,926:[0,.69444,.12816,0,.66667],928:Li,931:[0,.69444,.11983,0,.72222],933:Fi,934:[0,.69444,.04603,0,.72222],936:Fi,937:[0,.69444,.08293,0,.72222],8211:[0,.44444,.08616,0,.5],8212:[0,.44444,.08616,0,1],8216:Ii,8217:Ii,8220:[0,.69444,.14205,0,.5],8221:Pi},"SansSerif-Regular":{32:C,33:[0,.69444,0,0,.31945],34:cr,35:zi,36:Ar,37:Bi,38:[0,.69444,0,0,.75834],39:Xt,40:Zt,41:Zt,42:Oi,43:gr,44:Ri,45:[0,.44444,0,0,.33333],46:qi,47:or,48:$i,49:$i,50:$i,51:$i,52:$i,53:$i,54:$i,55:$i,56:$i,57:$i,58:[0,.44444,0,0,.27778],59:[.125,.44444,0,0,.27778],61:[-.13,.37,0,0,.77778],63:Vi,64:Hi,65:Hi,66:Hi,67:Ye,68:[0,.69444,0,0,.72223],69:Ni,70:[0,.69444,0,0,.56945],71:Hi,72:Yi,73:Xt,74:Vi,75:[0,.69444,0,0,.69445],76:Ui,77:[0,.69444,0,0,.875],78:Yi,79:[0,.69444,0,0,.73611],80:Ye,81:[.125,.69444,0,0,.73611],82:[0,.69444,0,0,.64584],83:ur,84:[0,.69444,0,0,.68056],85:[0,.69444,0,0,.6875],86:[0,.69444,.01389,0,.66667],87:[0,.69444,.01389,0,.94445],88:Hi,89:[0,.69444,.025,0,.66667],90:Br,91:ji,93:ji,94:cr,95:[.35,.09444,.02778,0,.5],97:[0,.44444,0,0,.48056],98:Wi,99:Gi,100:Wi,101:Gi,102:[0,.69444,.06944,0,.30556],103:[.19444,.44444,.01389,0,.5],104:Wi,105:[0,.67937,0,0,.23889],106:[.19444,.67937,0,0,.26667],107:[0,.69444,0,0,.48889],108:[0,.69444,0,0,.23889],109:[0,.44444,0,0,.79445],110:Zi,111:[0,.44444,0,0,.5],112:Ji,113:Ji,114:[0,.44444,.01389,0,.34167],115:Xi,116:[0,.57143,0,0,.36111],117:Zi,118:[0,.44444,.01389,0,.46111],119:[0,.44444,.01389,0,.68334],120:[0,.44444,0,0,.46111],121:[.19444,.44444,.01389,0,.46111],122:[0,.44444,0,0,.43472],126:[.35,.32659,0,0,.5],160:C,168:[0,.67937,0,0,.5],176:Hi,184:Ai,305:[0,.44444,0,0,.23889],567:[.19444,.44444,0,0,.26667],710:cr,711:[0,.63194,0,0,.5],713:[0,.60889,0,0,.5],714:cr,715:cr,728:cr,729:[0,.67937,0,0,.27778],730:Hi,732:[0,.67659,0,0,.5],733:cr,915:Ui,916:Ki,920:er,923:Br,926:Hi,928:Yi,931:Sr,933:er,934:Sr,936:er,937:Sr,8211:[0,.44444,.02778,0,.5],8212:[0,.44444,.02778,0,1],8216:Xt,8217:Xt,8220:cr,8221:cr},"Script-Regular":{32:C,65:[0,.7,.22925,0,.80253],66:[0,.7,.04087,0,.90757],67:[0,.7,.1689,0,.66619],68:[0,.7,.09371,0,.77443],69:[0,.7,.18583,0,.56162],70:[0,.7,.13634,0,.89544],71:[0,.7,.17322,0,.60961],72:[0,.7,.29694,0,.96919],73:[0,.7,.19189,0,.80907],74:[.27778,.7,.19189,0,1.05159],75:[0,.7,.31259,0,.91364],76:[0,.7,.19189,0,.87373],77:[0,.7,.15981,0,1.08031],78:[0,.7,.3525,0,.9015],79:[0,.7,.08078,0,.73787],80:[0,.7,.08078,0,1.01262],81:[0,.7,.03305,0,.88282],82:[0,.7,.06259,0,.85],83:[0,.7,.19189,0,.86767],84:[0,.7,.29087,0,.74697],85:[0,.7,.25815,0,.79996],86:[0,.7,.27523,0,.62204],87:[0,.7,.27523,0,.80532],88:[0,.7,.26006,0,.94445],89:[0,.7,.2939,0,.70961],90:[0,.7,.24037,0,.8212],160:C},"Size1-Regular":{32:C,40:Qi,41:Qi,47:ea,91:ta,92:ea,93:ta,123:ra,125:ra,160:C,710:ia,732:ia,770:ia,771:ia,8214:[-99e-5,.601,0,0,.77778],8593:aa,8595:aa,8657:sa,8659:sa,8719:na,8720:na,8721:[.25001,.75,0,0,1.05556],8730:[.35001,.85,0,0,1],8739:[-.00599,.606,0,0,.33333],8741:[-.00599,.606,0,0,.55556],8747:la,8748:oa,8749:oa,8750:la,8896:ca,8897:ca,8898:ca,8899:ca,8968:ua,8969:ua,8970:ua,8971:ua,9168:Ra,10216:ua,10217:ua,10752:ha,10753:ha,10754:ha,10756:ca,10758:ca},"Size2-Regular":{32:C,40:da,41:da,47:ma,91:pa,92:ma,93:pa,123:ga,125:ga,160:C,710:fa,732:fa,770:fa,771:fa,8719:ya,8720:ya,8721:[.55001,1.05,0,0,1.44445],8730:[.65002,1.15,0,0,1],8747:va,8748:ba,8749:ba,8750:va,8896:wa,8897:wa,8898:wa,8899:wa,8968:_a,8969:_a,8970:_a,8971:_a,10216:Sa,10217:Sa,10752:xa,10753:xa,10754:xa,10756:wa,10758:wa},"Size3-Regular":{32:C,40:Ma,41:Ma,47:ka,91:La,92:ka,93:La,123:Aa,125:Aa,160:C,710:Ca,732:Ca,770:Ca,771:Ca,8730:[.95003,1.45,0,0,1],8968:Ta,8969:Ta,8970:Ta,8971:Ta,10216:Aa,10217:Aa},"Size4-Regular":{32:C,40:Da,41:Da,47:Ea,91:Fa,92:Ea,93:Fa,123:Ia,125:Ia,160:C,710:Pa,732:Pa,770:Pa,771:Pa,8730:[1.25003,1.75,0,0,1],8968:za,8969:za,8970:za,8971:za,9115:Ba,9116:Oa,9117:Ba,9118:Ba,9119:Oa,9120:Ba,9121:qa,9122:Ra,9123:qa,9124:qa,9125:Ra,9126:qa,9127:$a,9128:Va,9129:Ha,9130:[0,.3,0,0,.88889],9131:$a,9132:Va,9133:Ha,9143:[.88502,.915,0,0,1.05556],10216:Ia,10217:Ia,57344:Na,57345:Na,57680:Ua,57681:Ua,57682:Ua,57683:Ua},"Typewriter-Regular":{32:Za,33:Ya,34:Ya,35:Ya,36:ja,37:ja,38:Ya,39:Ya,40:ja,41:ja,42:[0,.52083,0,0,.525],43:Wa,44:[.13889,.125,0,0,.525],45:Wa,46:[0,.125,0,0,.525],47:ja,48:Ya,49:Ya,50:Ya,51:Ya,52:Ya,53:Ya,54:Ya,55:Ya,56:Ya,57:Ya,58:Ja,59:[.13889,.43056,0,0,.525],60:Ga,61:[-.19549,.41562,0,0,.525],62:Ga,63:Ya,64:Ya,65:Ya,66:Ya,67:Ya,68:Ya,69:Ya,70:Ya,71:Ya,72:Ya,73:Ya,74:Ya,75:Ya,76:Ya,77:Ya,78:Ya,79:Ya,80:Ya,81:[.13889,.61111,0,0,.525],82:Ya,83:Ya,84:Ya,85:Ya,86:Ya,87:Ya,88:Ya,89:Ya,90:Ya,91:ja,92:ja,93:ja,94:Ya,95:[.09514,0,0,0,.525],96:Ya,97:Ja,98:Ya,99:Ja,100:Ya,101:Ja,102:Ya,103:Xa,104:Ya,105:Ya,106:[.22222,.61111,0,0,.525],107:Ya,108:Ya,109:Ja,110:Ja,111:Ja,112:Xa,113:Xa,114:Ja,115:Ja,116:[0,.55358,0,0,.525],117:Ja,118:Ja,119:Ja,120:Ja,121:Xa,122:Ja,123:ja,124:ja,125:ja,126:Ya,127:Ya,160:Za,176:Ya,184:[.19445,0,0,0,.525],305:Ja,567:Xa,711:[0,.56597,0,0,.525],713:[0,.56555,0,0,.525],714:Ya,715:Ya,728:Ya,730:Ya,770:Ya,771:Ya,776:Ya,915:Ya,916:Ya,920:Ya,923:Ya,926:Ya,928:Ya,931:Ya,933:Ya,934:Ya,936:Ya,937:Ya,8216:Ya,8217:Ya,8242:Ya,9251:[.11111,.21944,0,0,.525]}},Qa=/[\u3040-\u309F]|[\u30A0-\u30FF]|[\u4E00-\u9FAF]|[\uAC00-\uD7AF]/,es=10,ts=.25,rs=.431,as={slant:[.25,.25,.25],space:[0,0,0],stretch:[0,0,0],shrink:[0,0,0],xHeight:[rs,rs,rs],quad:[1,1.171,1.472],extraSpace:[0,0,0],num1:[.5,.732,.925],num2:[.394,.384,.5],num3:[.444,.471,.504],denom1:[.686,.752,1.025],denom2:[.345,.344,.532],sup1:[.413,.503,.504],sup2:[.363,.431,.404],sup3:[.289,.286,.294],sub1:[.15,.143,.2],sub2:[.247,.286,.4],supDrop:[.386,.353,.494],subDrop:[.05,.071,.1],delim1:[2.39,1.7,1.98],delim2:[1.01,1.157,1.42],axisHeight:[ts,ts,ts],defaultRuleThickness:[.04,.049,.049],bigOpSpacing1:[.111,.111,.111],bigOpSpacing2:[.166,.166,.166],bigOpSpacing3:[.2,.2,.2],bigOpSpacing4:[.6,.611,.611],bigOpSpacing5:[.1,.143,.143],sqrtRuleThickness:[.04,.04,.04]},ss=[0,.5,.7,.8,.9,1,1.2,1.44,1.728,2.074,2.488],ns={"":" ","":" ","":"A","":"C","":"D","":"o","":"a","":"c","":"d","":"o","":"A","":"B","":"B","":"F","":"A","":"E","":"K","":"3","":"N","":"N","":"K","":"N","":"M","":"H","":"O","":"N","":"P","":"C","":"T","":"y","":"O","":"X","":"U","":"h","":"W","":"W","":"B","":"X","":"B","":"3","":"X","":"R","":"a","":"b","":"a","":"r","":"y","":"e","":"m","":"e","":"n","":"n","":"n","":"n","":"m","":"n","":"o","":"n","":"p","":"c","":"o","":"y","":"b","":"x","":"n","":"n","":"w","":"w","":"a","":"m","":"a","":"e","":"m","":"r"};function os(e,t){void 0===e&&(e=77);let r=Ka[t][e];if(r)return{defaultMetrics:!1,depth:r[0],height:r[1],italic:r[2],skew:r[3],width:r[4]};if(11034===e)return{defaultMetrics:!0,depth:.2,height:.8,italic:0,skew:0,width:.8};let i=String.fromCodePoint(e);if(i in ns)e=ns[i].codePointAt(0);else if(Qa.test(i))return e=77,{defaultMetrics:!0,depth:.2,height:.9,italic:0,skew:0,width:1};return{defaultMetrics:!0,depth:.2,height:.7,italic:0,skew:0,width:.8}}function ls(e){return Array.isArray(e)}var cs={overrightarrow:[["rightarrow"],.888,522,"xMaxYMin"],overleftarrow:[["leftarrow"],.888,522,"xMinYMin"],underrightarrow:[["rightarrow"],.888,522,"xMaxYMin"],underleftarrow:[["leftarrow"],.888,522,"xMinYMin"],xrightarrow:[["rightarrow"],1.469,522,"xMaxYMin"],longrightarrow:[["rightarrow"],1.469,522,"xMaxYMin"],xleftarrow:[["leftarrow"],1.469,522,"xMinYMin"],longleftarrow:[["leftarrow"],1.469,522,"xMinYMin"],Overrightarrow:[["doublerightarrow"],.888,560,"xMaxYMin"],xRightarrow:[["doublerightarrow"],1.526,560,"xMaxYMin"],xLeftarrow:[["doubleleftarrow"],1.526,560,"xMinYMin"],overleftharpoon:[["leftharpoon"],.888,522,"xMinYMin"],xleftharpoonup:[["leftharpoon"],.888,522,"xMinYMin"],xleftharpoondown:[["leftharpoondown"],.888,522,"xMinYMin"],overrightharpoon:[["rightharpoon"],.888,522,"xMaxYMin"],xrightharpoonup:[["rightharpoon"],.888,522,"xMaxYMin"],xrightharpoondown:[["rightharpoondown"],.888,522,"xMaxYMin"],xlongequal:[["longequal"],.888,334,"xMinYMin"],xtwoheadleftarrow:[["twoheadleftarrow"],.888,334,"xMinYMin"],xtwoheadrightarrow:[["twoheadrightarrow"],.888,334,"xMaxYMin"],overleftrightarrow:[["leftarrow","rightarrow"],.888,522],overbrace:[["leftbrace","midbrace","rightbrace"],1.6,548],underbrace:[["leftbraceunder","midbraceunder","rightbraceunder"],1.6,548],underleftrightarrow:[["leftarrow","rightarrow"],.888,522],xleftrightarrow:[["leftarrow","rightarrow"],1.75,522],longleftrightarrow:[["leftarrow","rightarrow"],1.75,522],xLeftrightarrow:[["doubleleftarrow","doublerightarrow"],1.75,560],xrightleftharpoons:[["leftharpoondownplus","rightharpoonplus"],1.75,716],longrightleftharpoons:[["leftharpoondownplus","rightharpoonplus"],1.75,716],xleftrightharpoons:[["leftharpoonplus","rightharpoondownplus"],1.75,716],longleftrightharpoons:[["leftharpoonplus","rightharpoondownplus"],1.75,716],xhookleftarrow:[["leftarrow","righthook"],1.08,522],xhookrightarrow:[["lefthook","rightarrow"],1.08,522],overlinesegment:[["leftlinesegment","rightlinesegment"],.888,522],underlinesegment:[["leftlinesegment","rightlinesegment"],.888,522],overgroup:[["leftgroup","rightgroup"],.888,342],undergroup:[["leftgroupunder","rightgroupunder"],.888,342],xmapsto:[["leftmapsto","rightarrow"],1.5,522],xtofrom:[["leftToFrom","rightToFrom"],1.75,528],xleftrightarrows:[["baraboveleftarrow","rightarrowabovebar"],1.75,901],longleftrightarrows:[["baraboveleftarrow","rightarrowabovebar"],1.75,901],xRightleftharpoons:[["baraboveshortleftharpoon","rightharpoonaboveshortbar"],1.75,716],longRightleftharpoons:[["baraboveshortleftharpoon","rightharpoonaboveshortbar"],1.75,716],xLeftrightharpoons:[["shortbaraboveleftharpoon","shortrightharpoonabovebar"],1.75,716],longLeftrightharpoons:[["shortbaraboveleftharpoon","shortrightharpoonabovebar"],1.75,716]},us={widehat1:[1062,239,.24],widehat2:[2364,300,.3],widehat3:[2364,360,.36],widehat4:[2364,420,.42],widecheck1:[1062,239,.24],widecheck2:[2364,300,.3],widecheck3:[2364,360,.36],widecheck4:[2364,420,.42],widetilde1:[600,260,.26],widetilde2:[1033,286,.286],widetilde3:[2339,306,.306],widetilde4:[2340,312,.34],overarc:[1061,159,.3],underarc:[1061,159,.3]},hs={doubleleftarrow:"M262 157\nl10-10c34-36 62.7-77 86-123 3.3-8 5-13.3 5-16 0-5.3-6.7-8-20-8-7.3\n 0-12.2.5-14.5 1.5-2.3 1-4.8 4.5-7.5 10.5-49.3 97.3-121.7 169.3-217 216-28\n 14-57.3 25-88 33-6.7 2-11 3.8-13 5.5-2 1.7-3 4.2-3 7.5s1 5.8 3 7.5\nc2 1.7 6.3 3.5 13 5.5 68 17.3 128.2 47.8 180.5 91.5 52.3 43.7 93.8 96.2 124.5\n 157.5 9.3 8 15.3 12.3 18 13h6c12-.7 18-4 18-10 0-2-1.7-7-5-15-23.3-46-52-87\n-86-123l-10-10h399738v-40H218c328 0 0 0 0 0l-10-8c-26.7-20-65.7-43-117-69 2.7\n-2 6-3.7 10-5 36.7-16 72.3-37.3 107-64l10-8h399782v-40z\nm8 0v40h399730v-40zm0 194v40h399730v-40z",doublerightarrow:"M399738 392l\n-10 10c-34 36-62.7 77-86 123-3.3 8-5 13.3-5 16 0 5.3 6.7 8 20 8 7.3 0 12.2-.5\n 14.5-1.5 2.3-1 4.8-4.5 7.5-10.5 49.3-97.3 121.7-169.3 217-216 28-14 57.3-25 88\n-33 6.7-2 11-3.8 13-5.5 2-1.7 3-4.2 3-7.5s-1-5.8-3-7.5c-2-1.7-6.3-3.5-13-5.5-68\n-17.3-128.2-47.8-180.5-91.5-52.3-43.7-93.8-96.2-124.5-157.5-9.3-8-15.3-12.3-18\n-13h-6c-12 .7-18 4-18 10 0 2 1.7 7 5 15 23.3 46 52 87 86 123l10 10H0v40h399782\nc-328 0 0 0 0 0l10 8c26.7 20 65.7 43 117 69-2.7 2-6 3.7-10 5-36.7 16-72.3 37.3\n-107 64l-10 8H0v40zM0 157v40h399730v-40zm0 194v40h399730v-40z",leftarrow:"M400000 241H110l3-3c68.7-52.7 113.7-120\n 135-202 4-14.7 6-23 6-25 0-7.3-7-11-21-11-8 0-13.2.8-15.5 2.5-2.3 1.7-4.2 5.8\n-5.5 12.5-1.3 4.7-2.7 10.3-4 17-12 48.7-34.8 92-68.5 130S65.3 228.3 18 247\nc-10 4-16 7.7-18 11 0 8.7 6 14.3 18 17 47.3 18.7 87.8 47 121.5 85S196 441.3 208\n 490c.7 2 1.3 5 2 9s1.2 6.7 1.5 8c.3 1.3 1 3.3 2 6s2.2 4.5 3.5 5.5c1.3 1 3.3\n 1.8 6 2.5s6 1 10 1c14 0 21-3.7 21-11 0-2-2-10.3-6-25-20-79.3-65-146.7-135-202\n l-3-3h399890zM100 241v40h399900v-40z",leftbrace:"M6 548l-6-6v-35l6-11c56-104 135.3-181.3 238-232 57.3-28.7 117\n-45 179-50h399577v120H403c-43.3 7-81 15-113 26-100.7 33-179.7 91-237 174-2.7\n 5-6 9-10 13-.7 1-7.3 1-20 1H6z",leftbraceunder:"M0 6l6-6h17c12.688 0 19.313.3 20 1 4 4 7.313 8.3 10 13\n 35.313 51.3 80.813 93.8 136.5 127.5 55.688 33.7 117.188 55.8 184.5 66.5.688\n 0 2 .3 4 1 18.688 2.7 76 4.3 172 5h399450v120H429l-6-1c-124.688-8-235-61.7\n-331-161C60.687 138.7 32.312 99.3 7 54L0 41V6z",overarc:"M529 0c179 0 524 115 524 115 5 1 9 5 9 10 0 1-1 2-1 3l-4 22c-1 5-5 9-11 9h-2s-338-93-512-92c-174 0-513 92-513 92h-2c-5 0-9-4-11-9l-5-22c-1-6 2-12 8-13 0 0 342-115 520-115z",underarc:"m 529 160\n  c -179 0 -524 -115 -524 -115\n  c -5 -1 -9 -5 -9 -10\n  c 0 -1 1 -2 1 -3\n  l 4 -22\n  c 1 -5 5 -9 11 -9\n  h 2\n  s 338 93 512 92\n  c 174 0 513 -92 513 -92\n  h 2\n  c 5 0 9 4 11 9\n  l 5 22\n  c 1 6 -2 12 -8 13\n  c 0 0 -342 115 -520 115\n  z\n  ",leftgroup:"M400000 80\nH435C64 80 168.3 229.4 21 260c-5.9 1.2-18 0-18 0-2 0-3-1-3-3v-38C76 61 257 0\n 435 0h399565z",leftgroupunder:"M400000 262\nH435C64 262 168.3 112.6 21 82c-5.9-1.2-18 0-18 0-2 0-3 1-3 3v38c76 158 257 219\n 435 219h399565z",leftharpoon:"M0 267c.7 5.3 3 10 7 14h399993v-40H93c3.3\n-3.3 10.2-9.5 20.5-18.5s17.8-15.8 22.5-20.5c50.7-52 88-110.3 112-175 4-11.3 5\n-18.3 3-21-1.3-4-7.3-6-18-6-8 0-13 .7-15 2s-4.7 6.7-8 16c-42 98.7-107.3 174.7\n-196 228-6.7 4.7-10.7 8-12 10-1.3 2-2 5.7-2 11zm100-26v40h399900v-40z",leftharpoonplus:"M0 267c.7 5.3 3 10 7 14h399993v-40H93c3.3-3.3 10.2-9.5\n 20.5-18.5s17.8-15.8 22.5-20.5c50.7-52 88-110.3 112-175 4-11.3 5-18.3 3-21-1.3\n-4-7.3-6-18-6-8 0-13 .7-15 2s-4.7 6.7-8 16c-42 98.7-107.3 174.7-196 228-6.7 4.7\n-10.7 8-12 10-1.3 2-2 5.7-2 11zm100-26v40h399900v-40zM0 435v40h400000v-40z\nm0 0v40h400000v-40z",leftharpoondown:"M7 241c-4 4-6.333 8.667-7 14 0 5.333.667 9 2 11s5.333\n 5.333 12 10c90.667 54 156 130 196 228 3.333 10.667 6.333 16.333 9 17 2 .667 5\n 1 9 1h5c10.667 0 16.667-2 18-6 2-2.667 1-9.667-3-21-32-87.333-82.667-157.667\n-152-211l-3-3h399907v-40zM93 281 H400000 v-40L7 241z",leftharpoondownplus:"M7 435c-4 4-6.3 8.7-7 14 0 5.3.7 9 2 11s5.3 5.3 12\n 10c90.7 54 156 130 196 228 3.3 10.7 6.3 16.3 9 17 2 .7 5 1 9 1h5c10.7 0 16.7\n-2 18-6 2-2.7 1-9.7-3-21-32-87.3-82.7-157.7-152-211l-3-3h399907v-40H7zm93 0\nv40h399900v-40zM0 241v40h399900v-40zm0 0v40h399900v-40z",lefthook:"M400000 281 H103s-33-11.2-61-33.5S0 197.3 0 164s14.2-61.2 42.5\n-83.5C70.8 58.2 104 47 142 47 c16.7 0 25 6.7 25 20 0 12-8.7 18.7-26 20-40 3.3\n-68.7 15.7-86 37-10 12-15 25.3-15 40 0 22.7 9.8 40.7 29.5 54 19.7 13.3 43.5 21\n 71.5 23h399859zM103 281v-40h399897v40z",leftlinesegment:"M40 281 V428 H0 V94 H40 V241 H400000 v40z\nM40 281 V428 H0 V94 H40 V241 H400000 v40z",leftmapsto:"M40 281 V448H0V74H40V241H400000v40z\nM40 281 V448H0V74H40V241H400000v40z",leftToFrom:"M0 147h400000v40H0zm0 214c68 40 115.7 95.7 143 167h22c15.3 0 23\n-.3 23-1 0-1.3-5.3-13.7-16-37-18-35.3-41.3-69-70-101l-7-8h399905v-40H95l7-8\nc28.7-32 52-65.7 70-101 10.7-23.3 16-35.7 16-37 0-.7-7.7-1-23-1h-22C115.7 265.3\n 68 321 0 361zm0-174v-40h399900v40zm100 154v40h399900v-40z",longequal:"M0 50 h400000 v40H0z m0 194h40000v40H0z\nM0 50 h400000 v40H0z m0 194h40000v40H0z",midbrace:"M200428 334\nc-100.7-8.3-195.3-44-280-108-55.3-42-101.7-93-139-153l-9-14c-2.7 4-5.7 8.7-9 14\n-53.3 86.7-123.7 153-211 199-66.7 36-137.3 56.3-212 62H0V214h199568c178.3-11.7\n 311.7-78.3 403-201 6-8 9.7-12 11-12 .7-.7 6.7-1 18-1s17.3.3 18 1c1.3 0 5 4 11\n 12 44.7 59.3 101.3 106.3 170 141s145.3 54.3 229 60h199572v120z",midbraceunder:"M199572 214\nc100.7 8.3 195.3 44 280 108 55.3 42 101.7 93 139 153l9 14c2.7-4 5.7-8.7 9-14\n 53.3-86.7 123.7-153 211-199 66.7-36 137.3-56.3 212-62h199568v120H200432c-178.3\n 11.7-311.7 78.3-403 201-6 8-9.7 12-11 12-.7.7-6.7 1-18 1s-17.3-.3-18-1c-1.3 0\n-5-4-11-12-44.7-59.3-101.3-106.3-170-141s-145.3-54.3-229-60H0V214z",oiintSize1:"M512.6 71.6c272.6 0 320.3 106.8 320.3 178.2 0 70.8-47.7 177.6\n-320.3 177.6S193.1 320.6 193.1 249.8c0-71.4 46.9-178.2 319.5-178.2z\nm368.1 178.2c0-86.4-60.9-215.4-368.1-215.4-306.4 0-367.3 129-367.3 215.4 0 85.8\n60.9 214.8 367.3 214.8 307.2 0 368.1-129 368.1-214.8z",oiintSize2:"M757.8 100.1c384.7 0 451.1 137.6 451.1 230 0 91.3-66.4 228.8\n-451.1 228.8-386.3 0-452.7-137.5-452.7-228.8 0-92.4 66.4-230 452.7-230z\nm502.4 230c0-111.2-82.4-277.2-502.4-277.2s-504 166-504 277.2\nc0 110 84 276 504 276s502.4-166 502.4-276z",oiiintSize1:"M681.4 71.6c408.9 0 480.5 106.8 480.5 178.2 0 70.8-71.6 177.6\n-480.5 177.6S202.1 320.6 202.1 249.8c0-71.4 70.5-178.2 479.3-178.2z\nm525.8 178.2c0-86.4-86.8-215.4-525.7-215.4-437.9 0-524.7 129-524.7 215.4 0\n85.8 86.8 214.8 524.7 214.8 438.9 0 525.7-129 525.7-214.8z",oiiintSize2:"M1021.2 53c603.6 0 707.8 165.8 707.8 277.2 0 110-104.2 275.8\n-707.8 275.8-606 0-710.2-165.8-710.2-275.8C311 218.8 415.2 53 1021.2 53z\nm770.4 277.1c0-131.2-126.4-327.6-770.5-327.6S248.4 198.9 248.4 330.1\nc0 130 128.8 326.4 772.7 326.4s770.5-196.4 770.5-326.4z",rightarrow:"M0 241v40h399891c-47.3 35.3-84 78-110 128\n-16.7 32-27.7 63.7-33 95 0 1.3-.2 2.7-.5 4-.3 1.3-.5 2.3-.5 3 0 7.3 6.7 11 20\n 11 8 0 13.2-.8 15.5-2.5 2.3-1.7 4.2-5.5 5.5-11.5 2-13.3 5.7-27 11-41 14.7-44.7\n 39-84.5 73-119.5s73.7-60.2 119-75.5c6-2 9-5.7 9-11s-3-9-9-11c-45.3-15.3-85\n-40.5-119-75.5s-58.3-74.8-73-119.5c-4.7-14-8.3-27.3-11-40-1.3-6.7-3.2-10.8-5.5\n-12.5-2.3-1.7-7.5-2.5-15.5-2.5-14 0-21 3.7-21 11 0 2 2 10.3 6 25 20.7 83.3 67\n 151.7 139 205zm0 0v40h399900v-40z",rightbrace:"M400000 542l\n-6 6h-17c-12.7 0-19.3-.3-20-1-4-4-7.3-8.3-10-13-35.3-51.3-80.8-93.8-136.5-127.5\ns-117.2-55.8-184.5-66.5c-.7 0-2-.3-4-1-18.7-2.7-76-4.3-172-5H0V214h399571l6 1\nc124.7 8 235 61.7 331 161 31.3 33.3 59.7 72.7 85 118l7 13v35z",rightbraceunder:"M399994 0l6 6v35l-6 11c-56 104-135.3 181.3-238 232-57.3\n 28.7-117 45-179 50H-300V214h399897c43.3-7 81-15 113-26 100.7-33 179.7-91 237\n-174 2.7-5 6-9 10-13 .7-1 7.3-1 20-1h17z",rightgroup:"M0 80h399565c371 0 266.7 149.4 414 180 5.9 1.2 18 0 18 0 2 0\n 3-1 3-3v-38c-76-158-257-219-435-219H0z",rightgroupunder:"M0 262h399565c371 0 266.7-149.4 414-180 5.9-1.2 18 0 18\n 0 2 0 3 1 3 3v38c-76 158-257 219-435 219H0z",rightharpoon:"M0 241v40h399993c4.7-4.7 7-9.3 7-14 0-9.3\n-3.7-15.3-11-18-92.7-56.7-159-133.7-199-231-3.3-9.3-6-14.7-8-16-2-1.3-7-2-15-2\n-10.7 0-16.7 2-18 6-2 2.7-1 9.7 3 21 15.3 42 36.7 81.8 64 119.5 27.3 37.7 58\n 69.2 92 94.5zm0 0v40h399900v-40z",rightharpoonplus:"M0 241v40h399993c4.7-4.7 7-9.3 7-14 0-9.3-3.7-15.3-11\n-18-92.7-56.7-159-133.7-199-231-3.3-9.3-6-14.7-8-16-2-1.3-7-2-15-2-10.7 0-16.7\n 2-18 6-2 2.7-1 9.7 3 21 15.3 42 36.7 81.8 64 119.5 27.3 37.7 58 69.2 92 94.5z\nm0 0v40h399900v-40z m100 194v40h399900v-40zm0 0v40h399900v-40z",rightharpoondown:"M399747 511c0 7.3 6.7 11 20 11 8 0 13-.8 15-2.5s4.7-6.8\n 8-15.5c40-94 99.3-166.3 178-217 13.3-8 20.3-12.3 21-13 5.3-3.3 8.5-5.8 9.5\n-7.5 1-1.7 1.5-5.2 1.5-10.5s-2.3-10.3-7-15H0v40h399908c-34 25.3-64.7 57-92 95\n-27.3 38-48.7 77.7-64 119-3.3 8.7-5 14-5 16zM0 241v40h399900v-40z",rightharpoondownplus:"M399747 705c0 7.3 6.7 11 20 11 8 0 13-.8\n 15-2.5s4.7-6.8 8-15.5c40-94 99.3-166.3 178-217 13.3-8 20.3-12.3 21-13 5.3-3.3\n 8.5-5.8 9.5-7.5 1-1.7 1.5-5.2 1.5-10.5s-2.3-10.3-7-15H0v40h399908c-34 25.3\n-64.7 57-92 95-27.3 38-48.7 77.7-64 119-3.3 8.7-5 14-5 16zM0 435v40h399900v-40z\nm0-194v40h400000v-40zm0 0v40h400000v-40z",righthook:"M399859 241c-764 0 0 0 0 0 40-3.3 68.7-15.7 86-37 10-12 15-25.3\n 15-40 0-22.7-9.8-40.7-29.5-54-19.7-13.3-43.5-21-71.5-23-17.3-1.3-26-8-26-20 0\n-13.3 8.7-20 26-20 38 0 71 11.2 99 33.5 0 0 7 5.6 21 16.7 14 11.2 21 33.5 21\n 66.8s-14 61.2-42 83.5c-28 22.3-61 33.5-99 33.5L0 241z M0 281v-40h399859v40z",rightlinesegment:"M399960 241 V94 h40 V428 h-40 V281 H0 v-40z\nM399960 241 V94 h40 V428 h-40 V281 H0 v-40z",rightToFrom:"M400000 167c-70.7-42-118-97.7-142-167h-23c-15.3 0-23 .3-23\n 1 0 1.3 5.3 13.7 16 37 18 35.3 41.3 69 70 101l7 8H0v40h399905l-7 8c-28.7 32\n-52 65.7-70 101-10.7 23.3-16 35.7-16 37 0 .7 7.7 1 23 1h23c24-69.3 71.3-125 142\n-167z M100 147v40h399900v-40zM0 341v40h399900v-40z",twoheadleftarrow:"M0 167c68 40\n 115.7 95.7 143 167h22c15.3 0 23-.3 23-1 0-1.3-5.3-13.7-16-37-18-35.3-41.3-69\n-70-101l-7-8h125l9 7c50.7 39.3 85 86 103 140h46c0-4.7-6.3-18.7-19-42-18-35.3\n-40-67.3-66-96l-9-9h399716v-40H284l9-9c26-28.7 48-60.7 66-96 12.7-23.333 19\n-37.333 19-42h-46c-18 54-52.3 100.7-103 140l-9 7H95l7-8c28.7-32 52-65.7 70-101\n 10.7-23.333 16-35.7 16-37 0-.7-7.7-1-23-1h-22C115.7 71.3 68 127 0 167z",twoheadrightarrow:"M400000 167\nc-68-40-115.7-95.7-143-167h-22c-15.3 0-23 .3-23 1 0 1.3 5.3 13.7 16 37 18 35.3\n 41.3 69 70 101l7 8h-125l-9-7c-50.7-39.3-85-86-103-140h-46c0 4.7 6.3 18.7 19 42\n 18 35.3 40 67.3 66 96l9 9H0v40h399716l-9 9c-26 28.7-48 60.7-66 96-12.7 23.333\n-19 37.333-19 42h46c18-54 52.3-100.7 103-140l9-7h125l-7 8c-28.7 32-52 65.7-70\n 101-10.7 23.333-16 35.7-16 37 0 .7 7.7 1 23 1h22c27.3-71.3 75-127 143-167z",widetilde1:"M200 55.538c-77 0-168 73.953-177 73.953-3 0-7\n-2.175-9-5.437L2 97c-1-2-2-4-2-6 0-4 2-7 5-9l20-12C116 12 171 0 207 0c86 0\n 114 68 191 68 78 0 168-68 177-68 4 0 7 2 9 5l12 19c1 2.175 2 4.35 2 6.525 0\n 4.35-2 7.613-5 9.788l-19 13.05c-92 63.077-116.937 75.308-183 76.128\n-68.267.847-113-73.952-191-73.952z",widetilde2:"M344 55.266c-142 0-300.638 81.316-311.5 86.418\n-8.01 3.762-22.5 10.91-23.5 5.562L1 120c-1-2-1-3-1-4 0-5 3-9 8-10l18.4-9C160.9\n 31.9 283 0 358 0c148 0 188 122 331 122s314-97 326-97c4 0 8 2 10 7l7 21.114\nc1 2.14 1 3.21 1 4.28 0 5.347-3 9.626-7 10.696l-22.3 12.622C852.6 158.372 751\n 181.476 676 181.476c-149 0-189-126.21-332-126.21z",widetilde3:"M786 59C457 59 32 175.242 13 175.242c-6 0-10-3.457\n-11-10.37L.15 138c-1-7 3-12 10-13l19.2-6.4C378.4 40.7 634.3 0 804.3 0c337 0\n 411.8 157 746.8 157 328 0 754-112 773-112 5 0 10 3 11 9l1 14.075c1 8.066-.697\n 16.595-6.697 17.492l-21.052 7.31c-367.9 98.146-609.15 122.696-778.15 122.696\n -338 0-409-156.573-744-156.573z",widetilde4:"M786 58C457 58 32 177.487 13 177.487c-6 0-10-3.345\n-11-10.035L.15 143c-1-7 3-12 10-13l22-6.7C381.2 35 637.15 0 807.15 0c337 0 409\n 177 744 177 328 0 754-127 773-127 5 0 10 3 11 9l1 14.794c1 7.805-3 13.38-9\n 14.495l-20.7 5.574c-366.85 99.79-607.3 139.372-776.3 139.372-338 0-409\n -175.236-744-175.236z",vec:"M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 5\n3.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 11\n10.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63\n-1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1\n-7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59\nH213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359\nc-16-25.333-24-45-24-59z",widehat1:"M529 0h5l519 115c5 1 9 5 9 10 0 1-1 2-1 3l-4 22\nc-1 5-5 9-11 9h-2L532 67 19 159h-2c-5 0-9-4-11-9l-5-22c-1-6 2-12 8-13z",widehat2:"M1181 0h2l1171 176c6 0 10 5 10 11l-2 23c-1 6-5 10\n-11 10h-1L1182 67 15 220h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z",widehat3:"M1181 0h2l1171 236c6 0 10 5 10 11l-2 23c-1 6-5 10\n-11 10h-1L1182 67 15 280h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z",widehat4:"M1181 0h2l1171 296c6 0 10 5 10 11l-2 23c-1 6-5 10\n-11 10h-1L1182 67 15 340h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z",widecheck1:"M529,159h5l519,-115c5,-1,9,-5,9,-10c0,-1,-1,-2,-1,-3l-4,-22c-1,\n-5,-5,-9,-11,-9h-2l-512,92l-513,-92h-2c-5,0,-9,4,-11,9l-5,22c-1,6,2,12,8,13z",widecheck2:"M1181,220h2l1171,-176c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,\n-11,-10h-1l-1168,153l-1167,-153h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z",widecheck3:"M1181,280h2l1171,-236c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,\n-11,-10h-1l-1168,213l-1167,-213h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z",widecheck4:"M1181,340h2l1171,-296c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,\n-11,-10h-1l-1168,273l-1167,-273h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z",baraboveleftarrow:"M400000 620h-399890l3 -3c68.7 -52.7 113.7 -120 135 -202\nc4 -14.7 6 -23 6 -25c0 -7.3 -7 -11 -21 -11c-8 0 -13.2 0.8 -15.5 2.5\nc-2.3 1.7 -4.2 5.8 -5.5 12.5c-1.3 4.7 -2.7 10.3 -4 17c-12 48.7 -34.8 92 -68.5 130\ns-74.2 66.3 -121.5 85c-10 4 -16 7.7 -18 11c0 8.7 6 14.3 18 17c47.3 18.7 87.8 47\n121.5 85s56.5 81.3 68.5 130c0.7 2 1.3 5 2 9s1.2 6.7 1.5 8c0.3 1.3 1 3.3 2 6\ns2.2 4.5 3.5 5.5c1.3 1 3.3 1.8 6 2.5s6 1 10 1c14 0 21 -3.7 21 -11\nc0 -2 -2 -10.3 -6 -25c-20 -79.3 -65 -146.7 -135 -202l-3 -3h399890z\nM100 620v40h399900v-40z M0 241v40h399900v-40zM0 241v40h399900v-40z",rightarrowabovebar:"M0 241v40h399891c-47.3 35.3-84 78-110 128-16.7 32\n-27.7 63.7-33 95 0 1.3-.2 2.7-.5 4-.3 1.3-.5 2.3-.5 3 0 7.3 6.7 11 20 11 8 0\n13.2-.8 15.5-2.5 2.3-1.7 4.2-5.5 5.5-11.5 2-13.3 5.7-27 11-41 14.7-44.7 39\n-84.5 73-119.5s73.7-60.2 119-75.5c6-2 9-5.7 9-11s-3-9-9-11c-45.3-15.3-85-40.5\n-119-75.5s-58.3-74.8-73-119.5c-4.7-14-8.3-27.3-11-40-1.3-6.7-3.2-10.8-5.5\n-12.5-2.3-1.7-7.5-2.5-15.5-2.5-14 0-21 3.7-21 11 0 2 2 10.3 6 25 20.7 83.3 67\n151.7 139 205zm96 379h399894v40H0zm0 0h399904v40H0z",baraboveshortleftharpoon:"M507,435c-4,4,-6.3,8.7,-7,14c0,5.3,0.7,9,2,11\nc1.3,2,5.3,5.3,12,10c90.7,54,156,130,196,228c3.3,10.7,6.3,16.3,9,17\nc2,0.7,5,1,9,1c0,0,5,0,5,0c10.7,0,16.7,-2,18,-6c2,-2.7,1,-9.7,-3,-21\nc-32,-87.3,-82.7,-157.7,-152,-211c0,0,-3,-3,-3,-3l399351,0l0,-40\nc-398570,0,-399437,0,-399437,0z M593 435 v40 H399500 v-40z\nM0 281 v-40 H399908 v40z M0 281 v-40 H399908 v40z",rightharpoonaboveshortbar:"M0,241 l0,40c399126,0,399993,0,399993,0\nc4.7,-4.7,7,-9.3,7,-14c0,-9.3,-3.7,-15.3,-11,-18c-92.7,-56.7,-159,-133.7,-199,\n-231c-3.3,-9.3,-6,-14.7,-8,-16c-2,-1.3,-7,-2,-15,-2c-10.7,0,-16.7,2,-18,6\nc-2,2.7,-1,9.7,3,21c15.3,42,36.7,81.8,64,119.5c27.3,37.7,58,69.2,92,94.5z\nM0 241 v40 H399908 v-40z M0 475 v-40 H399500 v40z M0 475 v-40 H399500 v40z",shortbaraboveleftharpoon:"M7,435c-4,4,-6.3,8.7,-7,14c0,5.3,0.7,9,2,11\nc1.3,2,5.3,5.3,12,10c90.7,54,156,130,196,228c3.3,10.7,6.3,16.3,9,17c2,0.7,5,1,9,\n1c0,0,5,0,5,0c10.7,0,16.7,-2,18,-6c2,-2.7,1,-9.7,-3,-21c-32,-87.3,-82.7,-157.7,\n-152,-211c0,0,-3,-3,-3,-3l399907,0l0,-40c-399126,0,-399993,0,-399993,0z\nM93 435 v40 H400000 v-40z M500 241 v40 H400000 v-40z M500 241 v40 H400000 v-40z",shortrightharpoonabovebar:"M53,241l0,40c398570,0,399437,0,399437,0\nc4.7,-4.7,7,-9.3,7,-14c0,-9.3,-3.7,-15.3,-11,-18c-92.7,-56.7,-159,-133.7,-199,\n-231c-3.3,-9.3,-6,-14.7,-8,-16c-2,-1.3,-7,-2,-15,-2c-10.7,0,-16.7,2,-18,6\nc-2,2.7,-1,9.7,3,21c15.3,42,36.7,81.8,64,119.5c27.3,37.7,58,69.2,92,94.5z\nM500 241 v40 H399408 v-40z M500 435 v40 H400000 v-40z"};var ds={m0:"#3F3D99",m1:"#993D71",m2:"#998B3D",m3:"#3D9956",m4:"#3D5A99",m5:"#993D90",m6:"#996D3D",m7:"#43993D",m8:"#3D7999",m9:"#843D99"},ms={blue:"#0072BD",orange:"#D95319",yellow:"#EDB120",purple:"#7E2F8E",green:"#77AC30",cyan:"#4DBEEE",red:"#A2142F"},ps={red:"#fbbbb6",orange:"#ffe0c2",yellow:"#fff1c2",lime:"#d0e8b9",green:"#bceac4",teal:"#b9f1f1",cyan:"#b8e5c9",blue:"#b6d9fb",indigo:"#d1c2f0",purple:"#e3baf8",magenta:"#f9c8e0",black:"#353535","dark-grey":"#8C8C8C",grey:"#D0D0D0","light-grey":"#F0F0F0",white:"#ffffff"},gs={red:"#d7170b",orange:"#fe8a2b",yellow:"#ffc02b",lime:"#63b215",green:"#21ba3a",teal:"#17cfcf",cyan:"#13a7ec",blue:"#0d80f2",indigo:"#63c",purple:"#a219e6",magenta:"#eb4799",black:"#000","dark-grey":"#666",grey:"#A6A6A6","light-grey":"#d4d5d2",white:"#ffffff"},fs={Red:"red",Orange:"orange",Yellow:"yellow",LimeGreen:"lime",Green:"green",TealBlue:"teal",Blue:"blue",Violet:"indigo",Purple:"purple",Magenta:"magenta",Black:"black",Gray:"grey",White:"white"},ys={Apricot:"#FBB982",Aquamarine:"#00B5BE",Bittersweet:"#C04F17",Black:"#221E1F",Blue:"#2D2F92",BlueGreen:"#00B3B8",BlueViolet:"#473992",BrickRed:"#B6321C",Brown:"#792500",BurntOrange:"#F7921D",CadetBlue:"#74729A",CarnationPink:"#F282B4",Cerulean:"#00A2E3",CornflowerBlue:"#41B0E4",Cyan:"#00AEEF",Dandelion:"#FDBC42",DarkOrchid:"#A4538A",Emerald:"#00A99D",ForestGreen:"#009B55",Fuchsia:"#8C368C",Goldenrod:"#FFDF42",Gray:"#949698",Green:"#00A64F",GreenYellow:"#DFE674",JungleGreen:"#00A99A",Lavender:"#F49EC4",Limegreen:"#8DC73E",Magenta:"#EC008C",Mahogany:"#A9341F",Maroon:"#AF3235",Melon:"#F89E7B",MidnightBlue:"#006795",Mulberry:"#A93C93",NavyBlue:"#006EB8",OliveGreen:"#3C8031",Orange:"#F58137",OrangeRed:"#ED135A",Orchid:"#AF72B0",Peach:"#F7965A",Periwinkle:"#7977B8",PineGreen:"#008B72",Plum:"#92268F",ProcessBlue:"#00B0F0",Purple:"#99479B",RawSienna:"#974006",Red:"#ED1B23",RedOrange:"#F26035",RedViolet:"#A1246B",Rhodamine:"#EF559F",RoyalBlue:"#0071BC",RoyalPurple:"#613F99",RubineRed:"#ED017D",Salmon:"#F69289",SeaGreen:"#3FBC9D",Sepia:"#671800",SkyBlue:"#46C5DD",SpringGreen:"#C6DC67",Tan:"#DA9D76",TealBlue:"#00AEB3",Thistle:"#D883B7",Turquoise:"#00B4CE",Violet:"#58429B",VioletRed:"#EF58A0",White:"#FFFFFF",WildStrawberry:"#EE2967",Yellow:"#FFF200",YellowGreen:"#98CC70",YellowOrange:"#FAA21A"};function bs(e){var t,r,i,a,s,n;let o,l,c,u=e.split("!"),h=255,d=255,m=255,p=-1,g=u.length>0&&u[0].startsWith("-");g&&(u[0]=u[0].slice(1));for(let e=0;e<u.length;e++){o=h,l=d,c=m;let g=null==(t=u[e].trim().match(/^([A-Za-z\d-]+)/))?void 0:t[1],f=g?.toLowerCase(),y=g&&null!=(n=null!=(s=null!=(a=null!=(i=null!=(r=gs[f])?r:gs[fs[g]])?i:ms[g])?a:ys[g])?s:ds[g])?n:u[e].trim(),b=y.match(/^#([\da-f]{2})([\da-f]{2})([\da-f]{2})$/i);if(null!=b&&b[1]&&b[2]&&b[3])h=Math.max(0,Math.min(255,Number.parseInt(b[1],16))),d=Math.max(0,Math.min(255,Number.parseInt(b[2],16))),m=Math.max(0,Math.min(255,Number.parseInt(b[3],16)));else if(b=y.match(/^#([\da-f]{3})$/i),null!=b&&b[1]){let e=Number.parseInt(b[1][0],16),t=Number.parseInt(b[1][1],16),r=Number.parseInt(b[1][2],16);h=Math.max(0,Math.min(255,16*e+e)),d=Math.max(0,Math.min(255,16*t+t)),m=Math.max(0,Math.min(255,16*r+r))}else{if(b=y.match(/^rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)$/i),!(null!=b&&b[1]&&b[2]&&b[3]))return;h=Math.max(0,Math.min(255,Number.parseInt(b[1]))),d=Math.max(0,Math.min(255,Number.parseInt(b[2]))),m=Math.max(0,Math.min(255,Number.parseInt(b[3])))}p>=0&&(h=(1-p)*h+p*o,d=(1-p)*d+p*l,m=(1-p)*m+p*c,p=-1),e+1<u.length&&(p=Math.max(0,Math.min(100,Number.parseInt(u[++e])))/100)}return p>=0&&(h=p*h+(1-p)*o,d=p*d+(1-p)*l,m=p*m+(1-p)*c),g&&(h=255-h,d=255-d,m=255-m),"#"+("00"+Math.round(h).toString(16)).slice(-2)+("00"+Math.round(d).toString(16)).slice(-2)+("00"+Math.round(m).toString(16)).slice(-2)}function vs(e){var t,r;return e=e.trim(),null!=(r=null!=(t=ps[e.toLowerCase()])?t:ps[fs[e]])?r:bs(e)}function ws(e,t,r){return r<0&&(r+=6),r>=6&&(r-=6),r<1?(t-e)*r+e:r<3?t:r<4?(t-e)*(4-r)+e:e}function _s(e){return e<0?0:e>255?255:Math.round(e)}function Ss(e){let t=function(e){if(!e||"#"!==e[0])return;let t;return(e=e.slice(1)).length<=4?(t={r:parseInt(e[0]+e[0],16),g:parseInt(e[1]+e[1],16),b:parseInt(e[2]+e[2],16)},4===e.length&&(t.a=parseInt(e[3]+e[3],16)/255)):(t={r:parseInt(e[0]+e[1],16),g:parseInt(e[2]+e[3],16),b:parseInt(e[4]+e[5],16)},8===e.length&&(t.a=parseInt(e[6]+e[7],16)/255)),t&&void 0===t.a&&(t.a=1),t}(e);if(!t)return e;let{h:r,s:i,l:a}=function(e){let{r:t,g:r,b:i}=e;t/=255,r/=255,i/=255;let a,s,n=Math.min(t,r,i),o=Math.max(t,r,i),l=o-n;o===n?a=0:t===o?a=(r-i)/l:r===o?a=2+(i-t)/l:i===o&&(a=4+(t-r)/l),a=Math.min(60*a,360),a<0&&(a+=360);let c=(n+o)/2;return s=o===n?0:c<=.5?l/(o+n):l/(2-o-n),{h:a,s:s,l:c}}(t);return i+=.1,a-=.1,function(e){let{r:t,g:r,b:i}=e,a=((1<<24)+(_s(t)<<16)+(_s(r)<<8)+_s(i)).toString(16).slice(1);return a[0]===a[1]&&a[2]===a[3]&&a[4]===a[5]&&a[6]===a[7]&&(a=a[0]+a[2]+a[4]),"#"+a}(function(e){let[t,r,i]=[e.h,e.s,e.l];t=(t+360)%360/60,i=Math.max(0,Math.min(i,1)),r=Math.max(0,Math.min(r,1));let a=i<=.5?i*(r+1):i+r-i*r,s=2*i-a;return{r:Math.round(255*ws(s,a,t+2)),g:Math.round(255*ws(s,a,t)),b:Math.round(255*ws(s,a,t-2))}}({h:r,s:i,l:a}))}function xs(){return"window"in globalThis&&"document"in globalThis}var Ms={60:"\\lt",62:"\\gt",111:"o",38:"\\&",123:"\\lbrace",125:"\\rbrace",91:"\\lbrack",93:"\\rbrack",58:"\\colon",160:"~",172:"\\neg",183:"\\cdot",188:"\\frac{1}{4}",189:"\\frac{1}{2}",190:"\\frac{3}{4}",8304:"^{0}",8305:"^{i}",185:"^{1}",178:"^{2}",179:"^{3}",8224:"\\dagger",8225:"\\ddagger",8230:"\\ldots",8308:"^{4}",8309:"^{5}",8310:"^{6}",8311:"^{7}",8312:"^{8}",8313:"^{9}",8314:"^{+}",8315:"^{-}",8316:"^{=}",8319:"^{n}",8320:"_{0}",8321:"_{1}",8322:"_{2}",8323:"_{3}",8324:"_{4}",8325:"_{5}",8326:"_{6}",8327:"_{7}",8328:"_{8}",8329:"_{9}",8330:"_{+}",8331:"_{-}",8332:"_{=}",8336:"_{a}",8337:"_{e}",8338:"_{o}",8339:"_{x}",8242:"\\prime",39:"\\prime",8592:"\\gets",8594:"\\to",9651:"\\triangle",9661:"\\triangledown",8715:"\\owns",8727:"\\ast",8739:"\\vert",8741:"\\Vert",8743:"\\land",8744:"\\lor",8901:"\\cdot",8904:"\\bowtie",8800:"\\ne",8804:"\\le",8805:"\\ge",8869:"\\bot",10231:"\\biconditional",10232:"\\impliedby",10233:"\\implies",10234:"\\iff",8450:"\\mathbb{C}",8469:"\\mathbb{N}",8473:"\\mathbb{P}",8474:"\\mathbb{Q}",8477:"\\mathbb{R}",8484:"\\mathbb{Z}",8461:"\\mathbb{H}",8476:"\\Re",8465:"\\Im",42:"\\ast",11036:"\\square",9633:"\\square",8720:"\\coprod",8716:"\\not\\ni",9671:"\\diamond",8846:"\\uplus",8851:"\\sqcap",8852:"\\sqcup",8768:"\\wr",8750:"\\oint",8226:"\\textbullet",8722:"-",978:"\\Upsilon"},ks={119893:8462,119965:8492,119968:8496,119969:8497,119971:8459,119972:8464,119975:8466,119976:8499,119981:8475,119994:8495,119996:8458,120004:8500,120070:8493,120075:8460,120076:8465,120085:8476,120093:8488,120122:8450,120127:8461,120133:8469,120135:8473,120136:8474,120137:8477,120145:8484},Ls=[{start:119808,len:26,offset:65,style:"bold"},{start:119834,len:26,offset:97,style:"bold"},{start:120488,len:25,offset:913,style:"bold"},{start:120514,len:25,offset:945,style:"bold"},{start:119860,len:26,offset:65,style:"italic"},{start:119886,len:26,offset:97,style:"italic"},{start:120546,len:25,offset:913,style:"italic"},{start:120572,len:25,offset:945,style:"italic"},{start:119912,len:26,offset:65,style:"bolditalic"},{start:119938,len:26,offset:97,style:"bolditalic"},{start:120604,len:25,offset:913,style:"bolditalic"},{start:120630,len:25,offset:945,style:"bolditalic"},{start:120782,len:10,offset:48,variant:"main",style:"bold"},{start:119964,len:26,offset:65,variant:"script"},{start:119990,len:26,offset:97,variant:"script"},{start:120016,len:26,offset:65,variant:"script",style:"bold"},{start:120042,len:26,offset:97,variant:"script",style:"bold"},{start:120068,len:26,offset:65,variant:"fraktur"},{start:120094,len:26,offset:97,variant:"fraktur"},{start:120172,len:26,offset:65,variant:"fraktur",style:"bold"},{start:120198,len:26,offset:97,variant:"fraktur",style:"bold"},{start:120120,len:26,offset:65,variant:"double-struck"},{start:120146,len:26,offset:97,variant:"double-struck"},{start:120792,len:10,offset:48,variant:"double-struck"},{start:120432,len:26,offset:65,variant:"monospace"},{start:120458,len:26,offset:97,variant:"monospace"},{start:120822,len:10,offset:48,variant:"monospace"},{start:120224,len:26,offset:65,variant:"sans-serif"},{start:120250,len:26,offset:97,variant:"sans-serif"},{start:120276,len:26,offset:65,variant:"sans-serif",style:"bold"},{start:120302,len:26,offset:97,variant:"sans-serif",style:"bold"},{start:120328,len:26,offset:65,variant:"sans-serif",style:"italic"},{start:120354,len:26,offset:97,variant:"sans-serif",style:"italic"},{start:120380,len:26,offset:65,variant:"sans-serif",style:"bolditalic"},{start:120406,len:26,offset:97,variant:"sans-serif",style:"bolditalic"},{start:120662,len:25,offset:913,variant:"sans-serif",style:"bold"},{start:120688,len:25,offset:945,variant:"sans-serif",style:"bold"},{start:120720,len:25,offset:913,variant:"sans-serif",style:"bolditalic"},{start:120746,len:25,offset:945,variant:"sans-serif",style:"bolditalic"},{start:120803,len:10,offset:48,variant:"sans-serif"},{start:120812,len:10,offset:48,variant:"sans-serif",style:"bold"}];function As(e,t,r){if(!/[A-Za-z\d]/.test(e)||("up"===r&&(r=void 0),!t&&!r))return;let i=e.codePointAt(0);if(void 0===i)return e;for(let e of Ls)if((!t||e.variant===t)&&(!r||e.style===r)&&i>=e.offset&&i<e.offset+e.len){let t=e.start+i-e.offset;return String.fromCodePoint(ks[t]||t)}}function Cs(e){var t;if("{}<>[]$&*#^_%:'".includes(e)||e.length>1)return;let r=null!=(t=e.codePointAt(0))?t:0,i=Ms[r];if(i)return i;let{char:a,variant:s,style:n}=function(e){var t;if((e<119808||e>120831)&&(e<8448||e>8527))return{char:String.fromCodePoint(e)};for(let r in ks)if(ks[r]===e){e=null!=(t=r.codePointAt(0))?t:0;break}for(let t of Ls)if(e>=t.start&&e<t.start+t.len)return{char:String.fromCodePoint(e-t.start+t.offset),variant:t.variant,style:t.style};return{char:String.fromCodePoint(e)}}(r);if(s||n){switch(i=a,s){case"double-struck":i=`\\mathbb{${i}}`;break;case"fraktur":i=`\\mathfrak{${i}}`;break;case"script":i=`\\mathscr{${i}}`;break;case"sans-serif":i=`\\mathsf{${i}}`;break;case"monospace":i=`\\mathtt{${i}}`;break;case"calligraphic":i=`\\mathcal{${i}}`}switch(n){case"bold":i=`\\mathbf{${i}}`;break;case"italic":i=`\\mathit{${i}}`;break;case"bolditalic":i=`\\mathbfit{${i}}`}return i}}var Ts={" ":"\\:",_:"{\\_}",".":".",",":"{,}","'":"'","":""},Ds=class{static getThousandSeparatorMacro(e){return{thousandSep:{def:Ts[e||""],isImplicitArg:!1}}}static getThousandthSeparatorMacro(e){return{thousandthSep:{def:Ts[e||""],isImplicitArg:!1}}}static getDecimalSeparatorMacro(e){return{decimalsep:{def:Ts[e||"."],isImplicitArg:!1}}}};function Es(e){return e?Array.isArray(e)?e:"object"==typeof e&&"group"in e?e.group:[]:[]}var Fs,Is={},Ps=w({},Ms),zs={},Bs={},Os=w({iff:{primitive:!0,captureSelection:!0,def:'\\;\\char"27FA\\;'},nicefrac:"^{#1}\\!\\!/\\!_{#2}",phase:{def:"\\enclose{phasorangle}{#1}",args:1,captureSelection:!1},rd:"\\mathrm{d}",rD:"\\mathrm{D}",doubleStruckCapitalN:"\\mathbb{N}",doubleStruckCapitalR:"\\mathbb{R}",doubleStruckCapitalQ:"\\mathbb{Q}",doubleStruckCapitalZ:"\\mathbb{Z}",doubleStruckCapitalP:"\\mathbb{P}",scriptCapitalE:"\\mathscr{E}",scriptCapitalH:"\\mathscr{H}",scriptCapitalL:"\\mathscr{L}",gothicCapitalC:"\\mathfrak{C}",gothicCapitalH:"\\mathfrak{H}",gothicCapitalI:"\\mathfrak{I}",gothicCapitalR:"\\mathfrak{R}",imaginaryI:"\\mathrm{i}",imaginaryJ:"\\mathrm{j}",differentialD:"\\mathrm{d}",capitalDifferentialD:"\\mathrm{D}",mathstrut:{def:"\\vphantom{(}",primitive:!0},angl:"\\enclose{actuarial}{#1}",angln:"\\enclose{actuarial}{n}",anglr:"\\enclose{actuarial}{r}",anglk:"\\enclose{actuarial}{k}",mathtools:{primitive:!0,package:{ordinarycolon:":",vcentcolon:"\\mathrel{\\mathop\\ordinarycolon}",dblcolon:'{\\mathop{\\char"2237}}',coloneqq:'{\\mathop{\\char"2254}}',Coloneqq:'{\\mathop{\\char"2237\\char"3D}}',coloneq:'{\\mathop{\\char"3A\\char"2212}}',Coloneq:'{\\mathop{\\char"2237\\char"2212}}',eqqcolon:'{\\mathop{\\char"2255}}',Eqqcolon:'{\\mathop{\\char"3D\\char"2237}}',eqcolon:'{\\mathop{\\char"2239}}',Eqcolon:'{\\mathop{\\char"2212\\char"2237}}',colonapprox:'{\\mathop{\\char"003A\\char"2248}}',Colonapprox:'{\\mathop{\\char"2237\\char"2248}}',colonsim:'{\\mathop{\\char"3A\\char"223C}}',Colonsim:'{\\mathop{\\char"2237\\char"223C}}',colondash:"\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}\\mathrel{-}}",Colondash:"\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}\\mathrel{-}}",dashcolon:"\\mathrel{\\mathrel{-}\\mathrel{\\mkern-1.2mu}\\vcentcolon}",Dashcolon:"\\mathrel{\\mathrel{-}\\mathrel{\\mkern-1.2mu}\\dblcolon}"}},ratio:"\\vcentcolon",coloncolon:"\\dblcolon",colonequals:"\\coloneq",coloncolonequals:"\\Coloneq",equalscolon:"\\eqcolon",equalscoloncolon:"\\Eqcolon",colonminus:"\\colondash",coloncolonminus:"\\Colondash",minuscolon:"\\dashcolon",minuscoloncolon:"\\Dashcolon",coloncolonapprox:"\\Colonapprox",coloncolonsim:"\\Colonsim",simcolon:"\\mathrel{\\sim\\mathrel{\\mkern-1.2mu}\\vcentcolon}",Simcolon:"\\mathrel{\\sim\\mathrel{\\mkern-1.2mu}\\dblcolon}",simcoloncolon:"\\mathrel{\\sim\\mathrel{\\mkern-1.2mu}\\dblcolon}",approxcolon:"\\mathrel{\\approx\\mathrel{\\mkern-1.2mu}\\vcentcolon}",Approxcolon:"\\mathrel{\\approx\\mathrel{\\mkern-1.2mu}\\dblcolon}",approxcoloncolon:"\\mathrel{\\approx\\mathrel{\\mkern-1.2mu}\\dblcolon}",notni:"\\mathrel{\\char`}",limsup:"\\operatorname*{lim\\,sup}",liminf:"\\operatorname*{lim\\,inf}",injlim:"\\operatorname*{inj\\,lim}",projlim:"\\operatorname*{proj\\,lim}",varlimsup:"\\operatorname*{\\overline{lim}}",varliminf:"\\operatorname*{\\underline{lim}}",varinjlim:"\\operatorname*{\\underrightarrow{lim}}",varprojlim:"\\operatorname*{\\underleftarrow{lim}}",argmin:"\\operatorname*{arg\\,min}",argmax:"\\operatorname*{arg\\,max}",plim:"\\mathop{\\operatorname{plim}}\\limits",tripledash:{def:"\\vphantom{-}\\raise{4mu}{\\mkern1.5mu\\rule{2mu}{1.5mu}\\mkern{2.25mu}\\rule{2mu}{1.5mu}\\mkern{2.25mu}\\rule{2mu}{1.5mu}\\mkern{2mu}}",expand:!0},"braket.sty":{package:{bra:{def:"\\mathinner{\\langle{#1}|}",args:1,captureSelection:!1},ket:{def:"\\mathinner{|{#1}\\rangle}",args:1,captureSelection:!1},braket:{def:"\\mathinner{\\langle{#1}\\rangle}",args:1,captureSelection:!1},set:{def:"\\mathinner{\\lbrace #1 \\rbrace}",args:1,captureSelection:!1},Bra:{def:"\\left\\langle #1\\right|",args:1,captureSelection:!1},Ket:{def:"\\left|#1\\right\\rangle",args:1,captureSelection:!1},Braket:{def:"\\left\\langle{#1}\\right\\rangle",args:1,captureSelection:!1},Set:{def:"\\left\\lbrace #1 \\right\\rbrace",args:1,captureSelection:!1}}},"amsmath.sty":{package:{varGamma:"\\mathit{\\Gamma}",varDelta:"\\mathit{\\Delta}",varTheta:"\\mathit{\\Theta}",varLambda:"\\mathit{\\Lambda}",varXi:"\\mathit{\\Xi}",varPi:"\\mathit{\\Pi}",varSigma:"\\mathit{\\Sigma}",varUpsilon:"\\mathit{\\Upsilon}",varPhi:"\\mathit{\\Phi}",varPsi:"\\mathit{\\Psi}",varOmega:"\\mathit{\\Omega}",pmod:{def:"\\quad(\\operatorname{mod}\\ #1)",args:1,expand:!1,captureSelection:!1},mod:{def:"\\quad\\operatorname{mod}\\,\\,#1",args:1,expand:!1},bmod:{def:"\\;\\mathbin{\\operatorname{mod }}",expand:!1}},primitive:!0},"texvc.sty":{package:{darr:"\\downarrow",dArr:"\\Downarrow",Darr:"\\Downarrow",lang:"\\langle",rang:"\\rangle",uarr:"\\uparrow",uArr:"\\Uparrow",Uarr:"\\Uparrow",N:"\\mathbb{N}",R:"\\mathbb{R}",Z:"\\mathbb{Z}",alef:"\\aleph",alefsym:"\\aleph",Alpha:"\\mathrm{A}",Beta:"\\mathrm{B}",bull:"\\bullet",Chi:"\\mathrm{X}",clubs:"\\clubsuit",cnums:"\\mathbb{C}",Complex:"\\mathbb{C}",Dagger:"\\ddagger",diamonds:"\\diamondsuit",empty:"\\emptyset",Epsilon:"\\mathrm{E}",Eta:"\\mathrm{H}",exist:"\\exists",harr:"\\leftrightarrow",hArr:"\\Leftrightarrow",Harr:"\\Leftrightarrow",hearts:"\\heartsuit",image:"\\Im",infin:"\\infty",Iota:"\\mathrm{I}",isin:"\\in",Kappa:"\\mathrm{K}",larr:"\\leftarrow",lArr:"\\Leftarrow",Larr:"\\Leftarrow",lrarr:"\\leftrightarrow",lrArr:"\\Leftrightarrow",Lrarr:"\\Leftrightarrow",Mu:"\\mathrm{M}",natnums:"\\mathbb{N}",Nu:"\\mathrm{N}",Omicron:"\\mathrm{O}",plusmn:"\\pm",rarr:"\\rightarrow",rArr:"\\Rightarrow",Rarr:"\\Rightarrow",real:"\\Re",reals:"\\mathbb{R}",Reals:"\\mathbb{R}",Rho:"\\mathrm{P}",sdot:"\\cdot",sect:"\\S",spades:"\\spadesuit",sub:"\\subset",sube:"\\subseteq",supe:"\\supseteq",Tau:"\\mathrm{T}",thetasym:"\\vartheta",weierp:"\\wp",Zeta:"\\mathrm{Z}"},primitive:!1}},{exponentialE:" \\textsc{}",modulo:"\\textrm{mod}",npr:"\\operatorname{P}",ncr:"\\operatorname{C}",arcsin:"\\sin^{-1}",arccos:"\\cos^{-1}",arctan:"\\tan^{-1}",arccot:"\\cot^{-1}",outpolar:"\\mathbf{r}",outcomplex:"\\mathbf{a+bi}",eulerE:{def:"\\mathbf{e}",isImplicitArg:!0},quotient:{def:"\\textrm{R}"},degree:{def:"^{\\circ}",isImplicitArg:!0},minute:{def:"\\,{}^\\prime\\;",isImplicitArg:!0},second:{def:"\\,\\doubleprime\\;",isImplicitArg:!0},termseparator:{def:"\\textrm{, }\\textrm{ }",isImplicitArg:!0},implicitmul:{def:"",isImplicitArg:!0},decimalsep:{def:".",isImplicitArg:!0},thousandSep:{def:"\\:",isImplicitArg:!0},thousandthSep:{def:"\\:",isImplicitArg:!0}}),Rs={" ":32,"\\!":33,"\\#":35,"\\$":36,"\\%":37,"\\&":38,"\\_":95,"-":45,"\\textunderscore":95,"\\euro":8364,"\\maltese":10016,"\\{":123,"\\}":125,"\\textbraceleft":123,"\\textbraceright":125,"\\lbrace":123,"\\rbrace":125,"\\lbrack":91,"\\rbrack":93,"\\nobreakspace":160,"\\ldots":8230,"\\textellipsis":8230,"\\backslash":92,"`":8216,"'":8217,"``":8220,"''":8221,"\\degree":176,"\\textasciicircum":94,"\\textasciitilde":126,"\\textasteriskcentered":42,"\\textbackslash":92,"\\textbullet":8226,"\\textdollar":36,"\\textsterling":163,"\\textdagger":8224,"\\textdaggerdbl":8225,"":8211,"":8212,"":8216,"":8217,"":8220,"":8221,'"':8221,"\\ss":223,"\\ae":230,"\\oe":339,"\\AE":198,"\\OE":338,"\\O":216,"\\i":305,"\\j":567,"\\aa":229,"\\AA":197};function qs(e,t,r="mord",i){void 0!==t&&(Is[e]={definitionType:"symbol",type:r,variant:i,codepoint:t},Ps[t]||(Ps[t]=e))}function $s(e,t,r){if("string"!=typeof e)for(let[i,a,s,n]of e)qs(i,a,s??t,n??r);else for(let t=0;t<e.length;t++){let r=e.charAt(t);qs(r,r.codePointAt(0))}}function Vs(e,t){for(let r=e;r<=t;r++)qs(String.fromCodePoint(r),r)}function Hs(e){let t="auto",r=e.match(/:([^=]+)/);return r&&(t=r[1].trim()),t}function Ns(e){if(!e)return[];let t=[],r=e.split("]");if(r[0].startsWith("[")){t.push({isOptional:!0,type:Hs(r[0].slice(1))});for(let e=1;e<=r.length;e++)t.push(...Ns(r[e]))}else if(r=e.split("}"),r[0].startsWith("{")){t.push({isOptional:!1,type:Hs(r[0].slice(1))});for(let e=1;e<=r.length;e++)t.push(...Ns(r[e]))}return t}function Us(e){if(!e)return"";let t="",r=!0;for(let i of e)"string"==typeof i.value?t+=i.value:r=!1;return r?t:""}function Ys(e,t){"string"==typeof e&&(e=[e]);let r={tabular:!1,params:[],createAtom:t};for(let t of e)Bs[t]=r}function js(e,t,r){"string"==typeof e&&(e=[e]);let i={tabular:!0,params:Ns(t),createAtom:r};for(let t of e)Bs[t]=i}function Ws(e,t,r){var i,a;r||(r={});let s={definitionType:"function",params:Ns(t),ifMode:r.ifMode,isFunction:null!=(i=r.isFunction)&&i,applyMode:r.applyMode,infix:null!=(a=r.infix)&&a,parse:r.parse,createAtom:r.createAtom,applyStyle:r.applyStyle,serialize:r.serialize,render:r.render};if("string"==typeof e)zs["\\"+e]=s;else for(let t of e)zs["\\"+t]=s}function Gs(e,t){var r,i,a,s;if("string"==typeof e){let a=0,s=e;return/(^|[^\\])#1/.test(s)&&(a=1),/(^|[^\\])#2/.test(s)&&(a=2),/(^|[^\\])#3/.test(s)&&(a=3),/(^|[^\\])#4/.test(s)&&(a=4),/(^|[^\\])#5/.test(s)&&(a=5),/(^|[^\\])#6/.test(s)&&(a=6),/(^|[^\\])#7/.test(s)&&(a=7),/(^|[^\\])#8/.test(s)&&(a=8),/(^|[^\\])#9/.test(s)&&(a=9),{expand:null==(r=t?.expand)||r,captureSelection:null==(i=t?.captureSelection)||i,args:a,def:s}}return w({expand:null==(a=t?.expand)||a,captureSelection:null==(s=t?.captureSelection)||s,args:0},e)}function Xs(e){if(!e)return{};let t={};for(let r of Object.keys(e)){let i=e[r];if(null==i)delete t[r];else if("object"==typeof i&&"package"in i)for(let e of Object.keys(i.package))t[e]=Gs(i.package[e],{expand:!i.primitive,captureSelection:i.captureSelection});else t[r]=Gs(i)}return t}function Zs(e,t="math"){if(!e||0===e.length)return null;let r=null;if(e.startsWith("\\")){if(r=zs[e],r)return r.ifMode&&r.ifMode!==t?null:r;"math"===t?r=Is[e]:Rs[e]&&(r={definitionType:"symbol",type:"mord",codepoint:Rs[e]})}else if("math"===t){if(r=Is[e],!r&&1===e.length){let t=Qs("math",e.codePointAt(0));return t.startsWith("\\")?_(w({},Zs(t,"math")),{command:t}):null}}else Rs[e]?r={definitionType:"symbol",type:"mord",codepoint:Rs[e]}:"text"===t&&(r={definitionType:"symbol",type:"mord",codepoint:e.codePointAt(0)});return r??null}function Ks(e,t){if(!e.startsWith("\\"))return null;if("\\decimalsep"===e)return Ds.getDecimalSeparatorMacro(globalThis.MathfieldElement.decimalSeparatorChar).decimalsep;if("\\thousandSep"===e)return Ds.getThousandSeparatorMacro(globalThis.MathfieldElement.thousandSeparatorChar).thousandSep;if("\\thousandthSep"===e)return Ds.getThousandthSeparatorMacro(globalThis.MathfieldElement.thousandthSeparatorChar).thousandthSep;return t[e.slice(1)]}function Qs(e,t){return void 0===t?"":"math"===e&&Ps[t]?Ps[t]:"text"===e&&Object.keys(Rs).find((e=>Rs[e]===t))||String.fromCodePoint(t)}(function(){if(!xs())return!0;if(/firefox/i.test(navigator.userAgent)){let e=navigator.userAgent.match(/firefox\/(\d+)/i);return!!e&&parseInt(e[1])>=78}if(/trident/i.test(navigator.userAgent))return!1;if(/edge/i.test(navigator.userAgent)){let e=navigator.userAgent.match(/edg\/(\d+)/i);return!!e&&parseInt(e[1])>=79}return!0})()&&new RegExp("[0-9\\p{Letter}]","u");var en,tn=8205,rn=[[tn,1],[65038,2],[127995,5],[129456,4],[917536,96]],an=[127462,127487];function sn(e){var t;if(void 0===en){en={};for(let e of rn)for(let t=e[0];t<=e[0]+e[1]-1;t++)en[t]=!0}return null!=(t=en[e])&&t}function nn(e){return e>=an[0]&&e<=an[1]}var on=class{constructor(e){this.obeyspaces=!1,this.pos=0,this.s=function(e){if(/^[\u0020-\u00FF]*$/.test(e))return e;let t=[],r=function(e){let t=[];for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);if(13===i&&10===e.charCodeAt(r+1)&&(i=10,r++),(13===i||12===i)&&(i=10),0===i&&(i=65533),i>=55296&&i<=56319){let t=e.charCodeAt(r+1);t>=56320&&t<=57343&&(i=65536+1024*(i-55296)+(t-56320),r++)}t.push(i)}return t}(e),i=0;for(;i<r.length;){let e=r[i++],a=r[i];if(a===tn){let e=i-1;for(i+=2;r[i]===tn;)i+=2;t.push(String.fromCodePoint(...r.slice(e,i-e+1)))}else if(sn(a)){let e=i-1;for(;sn(r[i]);)i+=r[i]===tn?2:1;t.push(String.fromCodePoint(...r.slice(e,2*i-e-1)))}else nn(e)?(i+=1,t.push(String.fromCodePoint(...r.slice(i-2,2)))):t.push(String.fromCodePoint(e))}return t}(e)}end(){return this.pos>=this.s.length}get(){return this.pos<this.s.length?this.s[this.pos++]:""}peek(){return this.s[this.pos]}match(e){let t="string"==typeof this.s?e.exec(this.s.slice(this.pos)):e.exec(this.s.slice(this.pos).join(""));return null!=t&&t[0]?(this.pos+=t[0].length,t[0]):""}next(){if(this.end())return null;if(!this.obeyspaces&&this.match(/^[ \f\n\r\t\v\u00A0\u2028\u2029]+/)||this.obeyspaces&&this.match(/^[ \f\n\r\t\v\u00A0\u2028\u2029]/))return"<space>";let e=this.get();if("\\"===e){if(!this.end()){let e=this.match(/^[a-zA-Z\*]+/);return e?this.match(/^[ \f\n\r\t\v\u00A0\u2028\u2029]*/):e=this.get(),"\\"+e}}else{if("{"===e)return"<{>";if("}"===e)return"<}>";if("^"===e){if("^"===this.peek()){this.get();let e=this.match(/^(\^(\^(\^(\^[\da-f])?[\da-f])?[\da-f])?[\da-f])?[\da-f]{2}/);if(e)return String.fromCodePoint(Number.parseInt(e.slice(e.lastIndexOf("^")+1),16))}return e}if("#"===e){if(!this.end()){let e=!1;if(/[\d?@]/.test(this.peek())&&(e=!0,this.pos+1<this.s.length)){let t=this.s[this.pos+1];e=/[^\dA-Za-z]/.test(t)}return e?"#"+this.get():"#"}}else if("$"===e)return"$"===this.peek()?(this.get(),"<$$>"):"<$>"}return e}};function ln(e,t){var r,i,a,s;let n=[],o=e.next();if(o&&"\\relax"!==o)if("\\noexpand"===o)o=e.next(),o&&n.push(o);else if("\\obeyspaces"===o)e.obeyspaces=!0;else if("\\bgroup"===o)n.push("<{>");else if("\\egroup"===o)n.push("<}>");else if("\\string"===o){if(o=e.next(),o)if(o.startsWith("\\"))for(let e of o)n.push("\\"===e?"\\backslash":e);else"<{>"===o?n.push("\\{"):"<space>"===o?n.push("~"):"<}>"===o&&n.push("\\}")}else if("\\csname"===o){for(;"<space>"===e.peek();)e.next();let a="",s=!1,l=[];do{if(0===l.length)if(/^#[\d?@]$/.test(e.peek())){let a=e.get().slice(1);l=cn(null!=(i=null!=(r=t?.(a))?r:t?.("?"))?i:"\\placeholder{}",t),o=l[0]}else o=e.next(),l=o?[o]:[];s=0===l.length,!s&&"\\endcsname"===o&&(s=!0,l.shift()),s||(s="<$>"===o||"<$$>"===o||"<{>"===o||"<}>"===o||"string"==typeof o&&o.length>1&&o.startsWith("\\")),s||(a+=l.shift())}while(!s);a&&n.push("\\"+a),n.push(...l)}else if("\\endcsname"!==o)if(o.length>1&&o.startsWith("#")){let e=o.slice(1);n.push(...cn(null!=(s=null!=(a=t?.(e))?a:t?.("?"))?s:"\\placeholder{}",t))}else n.push(o);return n}function cn(e,t=null){if(!e)return[];let r=[],i="";for(let t of e.toString().split(/\r?\n/)){i&&r.push(i),i=" ";let e=t.match(/((?:\\%)|[^%])*/);null!==e&&r.push(e[0])}let a=new on(r.join("")),s=[];do{s.push(...ln(a,t))}while(!a.end());return s}function un(e){let t="",r=[];for(let i of e)i&&(t&&/^[a-zA-Z\*]/.test(i)&&r.push(t),r.push(i),/^\\[a-zA-Z]+\*?[\"\'][^\ ]+$/.test(i)&&r.push(" "),t=/\\[a-zA-Z]+\*?$/.test(i)?" ":"");return r.join("")}function hn(e,...t){return e.startsWith("\\"),0===t.length?e:un([e,...t.map((e=>`{${e}}`))])}function dn(e){return un(e.map((e=>{var t;return null!=(t={"<space>":" ","<$$>":"$$","<$>":"$","<{>":"{","<}>":"}"}[e])?t:e})))}var mn=class e{constructor(t){e._registry[t]=this}static createAtom(t,r,i){return e._registry[t].createAtom(r,Zs(r,t),i)}static serialize(t,r){var i;if(!t||0===t.length)return"";if(null!=(i=r.skipStyles)&&i){let i=[];for(let a of gn(t)){let t=e._registry[a[0].mode];i.push(...t.serialize(a,r))}return un(i)}return un(function(e,t){if(0===e.length)return[];let{parent:r}=e[0],i=r?.style.fontSize,a=[];for(let s of vn(e,"fontSize")){let e=s[0].style.fontSize,n=_n(s,t);n&&(!e||"auto"===e||r&&i===e?a.push(...n):a.push(["","\\tiny","\\scriptsize","\\footnotesize","\\small","\\normalsize","\\large","\\Large","\\LARGE","\\huge","\\Huge"][e],...n))}return a}(t,r))}static getFont(t,r,i){return e._registry[t].getFont(r,i)}};mn._registry={};var pn=mn;function gn(e){let t=[],r=[],i="NONE";for(let a of e)"first"!==a.type&&(a.mode!==i?(r.length>0&&t.push(r),r=[a],i=a.mode):r.push(a));return r.length>0&&t.push(r),t}function fn(e){if(!e||"math"!==e.mode)return"";let{style:t}=e;return t&&t.variantStyle&&("bold"===t.variantStyle||"bolditalic"===t.variantStyle)?"bold":""}function yn(e){if(!e)return"";let{style:t}=e;if(!t)return"";let r=t.variant;return void 0===r?"normal":(!["calligraphic","fraktur","double-struck","script","monospace","sans-serif"].includes(r)&&t.variantStyle&&"up"!==t.variantStyle&&(r+="-"+t.variantStyle),r)}function vn(e,t){let r,i=[],a=[];for(let s of e){if("first"===s.type)continue;let e;e="variant"===t?yn(s):"bold"===t?fn(s):s.style[t],e===r?a.push(s):(a.length>0&&i.push(a),a=[s],r=e)}return a.length>0&&i.push(a),i}function wn(e,t){var r;let{parent:i}=e[0],a=i?.style.color,s=[];for(let n of gn(e)){let e=t.defaultMode;for(let o of vn(n,"color")){let n=o[0].style,l=pn._registry[o[0].mode].serialize(o,_(w({},t),{defaultMode:"text"===e?"text":"math"}));t.skipStyles||!n.color||"none"===n.color||i&&a===n.color?s.push(un(l)):s.push(hn("\\textcolor",null!=(r=n.verbatimColor)?r:n.color,un(l)))}}return s}function _n(e,t){let{parent:r}=e[0],i=r?.style.backgroundColor;return vn(e,"backgroundColor").map((e=>{var a;if(e.length>0||"box"!==e[0].type){let s=e[0].style;if(s.backgroundColor&&"none"!==s.backgroundColor&&(!r||i!==s.backgroundColor))return hn("\\colorbox",null!=(a=s.verbatimBackgroundColor)?a:s.backgroundColor,un(wn(e,_(w({},t),{defaultMode:"text"}))))}return un(wn(e,t))}))}function Sn(e){return e?{mord:"ord",mbin:"bin",mop:"op",mrel:"rel",mopen:"open",mclose:"close",mpunct:"punct",minner:"inner",spacing:"ignore",latex:"latex",composition:"inner",error:"inner",placeholder:"ord",supsub:"ignore"}[e]:void 0}function xn(e){if(0===e.length)return"ord";let t=Sn(e[0].type),r=Sn(e[e.length-1].type);return t&&t===r?t:"ord"}function Mn(e,t){if("string"==typeof e)return e;if("number"==typeof e){let r=Math.ceil(100*e)/100;return 0===r?"0":r.toString()+(t??"")}return""}var kn=class e{constructor(t,r){var i,a,s,n,o;if("number"==typeof t?this.value=String.fromCodePoint(t):"string"==typeof t?this.value=t:ls(t)?this.children=t.filter((e=>null!==e)):t&&t instanceof e&&(this.children=[t]),this.children)for(let e of this.children)e.parent=this;this.type=null!=(i=r?.type)?i:"ignore",this.isSelected=!0===r?.isSelected,null!=r&&r.caret&&(this.caret=r.caret),this.classes=null!=(a=r?.classes)?a:"",this.isTight=null!=(s=r?.isTight)&&s,null!=r&&r.attributes&&(this.attributes=r.attributes);let l=r?.fontFamily;null!=r&&r.style&&this.value&&(l=null!=(o=pn.getFont(null!=(n=r.mode)?n:"math",this,_(w({variant:"normal"},r.style),{letterShapeStyle:r.letterShapeStyle})))?o:void 0),l||(l="Main-Regular"),this._height=0,this._depth=0,this._width=0,this.hasExplicitWidth=!1,this.skew=0,this.italic=0,this.maxFontSize=0,this.scale=1,void 0!==r?.maxFontSize&&(this.maxFontSize=r.maxFontSize),function(e,t){var r;if("latex"===e.type)return e.height=.9,e.depth=.2,void(e._width=1);if(e.value){e.height=-1/0,e.depth=-1/0,e._width=0,e.skew=-1/0,e.italic=-1/0;for(let r=0;r<e.value.length;r++){let i=os(e.value.codePointAt(r),t);e.height=Math.max(e.height,i.height),e.depth=Math.max(e.depth,i.depth),e._width+=i.width,e.skew=i.skew,e.italic=i.italic}return}if(e.children&&e.children.length>0){let t=-1/0,i=-1/0,a=0;for(let s of e.children)s.height>t&&(t=s.height),s.depth>i&&(i=s.depth),a=Math.max(a,null!=(r=s.maxFontSize)?r:0);e.height=t,e.depth=i,e._width=e.children.reduce(((e,t)=>e+t.width),0),e.maxFontSize=a}}(this,l)}set atomID(e){void 0===e||0===e.length||(this.id=e)}selected(e){if(this.isSelected!==e&&(this.isSelected=e,this.children))for(let t of this.children)t.selected(e)}setStyle(e,t,r){if(void 0===t)return;let i=Mn(t,r);i.length>0&&(this.cssProperties||(this.cssProperties={}),this.cssProperties[e]=i)}setTop(e){Number.isFinite(e)&&Math.abs(e)>.01&&(this.cssProperties||(this.cssProperties={}),this.cssProperties.top=Mn(e,"em"),this.height-=e,this.depth+=e)}get left(){var e;return null!=(e=this.cssProperties)&&e["margin-left"]?Number.parseFloat(this.cssProperties["margin-left"]):0}set left(e){Number.isFinite(e)&&(0===e?this.cssProperties&&delete this.cssProperties["margin-left"]:(this.cssProperties||(this.cssProperties={}),this.cssProperties["margin-left"]=Mn(e,"em")))}set right(e){Number.isFinite(e)&&(0===e?this.cssProperties&&delete this.cssProperties["margin-right"]:(this.cssProperties||(this.cssProperties={}),this.cssProperties["margin-right"]=Mn(e,"em")))}set bottom(e){Number.isFinite(e)&&(0===e?this.cssProperties&&delete this.cssProperties["margin-bottom"]:(this.cssProperties||(this.cssProperties={}),this.cssProperties["margin-bottom"]=Mn(e,"em")))}get width(){return this._width*this.scale}set width(e){this._width=e,this.hasExplicitWidth=!0}set softWidth(e){}get height(){return this._height*this.scale}set height(e){this._height=e}get depth(){return this._depth*this.scale}set depth(e){this._depth=e}wrap(e){let t=e.parent;if(!t)return this;e.isPhantom&&this.setStyle("opacity",0);let r=e.color;r&&r!==t.color&&this.setStyle("color",r);let i=e.backgroundColor;this.isSelected&&(i=Ss(i)),i&&i!==t.backgroundColor&&(this.setStyle("background-color",i),this.setStyle("display","inline-block"));let a=e.scalingFactor;return this.scale=a,this.skew*=a,this.italic*=a,this}toMarkup(){var e,t,r,i;let a=null!=(e=this.value)?e:"";if(this.children)for(let e of this.children)a+=e.toMarkup();let s="";if(this.svgBody)s=function(e){if(us[e]){let[t,r,i]=us[e],a=`<span class="ML__stretchy" style="height:${i}em"><svg width="100%" height="${i}em" viewBox="0 0 ${t} ${r}" preserveAspectRatio="none" ><path fill="currentcolor" d="${hs[e]}"></path></svg></span>`;return`<span style="display:inline-block;height:${Math.floor(100*i/2)/100}em;min-width:0">${a}</span>`}let t,r,[i,a,s,n]=cs[e],o=s/1e3;3===i.length?(t=["slice-1-of-3","slice-2-of-3","slice-3-of-3"],r=["xMinYMin","xMidYMin","xMaxYMin"]):2===i.length?(t=["slice-1-of-2","slice-2-of-2"],r=["xMinYMin","xMaxYMin"]):(t=["slice-1-of-1"],r=[n]);let l=i.map(((e,i)=>`<span class="${t[i]}" style=height:${o}em><svg width=400em height=${o}em viewBox="0 0 400000 ${s}" preserveAspectRatio="${r[i]} slice"><path fill="currentcolor" d="${hs[e]}"></path></svg></span>`)).join("");return`<span style="display:inline-block;height:${o}em;min-width:${a}em;">${l}</span>`}(this.svgBody);else if(this.svgOverlay){s='<span style="',s+="display: inline-block;",s+=`height:${Math.floor(100*(this.height+this.depth))/100}em;`,s+=`vertical-align:${Math.floor(100*this.depth)/100}em;`,s+='">',s+=a,s+="</span>",s+='<svg style="position:absolute;overflow:visible;',s+=`height:${Math.floor(100*(this.height+this.depth))/100}em;`;let e=null==(t=this.cssProperties)?void 0:t.padding;e?(s+=`top:${e};`,s+=`left:${e};`,s+=`width:calc(100% - 2 * ${e} );`):s+="top:0;left:0;width:100%;",s+="z-index:2;",s+='"',this.svgStyle&&(s+=this.svgStyle),s+=` viewBox="0 0 ${Math.floor(100*this.width)/100} ${Math.floor(100*(this.height+this.depth))/100}"`,s+=`>${this.svgOverlay}</svg>`}let n="",o=this.classes.split(" ");o.push(null!=(r={latex:"ML__raw-latex",placeholder:"ML__placeholder",error:"ML__error"}[this.type])?r:""),"latex"===this.caret&&o.push("ML__latex-caret"),this.isSelected&&o.push("ML__selected");let l=1===o.length?o[0]:o.filter(((e,t,r)=>e.length>0&&r.indexOf(e)===t)).join(" ");if(l.length>0&&(n+=` class="${l}"`),this.id&&(n+=` data-atom-id=${this.id}`),this.cssId&&(n+=` id="${this.cssId.replace(/ /g,"-")}" `),this.attributes&&(n+=" "+Object.keys(this.attributes).map((e=>`${e}="${this.attributes[e]}"`)).join(" ")),this.htmlData){let e=this.htmlData.split(",");for(let t of e){let e=t.match(/([^=]+)=(.+$)/);if(e){let t=e[1].trim().replace(/ /g,"-");t&&(n+=` data-${t}="${e[2]}" `)}else{let e=t.trim().replace(/ /g,"-");e&&(n+=` data-${e} `)}}}let c=null!=(i=this.cssProperties)?i:{};this.hasExplicitWidth&&void 0===c.width&&(c.width=Math.ceil(100*this._width)/100+"em");let u=Object.keys(c).map((e=>`${e}:${c[e]}`));if(void 0!==this.scale&&1!==this.scale&&(a.length>0||s.length>0)&&u.push(`font-size: ${Math.ceil(1e4*this.scale)/100}%`),this.htmlStyle){let e=this.htmlStyle.split(";"),t="";for(let r of e){let e=r.match(/([^=]+):(.+$)/);if(e){let r=e[1].trim().replace(/ /g,"-");r&&(t+=`${r}:${e[2]};`)}}t&&(n+=` style="${t}"`)}u.length>0&&(n+=` style="${u.join(";")}"`);let h="";return h=n.length>0||s.length>0?`<span${n}>${a}${s}</span>`:a,"text"===this.caret?h+='<span class="ML__text-caret"></span>':"math"===this.caret&&(h+='<span class="ML__caret"></span>'),h}tryCoalesceWith(e){if(this.svgBody||!this.value||e.svgBody||!e.value)return!1;let t=this.children&&this.children.length>0,r=e.children&&e.children.length>0;if(t||r)return!1;if(e.cssProperties||this.cssProperties)for(let t of["border","border-left","border-right","border-right-width","left","margin","margin-left","margin-right","padding","position","width"])if(e.cssProperties&&t in e.cssProperties||this.cssProperties&&t in this.cssProperties)return!1;let i=this.cssProperties?Object.keys(this.cssProperties).length:0;if(i!==(e.cssProperties?Object.keys(e.cssProperties).length:0))return!1;if(i>0)for(let t of Object.keys(this.cssProperties))if(this.cssProperties[t]!==e.cssProperties[t])return!1;let a=this.classes.trim().replace(/\s+/g," ").split(" "),s=e.classes.trim().replace(/\s+/g," ").split(" ");if(a.length!==s.length)return!1;a.sort(),s.sort();for(let[e,t]of a.entries())if("ML__vertical-separator"===t||t!==s[e])return!1;return this.value+=e.value,this.height=Math.max(this.height,e.height),this.depth=Math.max(this.depth,e.depth),this._width=this._width+e._width,this.maxFontSize=Math.max(this.maxFontSize,e.maxFontSize),this.italic=e.italic,!0}};function Ln(e){if(!e||0===e.length)return[];e[0].children=Ln(e[0].children);let t=[e[0]];for(let r=1;r<e.length;r++)t[t.length-1].tryCoalesceWith(e[r])||(e[r].children=Ln(e[r].children),t.push(e[r]));return t}function An(e){return e.children&&(e.children=Ln(e.children)),e}function Cn(e){let t=function(e){return cs[e]?cs[e][2]/1e3:us[e][2]}(e)/2,r=new kn(null,{maxFontSize:0});return r.height=t+.166,r.depth=t-.166,r.svgBody=e,r}function Tn(e){var t;let[r,i]=function(e){if("individualShift"in e){let t=e.individualShift,r=t[0];if(null==r)return[null,0];let i=[r],a=-r.shift-r.box.depth,s=a;for(let e=1;e<t.length;e++){let a=t[e],n=-a.shift-s-a.box.depth,o=n-(r.box.height+r.box.depth);s+=n,i.push(o),i.push(a),r=a}return[i,a]}if("top"in e){let t=e.top;for(let r of e.children)t-="number"==typeof r?r:r.box.height+r.box.depth;return[e.children,t]}if("bottom"in e)return[e.children,-e.bottom];if("firstBaseline"in e){let t=e.firstBaseline[0];if("number"==typeof t)throw new Error("First child must be an element.");return[e.firstBaseline,-t.box.depth]}if("shift"in e){let t=e.children[0];if("number"==typeof t)throw new Error("First child must be an element.");return[e.children,-t.box.depth-e.shift]}return[null,0]}(e);if(!r)return[[],0,0];let a=new kn(null,{classes:"ML__pstrut"}),s=0;for(let e of r)if("number"!=typeof e){let t=e.box;s=Math.max(s,t.maxFontSize,t.height)}s+=2,a.height=s,a.setStyle("height",s,"em");let n=[],o=i,l=i,c=i,u=0;for(let e of r){if("number"==typeof e)c+=e;else{let r=e.box,i=null!=(t=e.classes)?t:[],o=new kn([a,r],{classes:i.join(" "),style:e.style});r.setStyle("height",r.height+r.depth,"em"),r.setStyle("display","inline-block"),o.setStyle("top",-s-c-r.depth,"em"),e.marginLeft&&o.setStyle("margin-left",e.marginLeft,"em"),e.marginRight&&o.setStyle("margin-right",e.marginRight,"em"),n.push(o),c+=r.height+r.depth,u=Math.max(u,o.width)}o=Math.min(o,c),l=Math.max(l,c)}n.forEach((e=>{e.softWidth=u}));let h=new kn(n,{classes:"ML__vlist"});if(h.softWidth=u,h.height=l,h.setStyle("height",l,"em"),o>=0)return[[new kn(h,{classes:"ML__vlist-r"})],l,-o];let d=new kn(new kn(null),{classes:"ML__vlist"});d.height=-o,d.setStyle("height",-o,"em");let m=new kn(8203,{classes:"ML__vlist-s",maxFontSize:0});return m.softWidth=0,m.height=0,m.depth=0,[[new kn([h,m],{classes:"ML__vlist-r"}),new kn(d,{classes:"ML__vlist-r"})],l,-o]}var Dn=class extends kn{constructor(e,t){var r;let[i,a,s]=Tn(e);super(1===i.length?i[0]:i,{type:t?.type,classes:(null!=(r=t?.classes)?r:"")+" ML__vlist-t"+(2===i.length?" ML__vlist-t2":"")}),this.height=a,this.depth=s,this.softWidth=i.reduce(((e,t)=>Math.max(e,t.width)),0)}};var En=class{constructor(e,t,r){this.id=e,this.sizeDelta=t,this.cramped=r;let i={"-4":2,"-3":1,0:0}[t];this.metrics=Object.keys(as).reduce(((e,t)=>_(w({},e),{[t]:as[t][i]})),{})}getFontSize(e){return Math.max(1,e+this.sizeDelta)}get sup(){return In[[0,1,0,1,2,3,2,3][this.id]]}get sub(){return In[[0,0,0,0,2,2,2,2][this.id]]}get fracNum(){return In[[0,1,0,1,2,3,4,5][this.id]]}get fracDen(){return In[[0,0,0,0,2,2,4,4][this.id]]}get cramp(){return In[[0,0,2,2,4,4,6,6][this.id]]}get isTight(){return this.sizeDelta<0}},Fn={7:new En(7,0,!1),6:new En(6,0,!0),5:new En(5,0,!1),4:new En(4,0,!0),3:new En(3,-3,!1),2:new En(2,-3,!0),1:new En(1,-4,!1),0:new En(0,-4,!0)},In=_(w({},Fn),{displaystyle:Fn[7],textstyle:Fn[5],scriptstyle:Fn[3],scriptscriptstyle:Fn[1]});function Pn(e,t){var r;if(!e)return 0;let i={pt:1,mm:7227/2540,cm:7227/254,ex:35271/8192,px:3/4,em:es,bp:1.00375,dd:1238/1157,pc:12,in:72.27,mu:10/18}[null!=(r=e.unit)?r:"pt"];if(Number.isFinite(t)){let r=10**t;return Math.round(e.dimension/es*i*r)/r}return e.dimension*i}function zn(e,t){if(null===e)return 0;let r=Pn(e)/es;if(Number.isFinite(t)){let e=10**t;return Math.round(r*e)/e}return r}function Bn(e){var t;return`${e.dimension}${null!=(t=e.unit)?t:"pt"}`}function On(e){var t,r;if(null==e)return null;let i="";if("dimension"in e&&(i=`${e.dimension}${null!=(t=e.unit)?t:"pt"}`),"glue"in e&&(i=function(e){let t=Bn(e.glue);return e.grow&&0!==e.grow.dimension&&(t+=` plus ${Bn(e.grow)}`),e.shrink&&0!==e.shrink.dimension&&(t+=` minus ${Bn(e.shrink)}`),t}(e)),"number"in e)if("base"in e&&"decimal"!==e.base)if("alpha"===e.base)i=`\`${String.fromCodePoint(e.number)}`;else{let t=Math.round(e.number)>>>0;"hexadecimal"===e.base?(i=Number(t).toString(16).toUpperCase(),i=t<=255?i.padStart(2,"0"):t<=65535?i.padStart(4,"0"):t<=16777215?i.padStart(6,"0"):i.padStart(8,"0"),i=`"${i}`):"octal"===e.base&&(i=Number(t).toString(8),i=t<=63?i.padStart(2,"0"):t<=30583?i.padStart(4,"0"):i.padStart(8,"0"),i=`'${i}`)}else i=Number(e.number).toString();return"register"in e&&("factor"in e&&(-1===e.factor?i="-":1!==e.factor&&(i=Number(e.factor).toString())),"global"in e&&e.global&&(i+="\\global"),i+=`\\${e.register}`),"string"in e&&(i=e.string),null!=(r=e.relax)&&r&&(i+="\\relax"),i}function Rn(e,t){return null==e?null:"number"in e?_(w({},e),{number:e.number*t}):"register"in e?"factor"in e&&e.factor?_(w({},e),{factor:e.factor*t}):_(w({},e),{factor:t}):"dimension"in e?_(w({},e),{dimension:e.dimension*t}):"glue"in e?e.shrink&&e.grow?{glue:Rn(e.glue,t),shrink:Rn(e.shrink,t),grow:Rn(e.grow,t)}:e.shrink?{glue:Rn(e.glue,t),shrink:Rn(e.shrink,t)}:e.grow?{glue:Rn(e.glue,t),grow:Rn(e.grow,t)}:{glue:Rn(e.glue,t)}:null}var qn={strings:{en:{"keyboard.tooltip.symbols":"Symbols","keyboard.tooltip.greek":"Greek Letters","keyboard.tooltip.numeric":"Numeric","keyboard.tooltip.alphabetic":"Roman Letters","tooltip.copy to clipboard":"Copy to Clipboard","tooltip.cut to clipboard":"Cut to Clipboard","tooltip.paste from clipboard":"Paste from Clipboard","tooltip.redo":"Redo","tooltip.toggle virtual keyboard":"Toggle Virtual Keyboard","tooltip.menu":"Menu","tooltip.undo":"Undo","menu.borders":"Borders","menu.insert matrix":"Insert Matrix","menu.array.add row above":"Add Row Before","menu.array.add row below":"Add Row After","menu.array.add column after":"Add Column After","menu.array.add column before":"Add Column Before","menu.array.delete row":"Delete Row","menu.array.delete rows":"Delete Selected Rows","menu.array.delete column":"Delete Column","menu.array.delete columns":"Delete Selected Columns","menu.mode":"Mode","menu.mode-math":"Math","menu.mode-text":"Text","menu.mode-latex":"LaTeX","menu.insert":"Insert","menu.insert.abs":"Absolute Value","menu.insert.abs-template":"\\left|x\\right|","menu.insert.nth-root":"n<sup>th</sup> Root","menu.insert.nth-root-template":"\\sqrt[n]{x}","menu.insert.log-base":"Logarithm base a","menu.insert.log-base-template":"\\log_a(x)","menu.insert.heading-calculus":"Calculus","menu.insert.derivative":"Derivative","menu.insert.derivative-template":"\\dfrac{\\mathrm{d}}{\\mathrm{d}x}f(x)\\bigm|_{x=a}","menu.insert.nth-derivative":"n<sup>th</sup> derivative","menu.insert.nth-derivative-template":"\\dfrac{\\mathrm{d}^n}{\\mathrm{d}x^n}f(x)\\bigm|_{x=a}","menu.insert.integral":"Integral","menu.insert.integral-template":"$\\int_a^b f(x)\\,\\mathrm{d}x$","menu.insert.sum":"Sum","menu.insert.sum-template":"$\\sum_{i=1}^n x_i$","menu.insert.product":"Product","menu.insert.product-template":"\\prod_{i=1}^n x_i","menu.insert.heading-complex-numbers":"Complex Numbers","menu.insert.modulus":"Modulus","menu.insert.modulus-template":"\\lvert z \\rvert","menu.insert.argument":"Argument","menu.insert.argument-template":"\\arg(z)","menu.insert.real-part":"Real Part","menu.insert.real-part-template":"\\Re(z)","menu.insert.imaginary-part":"Imaginary Part","menu.insert.imaginary-part-template":"\\Im(z)","menu.insert.conjugate":"Conjugate","menu.insert.conjugate-template":"\\overline{z}","tooltip.blackboard":"Blackboard","tooltip.bold":"Bold","tooltip.italic":"Italic","tooltip.fraktur":"Fraktur","tooltip.script":"Script","tooltip.caligraphic":"Caligraphic","tooltip.typewriter":"Typewriter","tooltip.roman-upright":"Roman Upright","tooltip.row-by-col":"%@  %@","menu.font-style":"Font Style","menu.accent":"Accent","menu.decoration":"Decoration","menu.color":"Color","menu.background-color":"Background","menu.evaluate":"Evaluate","menu.simplify":"Simplify","menu.solve":"Solve","menu.solve-for":"Solve for %@","menu.cut":"Cut","menu.copy":"Copy","menu.copy-as-latex":"Copy as LaTeX","menu.copy-as-ascii-math":"Copy as ASCII Math","menu.copy-as-mathml":"Copy as MathML","menu.paste":"Paste","menu.select-all":"Select All","color.red":"Red","color.orange":"Orange","color.yellow":"Yellow","color.lime":"Lime","color.green":"Green","color.teal":"Teal","color.cyan":"Cyan","color.blue":"Blue","color.indigo":"Indigo","color.purple":"Purple","color.magenta":"Magenta","color.black":"Black","color.dark-grey":"Dark Grey","color.grey":"Grey","color.light-grey":"Light Grey","color.white":"White"},ar:{"keyboard.tooltip.symbols":"  ","keyboard.tooltip.greek":" ","keyboard.tooltip.numeric":"","keyboard.tooltip.alphabetic":"  ","tooltip.copy to clipboard":"  ","tooltip.cut to clipboard":"  ","tooltip.paste from clipboard":"  ","tooltip.redo":"","tooltip.toggle virtual keyboard":"   ","tooltip.undo":"","menu.insert matrix":" ","menu.borders":" ","menu.array.add row above":"   ","menu.array.add row below":"  ","menu.array.add column after":"   ","menu.array.add column before":"  ","menu.array.delete row":" ","menu.array.delete rows":"  ","menu.array.delete column":" ","menu.array.delete columns":"  ","menu.mode":"","menu.mode-math":"","menu.mode-text":"","menu.mode-latex":"","tooltip.blackboard":"","tooltip.bold":"","tooltip.italic":"","tooltip.fraktur":"","tooltip.script":"","tooltip.caligraphic":"","tooltip.typewriter":" ","tooltip.roman-upright":" ","tooltip.row-by-col":"%@  %@","menu.font-style":" ","menu.accent":"","menu.decoration":"","menu.color":"","menu.background-color":"","menu.evaluate":"","menu.simplify":"","menu.solve":"","menu.solve-for":"  %@","menu.cut":"","menu.copy":"","menu.copy-as-latex":"  LaTeX","menu.copy-as-ascii-math":"  ASCII Math","menu.copy-as-mathml":"  MathML","menu.paste":"","menu.select-all":" ","color.red":"","color.orange":"","color.yellow":"","color.lime":"","color.green":"","color.teal":"","color.cyan":" ","color.blue":"","color.indigo":"","color.purple":"","color.magenta":"","color.black":"","color.dark-grey":" ","color.grey":"","color.light-grey":" ","color.white":""},de:{"keyboard.tooltip.symbols":"Symbole","keyboard.tooltip.greek":"Griechische Buchstaben","keyboard.tooltip.numeric":"Numerisch","keyboard.tooltip.alphabetic":"Rmische Buchstaben","tooltip.copy to clipboard":"In die Zwischenablage kopieren","tooltip.redo":"Wiederholen","tooltip.toggle virtual keyboard":"Virtuelle Tastatur umschalten","tooltip.undo":"Widerrufen","menu.insert matrix":"Matrix einfgen","menu.borders":"Matrixtrennzeichen","menu.array.add row above":"Zeile hinzufgen nach","menu.array.add row below":"Zeile hinzufgen vor","menu.array.add column after":"Spalte hinzufgen nach","menu.array.add column before":"Spalte hinzufgen vor","menu.array.delete row":"Zeile lschen","menu.array.delete rows":"Ausgewhlte Zeilen lschen","menu.array.delete column":"Spalte lschen","menu.array.delete columns":"Ausgewhlte Spalten lschen","menu.mode":"Modus","menu.mode-math":"Mathematik","menu.mode-text":"Text","menu.mode-latex":"LaTeX","tooltip.blackboard":"Tafel","tooltip.bold":"Fett","tooltip.italic":"Kursiv","tooltip.fraktur":"Fraktur","tooltip.script":"Skript","tooltip.caligraphic":"Kalligraphie","tooltip.typewriter":"Schreibmaschine","tooltip.roman-upright":"Rmisch aufrecht","tooltip.row-by-col":"%@  %@","menu.font-style":"Schriftstil","menu.accent":"Akzent","menu.decoration":"Dekoration","menu.color":"Farbe","menu.background-color":"Hintergrund","menu.evaluate":"Auswerten","menu.simplify":"Vereinfachen","menu.solve":"Lsen","menu.solve-for":"Lsen fr %@","menu.cut":"Ausschneiden","menu.copy":"Kopieren","menu.copy-as-latex":"Als LaTeX kopieren","menu.copy-as-ascii-math":"Als ASCII Math kopieren","menu.copy-as-mathml":"Als MathML kopieren","menu.paste":"Einfgen","menu.select-all":"Alles auswhlen","color.red":"Rot","color.orange":"Orange","color.yellow":"Gelb","color.lime":"Limette","color.green":"Grn","color.teal":"Blaugrn","color.cyan":"Cyan","color.blue":"Blau","color.indigo":"Indigo","color.purple":"Lila","color.magenta":"Magenta","color.black":"Schwarz","color.dark-grey":"Dunkelgrau","color.grey":"Grau","color.light-grey":"Hellgrau","color.white":"Wei"},el:{"keyboard.tooltip.symbols":"","keyboard.tooltip.greek":" ","keyboard.tooltip.numeric":"","keyboard.tooltip.alphabetic":" ","tooltip.copy to clipboard":"  ","tooltip.redo":"","tooltip.toggle virtual keyboard":"  ","tooltip.undo":"","menu.insert matrix":" ","menu.borders":" ","menu.array.add row above":"  ","menu.array.add row below":"  ","menu.array.add column after":"  ","menu.array.add column before":"  ","menu.array.delete row":" ","menu.array.delete rows":"  ","menu.array.delete column":" ","menu.array.delete columns":"  ","menu.mode":"","menu.mode-math":"","menu.mode-text":"","menu.mode-latex":"LaTeX","tooltip.blackboard":"","tooltip.bold":"","tooltip.italic":"","tooltip.fraktur":"","tooltip.script":"","tooltip.caligraphic":"","tooltip.typewriter":" ","tooltip.roman-upright":" ","tooltip.row-by-col":"%@  %@","menu.font-style":" ","menu.accent":"","menu.decoration":"","menu.color":"","menu.background-color":" ","menu.evaluate":"","menu.simplify":"","menu.solve":"","menu.solve-for":"  %@","menu.cut":"","menu.copy":"","menu.copy-as-latex":"  LaTeX","menu.copy-as-ascii-math":"  ASCII Math","menu.copy-as-mathml":"  MathML","menu.paste":"","menu.select-all":" ","color.red":"","color.orange":"","color.yellow":"","color.lime":"","color.green":"","color.teal":"","color.cyan":"","color.blue":"","color.indigo":"","color.purple":"","color.magenta":"","color.black":"","color.dark-grey":" ","color.grey":"","color.light-grey":" ","color.white":""},es:{"keyboard.tooltip.symbols":"Smbolos","keyboard.tooltip.greek":"Letras griegas","keyboard.tooltip.numeric":"Numrico","keyboard.tooltip.alphabetic":"Letras romanas","tooltip.copy to clipboard":"Copiar al portapapeles","tooltip.redo":"Rehacer","tooltip.toggle virtual keyboard":"Alternar teclado virtual","tooltip.undo":"Deshacer","menu.insert matrix":"Aadir Matriz","menu.borders":"Delimitadores de Matriz","menu.array.add row above":"Aadir Lnea Antes","menu.array.add row below":"Aadir Lnea Despues","menu.array.add column after":"Aadir Columna Despues","menu.array.add column before":"Aadir Columna Antes","menu.array.delete row":"Borrar Lnea","menu.array.delete rows":"Borrar Lneas Seleccionadas","menu.array.delete column":"Borrar Columna","menu.array.delete columns":"Borrar Columnas Seleccionadas","menu.mode":"Modo","menu.mode-math":"Matemticas","menu.mode-text":"Texto","menu.mode-latex":"LaTeX","tooltip.blackboard":"Pizarra","tooltip.bold":"Negrita","tooltip.italic":"Cursiva","tooltip.fraktur":"Fraktur","tooltip.script":"Script","tooltip.caligraphic":"Caligrfico","tooltip.typewriter":"Mquina de escribir","tooltip.roman-upright":"Romano Vertical","tooltip.row-by-col":"%@  %@","menu.font-style":"Estilo de fuente","menu.accent":"Acento","menu.decoration":"Decoracin","menu.color":"Color","menu.background-color":"Fondo","menu.evaluate":"Evaluar","menu.simplify":"Simplificar","menu.solve":"Resolver","menu.solve-for":"Resolver para %@","menu.cut":"Cortar","menu.copy":"Copiar","menu.copy-as-latex":"Copiar como LaTeX","menu.copy-as-ascii-math":"Copiar como ASCII Math","menu.copy-as-mathml":"Copiar como MathML","menu.paste":"Pegar","menu.select-all":"Seleccionar todo","color.red":"Rojo","color.orange":"Naranja","color.yellow":"Amarillo","color.lime":"Lima","color.green":"Verde","color.teal":"Verde azulado","color.cyan":"Cian","color.blue":"Azul","color.indigo":"ndigo","color.purple":"Morado","color.magenta":"Magenta","color.black":"Negro","color.dark-grey":"Gris oscuro","color.grey":"Gris","color.light-grey":"Gris claro","color.white":"Blanco"},fr:{"keyboard.tooltip.symbols":"Symboles","keyboard.tooltip.greek":"Lettres grecques","keyboard.tooltip.numeric":"Numrique","keyboard.tooltip.alphabetic":"Lettres romaines","tooltip.menu":"Menu","tooltip.copy to clipboard":"Copier dans le presse-papiers","tooltip.redo":"Rtablir","tooltip.toggle virtual keyboard":"Afficher/Masquer le clavier virtuel","tooltip.undo":"Annuler","menu.insert matrix":"Insrer une Matrice","menu.borders":"Bords","menu.array.add row above":"Ajouter une Ligne Avant","menu.array.add row below":"Ajouter une Ligne Aprs","menu.array.add column before":"Ajouter une Colonne Avant","menu.array.add column after":"Ajouter une Colonne Aprs","menu.array.delete row":"Enlever une Ligne","menu.array.delete rows":"Enlever les Lignes Slectiones","menu.array.delete column":"Enlever une Colone","menu.array.delete columns":"Enlever les Colonnes Slectiones","menu.mode":"Mode","menu.mode-math":"Math","menu.mode-text":"Text","menu.mode-latex":"LaTeX","tooltip.blackboard":"Tableau noir","tooltip.bold":"Gras","tooltip.italic":"Italique","tooltip.fraktur":"Fraktur","tooltip.script":"Script","tooltip.caligraphic":"Calligraphique","tooltip.typewriter":"Machine  crire","tooltip.roman-upright":"Romain droit","tooltip.row-by-col":"%@  %@","menu.font-style":"Style de police","menu.accent":"Accent","menu.decoration":"Dcoration","menu.color":"Couleur","menu.background-color":"Arrire-plan","menu.evaluate":"valuer","menu.simplify":"Simplifier","menu.solve":"Rsoudre","menu.solve-for":"Rsoudre pour %@","menu.cut":"Couper","menu.copy":"Copier","menu.copy-as-latex":"Copier en LaTeX","menu.copy-as-ascii-math":"Copier en ASCII Math","menu.copy-as-mathml":"Copier en MathML","menu.paste":"Coller","menu.select-all":"Slectionner tout","color.red":"Rouge","color.orange":"Orange","color.yellow":"Jaune","color.lime":"Citron vert","color.green":"Vert","color.teal":"Turquoise","color.cyan":"Cyan","color.blue":"Bleu","color.indigo":"Indigo","color.purple":"Violet","color.magenta":"Magenta","color.black":"Noir","color.dark-grey":"Gris fonc","color.grey":"Gris","color.light-grey":"Gris clair","color.white":"Blanc"},he:{"keyboard.tooltip.symbols":"","keyboard.tooltip.greek":" ","keyboard.tooltip.numeric":"","keyboard.tooltip.alphabetic":" ","tooltip.copy to clipboard":" ","tooltip.redo":" ","tooltip.toggle virtual keyboard":"   ","tooltip.undo":"","menu.insert matrix":" ","menu.borders":" ","menu.array.add row above":"  ","menu.array.add row below":"  ","menu.array.add column after":"  ","menu.array.add column before":"  ","menu.array.delete row":" ","menu.array.delete rows":"  ","menu.array.delete column":" ","menu.array.delete columns":"  ","menu.mode":"","menu.mode-math":"","menu.mode-text":"","menu.mode-latex":"LaTeX","tooltip.blackboard":" ","tooltip.bold":"","tooltip.italic":"","tooltip.fraktur":"","tooltip.script":"","tooltip.caligraphic":"","tooltip.typewriter":" ","tooltip.roman-upright":" ","tooltip.row-by-col":"%@  %@","menu.font-style":" ","menu.accent":"","menu.decoration":"","menu.color":"","menu.background-color":"","menu.evaluate":"","menu.simplify":"","menu.solve":"","menu.solve-for":"  %@","menu.cut":"","menu.copy":"","menu.copy-as-latex":" LaTeX","menu.copy-as-ascii-math":" ASCII Math","menu.copy-as-mathml":" MathML","menu.paste":"","menu.select-all":" ","color.red":"","color.orange":"","color.yellow":"","color.lime":" ","color.green":"","color.teal":"","color.cyan":"","color.blue":"","color.indigo":"","color.purple":"","color.magenta":"","color.black":"","color.dark-grey":" ","color.grey":"","color.light-grey":" ","color.white":""},it:{"keyboard.tooltip.symbols":"Simboli","keyboard.tooltip.greek":"Lettere greche","keyboard.tooltip.numeric":"Numerico","keyboard.tooltip.alphabetic":"Lettere romane","tooltip.copy to clipboard":"Copia negli appunti","tooltip.redo":"Rifare","tooltip.toggle virtual keyboard":"Attiva / disattiva la tastiera virtuale","tooltip.undo":"Disfare","menu.insert matrix":"Inserisci una Matrice","menu.borders":"Delimitatori di Matrice","menu.array.add row above":"Aggiungi una Riga Prima","menu.array.add row below":"Aggiungi una Riga Dopo","menu.array.add column before":"Aggiungi una Colonna Prima","menu.array.add column after":"Aggiungi una Colonna Dopo","menu.array.delete row":"Rimuovi una Riga","menu.array.delete rows":"Rimuovi le Righe Selezionate","menu.array.delete column":"Rimuovi una Colonna","menu.array.delete columns":"Rimuovi le Colonne Selezionate","menu.mode":"Modalit","menu.mode-math":"Matematica","menu.mode-text":"Testo","menu.mode-latex":"LaTeX","tooltip.blackboard":"Lavagna","tooltip.bold":"Grassetto","tooltip.italic":"Corsivo","tooltip.fraktur":"Fraktur","tooltip.script":"Script","tooltip.caligraphic":"Caligrafico","tooltip.typewriter":"Macchina da scrivere","tooltip.roman-upright":"Romano dritto","tooltip.row-by-col":"%@  %@","menu.font-style":"Stile del carattere","menu.accent":"Accento","menu.decoration":"Decorazione","menu.color":"Colore","menu.background-color":"Sfondo","menu.evaluate":"Valuta","menu.simplify":"Semplifica","menu.solve":"Risolvi","menu.solve-for":"Risolvi per %@","menu.cut":"Taglia","menu.copy":"Copia","menu.copy-as-latex":"Copia come LaTeX","menu.copy-as-ascii-math":"Copia come ASCII Math","menu.copy-as-mathml":"Copia come MathML","menu.paste":"Incolla","menu.select-all":"Seleziona tutto","color.red":"Rosso","color.orange":"Arancione","color.yellow":"Giallo","color.lime":"Lime","color.green":"Verde","color.teal":"Verde acqua","color.cyan":"Ciano","color.blue":"Blu","color.indigo":"Indaco","color.purple":"Viola","color.magenta":"Magenta","color.black":"Nero","color.dark-grey":"Grigio scuro","color.grey":"Grigio","color.light-grey":"Grigio chiaro","color.white":"Bianco"},ja:{"keyboard.tooltip.symbols":"","keyboard.tooltip.greek":"","keyboard.tooltip.numeric":"","keyboard.tooltip.alphabetic":"","tooltip.menu":"","tooltip.copy to clipboard":"","tooltip.redo":"","tooltip.toggle virtual keyboard":"","tooltip.undo":"","menu.insert matrix":"","menu.borders":"","menu.array.add row above":"","menu.array.add row below":"","menu.array.add column after":"","menu.array.add column before":"","menu.array.delete row":"","menu.array.delete rows":"","menu.array.delete column":"","menu.array.delete columns":"","menu.mode":"","menu.mode-math":"","menu.mode-text":"","menu.mode-latex":"LaTeX","tooltip.blackboard":"","tooltip.bold":"","tooltip.italic":"","tooltip.fraktur":"","tooltip.script":"","tooltip.caligraphic":"","tooltip.typewriter":"","tooltip.roman-upright":"","tooltip.row-by-col":"%@  %@","menu.font-style":"","menu.accent":"","menu.decoration":"","menu.color":"","menu.background-color":"","menu.evaluate":"","menu.simplify":"","menu.solve":"","menu.solve-for":"%@ ","menu.cut":"","menu.copy":"","menu.copy-as-latex":"LaTeX","menu.copy-as-ascii-math":"ASCII Math","menu.copy-as-mathml":"MathML","menu.paste":"","menu.select-all":"","color.red":"","color.orange":"","color.yellow":"","color.lime":"","color.green":"","color.teal":"","color.cyan":"","color.blue":"","color.indigo":"","color.purple":"","color.magenta":"","color.black":"","color.dark-grey":"","color.grey":"","color.light-grey":"","color.white":""},ko:{"keyboard.tooltip.symbols":"","keyboard.tooltip.greek":" ","keyboard.tooltip.numeric":"","keyboard.tooltip.alphabetic":" ","tooltip.copy to clipboard":"  ","tooltip.redo":" ","tooltip.toggle virtual keyboard":"  ","tooltip.undo":" ","menu.insert matrix":" ","menu.borders":"  ","menu.array.add row above":"  ","menu.array.add row below":"  ","menu.array.add column after":"  ","menu.array.add column before":"  ","menu.array.delete row":" ","menu.array.delete rows":"  ","menu.array.delete column":" ","menu.array.delete columns":"  ","menu.mode":"","menu.mode-math":"","menu.mode-text":"","menu.mode-latex":"LaTeX","tooltip.blackboard":"","tooltip.bold":"","tooltip.italic":"","tooltip.fraktur":"","tooltip.script":"","tooltip.caligraphic":"","tooltip.typewriter":"","tooltip.roman-upright":" ","tooltip.row-by-col":"%@  %@","menu.font-style":" ","menu.accent":"","menu.decoration":"","menu.color":"","menu.background-color":"","menu.evaluate":"","menu.simplify":"","menu.solve":"","menu.solve-for":"%@  ","menu.cut":"","menu.copy":"","menu.copy-as-latex":"LaTeX ","menu.copy-as-ascii-math":"ASCII Math ","menu.copy-as-mathml":"MathML ","menu.paste":"","menu.select-all":" ","color.red":"","color.orange":"","color.yellow":"","color.lime":"","color.green":"","color.teal":"","color.cyan":"","color.blue":"","color.indigo":"","color.purple":"","color.magenta":"","color.black":"","color.dark-grey":" ","color.grey":"","color.light-grey":" ","color.white":""},pl:{"keyboard.tooltip.symbols":"Symbolika","keyboard.tooltip.greek":"Litery greckie","keyboard.tooltip.numeric":"Numeryczne","keyboard.tooltip.alphabetic":"Litery rzymskie","tooltip.copy to clipboard":"Kopiuj do Schowka","tooltip.redo":"Przywr","tooltip.toggle virtual keyboard":"Przecz wirtualn klawiatur","tooltip.undo":"Cofnij","menu.insert matrix":"Wstaw macierz","menu.borders":"Ograniczniki macierzy","menu.array.add row above":"Dodaj wiersz po","menu.array.add row below":"Dodaj wiersz przed","menu.array.add column after":"Dodaj kolumn po","menu.array.add column before":"Dodaj kolumn przed","menu.array.delete row":"Usu wiersz","menu.array.delete rows":"Usu wybrane wiersze","menu.array.delete column":"Usu kolumn","menu.array.delete columns":"Usu wybrane kolumny","menu.mode":"Tryb","menu.mode-math":"Formua","menu.mode-text":"Tekst","menu.mode-latex":"LaTeX","tooltip.blackboard":"Tablica","tooltip.bold":"Pogrubienie","tooltip.italic":"Kursywa","tooltip.fraktur":"Fraktura","tooltip.script":"Skrypt","tooltip.caligraphic":"Kaligraficzny","tooltip.typewriter":"Maszynowy","tooltip.roman-upright":"Rzymski prosto","tooltip.row-by-col":"%@  %@","menu.font-style":"Styl czcionki","menu.accent":"Akcent","menu.decoration":"Dekoracja","menu.color":"Kolor","menu.background-color":"To","menu.evaluate":"Oblicz","menu.simplify":"Upro","menu.solve":"Rozwi","menu.solve-for":"Rozwi dla %@","menu.cut":"Wytnij","menu.copy":"Kopiuj","menu.copy-as-latex":"Kopiuj jako LaTeX","menu.copy-as-ascii-math":"Kopiuj jako ASCII Math","menu.copy-as-mathml":"Kopiuj jako MathML","menu.paste":"Wklej","menu.select-all":"Zaznacz wszystko","color.red":"Czerwony","color.orange":"Pomaraczowy","color.yellow":"ty","color.lime":"Limetkowy","color.green":"Zielony","color.teal":"Turkusowy","color.cyan":"Cyjan","color.blue":"Niebieski","color.indigo":"Indygo","color.purple":"Fioletowy","color.magenta":"Magenta","color.black":"Czarny","color.dark-grey":"Ciemnoszary","color.grey":"Szary","color.light-grey":"Jasnoszary","color.white":"Biay"},pt:{"keyboard.tooltip.symbols":"Smbolos","keyboard.tooltip.greek":"Letras gregas","keyboard.tooltip.numeric":"Numrico","keyboard.tooltip.alphabetic":"Letras romanas","tooltip.copy to clipboard":"Copiar para rea de transferncia","tooltip.redo":"Refazer","tooltip.toggle virtual keyboard":"Alternar teclado virtual","tooltip.undo":"Desfazer","menu.insert matrix":"Inserir Matriz","menu.borders":"Delimitadores de matriz","menu.array.add row above":"Adicionar linha depois","menu.array.add row below":"Adicionar linha antes","menu.array.add column after":"Adicionar coluna depois","menu.array.add column before":"Adicionar coluna antes","menu.array.delete row":"Excluir linha","menu.array.delete rows":"Excluir linhas selecionadas","menu.array.delete column":"Apagar Coluna","menu.array.delete columns":"Excluir Colunas Selecionadas","menu.mode":"Modo","menu.mode-math":"Frmula","menu.mode-text":"Texto","menu.mode-latex":"LaTeX","tooltip.blackboard":"Quadro Negro","tooltip.bold":"Negrito","tooltip.italic":"Itlico","tooltip.fraktur":"Fraktur","tooltip.script":"Script","tooltip.caligraphic":"Caligrfico","tooltip.typewriter":"Mquina de Escrever","tooltip.roman-upright":"Romano Vertical","tooltip.row-by-col":"%@  %@","menu.font-style":"Estilo da Fonte","menu.accent":"Acento","menu.decoration":"Decorao","menu.color":"Cor","menu.background-color":"Cor de Fundo","menu.evaluate":"Avaliar","menu.simplify":"Simplificar","menu.solve":"Resolver","menu.solve-for":"Resolver para %@","menu.cut":"Recortar","menu.copy":"Copiar","menu.copy-as-latex":"Copiar como LaTeX","menu.copy-as-ascii-math":"Copiar como ASCII Math","menu.copy-as-mathml":"Copiar como MathML","menu.paste":"Colar","menu.select-all":"Selecionar Tudo","color.red":"Vermelho","color.orange":"Laranja","color.yellow":"Amarelo","color.lime":"Verde Lima","color.green":"Verde","color.teal":"Verde-azulado","color.cyan":"Ciano","color.blue":"Azul","color.indigo":"ndigo","color.purple":"Roxo","color.magenta":"Magenta","color.black":"Preto","color.dark-grey":"Cinza Escuro","color.grey":"Cinza","color.light-grey":"Cinza Claro","color.white":"Branco"},uk:{"keyboard.tooltip.symbols":"","keyboard.tooltip.greek":" ","keyboard.tooltip.numeric":"","keyboard.tooltip.alphabetic":" ","tooltip.copy to clipboard":"   ","tooltip.redo":"","tooltip.toggle virtual keyboard":"  ","tooltip.undo":"","menu.insert matrix":" ","menu.borders":" ","menu.array.add row above":"  ","menu.array.add row below":"  ","menu.array.add column after":"  ","menu.array.add column before":"  ","menu.array.delete row":" ","menu.array.delete rows":"  ","menu.array.delete column":" ","menu.array.delete columns":"  ","menu.mode":"","menu.mode-math":"","menu.mode-text":"","menu.mode-latex":"LaTeX","tooltip.blackboard":" ","tooltip.bold":"","tooltip.italic":"","tooltip.fraktur":"","tooltip.script":"","tooltip.caligraphic":"","tooltip.typewriter":"  ","tooltip.roman-upright":" ","tooltip.row-by-col":"%@  %@","menu.font-style":" ","menu.accent":"","menu.decoration":"","menu.color":"","menu.background-color":"","menu.evaluate":"","menu.simplify":"","menu.solve":"","menu.solve-for":"  %@","menu.cut":"","menu.copy":"","menu.copy-as-latex":"  LaTeX","menu.copy-as-ascii-math":"  ASCII Math","menu.copy-as-mathml":"  MathML","menu.paste":"","menu.select-all":" ","color.red":"","color.orange":"","color.yellow":"","color.lime":"","color.green":"","color.teal":"","color.cyan":"-","color.blue":"","color.indigo":"","color.purple":"","color.magenta":"","color.black":"","color.dark-grey":"-","color.grey":"","color.light-grey":"-","color.white":""},"zh-cn":{"keyboard.tooltip.symbols":"","keyboard.tooltip.greek":"","keyboard.tooltip.numeric":"","keyboard.tooltip.alphabetic":"","tooltip.copy to clipboard":"","tooltip.redo":"","tooltip.toggle virtual keyboard":"","tooltip.undo":"","menu.insert matrix":"","menu.borders":"","menu.array.add row above":"","menu.array.add row below":"","menu.array.add column after":"r","menu.array.add column before":"","menu.array.delete row":"","menu.array.delete rows":"","menu.array.delete column":"","menu.array.delete columns":"","menu.mode":"","menu.mode-math":"","menu.mode-text":"","menu.mode-latex":"LaTeX","tooltip.blackboard":"","tooltip.bold":"","tooltip.italic":"","tooltip.fraktur":"Fraktur","tooltip.script":"","tooltip.caligraphic":"","tooltip.typewriter":"","tooltip.roman-upright":"","tooltip.row-by-col":"%@  %@","menu.font-style":"","menu.accent":"","menu.decoration":"","menu.color":"","menu.background-color":"","menu.evaluate":"","menu.simplify":"","menu.solve":"","menu.solve-for":" %@","menu.cut":"","menu.copy":"","menu.copy-as-latex":" LaTeX","menu.copy-as-ascii-math":" ASCII Math","menu.copy-as-mathml":" MathML","menu.paste":"","menu.select-all":"","color.red":"","color.orange":"","color.yellow":"","color.lime":"","color.green":"","color.teal":"","color.cyan":"","color.blue":"","color.indigo":"","color.purple":"","color.magenta":"","color.black":"","color.dark-grey":"","color.grey":"","color.light-grey":"","color.white":""},"zh-tw":{"keyboard.tooltip.symbols":"","keyboard.tooltip.greek":"","keyboard.tooltip.numeric":"","keyboard.tooltip.alphabetic":"","tooltip.copy to clipboard":"","tooltip.redo":"","tooltip.toggle virtual keyboard":"","tooltip.undo":"","menu.insert matrix":"","menu.borders":"","menu.array.add row above":"","menu.array.add row below":"","menu.array.add column after":"","menu.array.add column before":"","menu.array.delete row":"","menu.array.delete rows":"","menu.array.delete column":"","menu.array.delete columns":"","menu.mode":"","menu.mode-math":"","menu.mode-text":"","menu.mode-latex":"LaTeX","tooltip.blackboard":"","tooltip.bold":"","tooltip.italic":"","tooltip.fraktur":"Fraktur","tooltip.script":"","tooltip.caligraphic":"","tooltip.typewriter":"","tooltip.roman-upright":"","tooltip.row-by-col":"%@  %@","menu.font-style":"","menu.accent":"","menu.decoration":"","menu.color":"","menu.background-color":"","menu.evaluate":"","menu.simplify":"","menu.solve":"","menu.solve-for":" %@","menu.cut":"","menu.copy":"","menu.copy-as-latex":" LaTeX","menu.copy-as-ascii-math":" ASCII Math","menu.copy-as-mathml":" MathML","menu.paste":"","menu.select-all":"","color.red":"","color.orange":"","color.yellow":"","color.lime":"","color.green":"","color.teal":"","color.cyan":"","color.blue":"","color.indigo":"","color.purple":"","color.magenta":"","color.black":"","color.dark-grey":"","color.grey":"","color.light-grey":"","color.white":""}},_locale:"",_dirty:!1,_subscribers:[],_numberFormatter:void 0,get locale(){return qn._locale||(qn._locale=xs()?navigator.language.slice(0,5):"en-US"),qn._locale},set locale(e){qn._locale=e,qn._numberFormatter=void 0,qn.dirty=!0},get numberFormatter(){return qn._numberFormatter||(qn._numberFormatter=new Intl.NumberFormat(qn.locale)),qn._numberFormatter},merge(e,t){if("string"==typeof e&&t)qn.strings[e]=w(w({},qn.strings[e]),t),qn.dirty=!0;else for(let t of Object.keys(e))qn.merge(t,e[t])},get dirty(){return qn._dirty},set dirty(e){qn._dirty||qn._dirty===e||(qn._dirty=!0,setTimeout((()=>{qn._dirty=!1,this._subscribers.forEach((e=>e?.()))}),0))},subscribe:e=>(qn._subscribers.push(e),qn._subscribers.length-1),unsubscribe(e){e<0||e>=qn._subscribers.length||(qn._subscribers[e]=void 0)},update(e){let t=e.querySelectorAll("[data-l10n-tooltip]");for(let e of t){let t=e.getAttribute("data-l10n-tooltip");if(t){let r=$n(t);r&&e.setAttribute("data-tooltip",r)}}t=e.querySelectorAll("[data-l10n-arial-label]");for(let e of t){let t=e.getAttribute("data-l10n-arial-label");if(t){let r=$n(t);r&&e.setAttribute("aria-label",r)}}}};function $n(e,...t){if(void 0===e)return;let r="",i=qn.locale;qn.strings[i]&&(r=qn.strings[i][e]);let a=i.slice(0,2);if(!r&&qn.strings[a]&&(r=qn.strings[a][e]),r||(r=qn.strings.en[e]),!r)return;let s=/(%@|%([0-9]+)\$@)/g,n=s.exec(r),o=0;for(;n;){if(t[o++]){let e=t[n[2]?parseInt(n[2],10)-1:o-1];"number"==typeof e&&(e=qn.numberFormatter.format(e)),r=r.replace(n[1],e)}n=s.exec(r)}return r=r.replace(/%%/g,"%"),r}var Vn={"p@":{dimension:1},"z@":{dimension:0},maxdimen:{dimension:16383.99999},hfuzz:{dimension:.1},vfuzz:{dimension:.1},overfullrule:{dimension:5},hsize:{dimension:6.5,unit:"in"},vsize:{dimension:8.9,unit:"in"},parindent:{dimension:20},maxdepth:{dimension:4},splitmaxdepth:{register:"maxdimen"},boxmaxdepth:{register:"maxdimen"},delimitershortfall:{dimension:5},nulldelimiterspace:{dimension:1.2,unit:"pt"},scriptspace:{dimension:.5},topskip:{dimension:10},splittopskip:{dimension:10},normalbaselineskip:{dimension:12},normallineskip:{dimension:1},normallineskiplimit:{dimension:0},jot:{dimension:3},doublerulesep:{dimension:2},arrayrulewidth:{dimension:.4},arraycolsep:{dimension:5},fboxsep:{dimension:3},fboxrule:{dimension:.4},"z@skip":{glue:{dimension:0},shrink:{dimension:0},grow:{dimension:0}},hideskip:{glue:{dimension:-1e3},grow:{dimension:1,unit:"fill"}},"@flushglue":{glue:{dimension:0},grow:{dimension:1,unit:"fill"}},parskip:{glue:{dimension:0},grow:{dimension:1}},abovedisplayskip:{glue:{dimension:12},grow:{dimension:3},shrink:{dimension:9}},abovedisplayshortskip:{glue:{dimension:0},grow:{dimension:3}},belowdisplayskip:{glue:{dimension:12},grow:{dimension:3},shrink:{dimension:9}},belowdisplayshortskip:{glue:{dimension:7},grow:{dimension:3},shrink:{dimension:4}},parfillskip:{glue:{dimension:0},grow:{dimension:1,unit:"fil"}},thinmuskip:{glue:{dimension:3,unit:"mu"}},medmuskip:{glue:{dimension:4,unit:"mu"},grow:{dimension:2,unit:"mu"},shrink:{dimension:4,unit:"mu"}},thickmuskip:{glue:{dimension:5,unit:"mu"},grow:{dimension:5,unit:"mu"}},smallskipamount:{glue:{dimension:3},grow:{dimension:1},shrink:{dimension:1}},medskipamount:{glue:{dimension:6},grow:{dimension:2},shrink:{dimension:3}},bigskipamount:{glue:{dimension:12},grow:{dimension:2},shrink:{dimension:4}},pretolerance:100,tolerance:200,hbadness:1e3,vbadness:1e3,linepenalty:10,hyphenpenalty:50,exhyphenpenalty:50,binoppenalty:700,relpenalty:500,clubpenalty:150,widowpenalty:150,displaywidowpenalty:50,brokenpenalty:100,predisplaypenalty:1e4,doublehyphendemerits:1e4,finalhyphendemerits:5e3,adjdemerits:1e4,tracinglostchars:1,uchyph:1,delimiterfactor:901,defaulthyphenchar:"\\-",defaultskewchar:-1,newlinechar:-1,showboxbreadth:5,showboxdepth:3,errorcontextlines:5,interdisplaylinepenalty:100,interfootnotelinepenalty:100,baselineSkip:1.2,arraystretch:1,month:(new Date).getMonth()+1,day:(new Date).getDate(),year:(new Date).getFullYear()};function Hn(){return{registers:w({},Vn),smartFence:!1,renderPlaceholder:void 0,placeholderSymbol:"",letterShapeStyle:qn.locale.startsWith("fr")?"french":"tex",minFontScale:0,maxMatrixCols:10,colorMap:bs,backgroundColorMap:vs,getMacro:e=>Ks(e,function(e){return Fs||(Fs=Xs(Os)),e?Xs(w(w({},Fs),e)):Fs}())}}var Nn=class e{constructor(t,r){var i,a,s,n,o,l,c,u,h,d,m,p,g,f,y,b;let v;this.ansValue=null==(i=t?.from)?void 0:i.ansValue,null!=t&&t.parent?(this.parent=t.parent,v=t.parent,this.registers={}):(v=w(w({},Hn()),null!=(a=t?.from)?a:{}),this.registers=v.registers),v.atomIdsSettings&&(this.atomIdsSettings=w({},v.atomIdsSettings)),this.renderPlaceholder=v.renderPlaceholder,this.isPhantom=null!=(o=null!=(n=t?.isPhantom)?n:null==(s=this.parent)?void 0:s.isPhantom)&&o,this.letterShapeStyle=v.letterShapeStyle,this.minFontScale=v.minFontScale,this.maxMatrixCols=v.maxMatrixCols,null!=r&&r.color&&"none"!==r.color?this.color=r.color:this.color=null!=(c=null==(l=this.parent)?void 0:l.color)?c:"",null!=r&&r.backgroundColor&&"none"!==r.backgroundColor?this.backgroundColor=r.backgroundColor:this.backgroundColor=null!=(h=null==(u=this.parent)?void 0:u.backgroundColor)?h:"",null!=r&&r.fontSize&&"auto"!==r.fontSize&&r.fontSize!==(null==(d=this.parent)?void 0:d.size)?this.size=r.fontSize:this.size=null!=(p=null==(m=this.parent)?void 0:m.size)?p:5;let _=null!=(f=null==(g=this.parent)?void 0:g.mathstyle)?f:In.displaystyle;if("string"==typeof t?.mathstyle){if(v instanceof e)switch(t.mathstyle){case"cramp":_=_.cramp;break;case"superscript":_=_.sup;break;case"subscript":_=_.sub;break;case"numerator":_=_.fracNum;break;case"denominator":_=_.fracDen}switch(t.mathstyle){case"textstyle":_=In.textstyle;break;case"displaystyle":_=In.displaystyle;break;case"scriptstyle":_=In.scriptstyle;break;case"scriptscriptstyle":_=In.scriptscriptstyle}}this.mathstyle=_,this.smartFence=v.smartFence,this.placeholderSymbol=v.placeholderSymbol,this.colorMap=null!=(y=v.colorMap)?y:e=>e,this.backgroundColorMap=null!=(b=v.backgroundColorMap)?b:e=>e,this.getMacro=v.getMacro,void 0!==this.parent||this.registers}makeID(){if(!this.atomIdsSettings)return;if(this.atomIdsSettings.overrideID)return this.atomIdsSettings.overrideID;if("number"!=typeof this.atomIdsSettings.seed)return`${Date.now().toString(36).slice(-2)}${Math.floor(1e5*Math.random()).toString(36)}`;let e=this.atomIdsSettings.seed.toString(36);return this.atomIdsSettings.seed+=1,e}scale(e){return e*this.effectiveFontSize}get scalingFactor(){return this.parent?this.effectiveFontSize/this.parent.effectiveFontSize:1}get isDisplayStyle(){return 7===this.mathstyle.id||6===this.mathstyle.id}get isCramped(){return this.mathstyle.cramped}get isTight(){return this.mathstyle.isTight}get metrics(){return this.mathstyle.metrics}get effectiveFontSize(){return Math.max(ss[Math.max(1,this.size+this.mathstyle.sizeDelta)],this.minFontScale)}getRegister(e){var t;return null!=(t=this.registers)&&t[e]?this.registers[e]:this.parent?this.parent.getRegister(e):void 0}getRegisterAsNumber(e){let t=this.getRegister(e);return"number"==typeof t?t:"string"==typeof t?Number(t):void 0}getRegisterAsGlue(e){var t;if(null!=(t=this.registers)&&t[e]){let t=this.registers[e];return"object"==typeof t&&"glue"in t?t:"object"==typeof t&&"dimension"in t?{glue:{dimension:t.dimension}}:"number"==typeof t?{glue:{dimension:t}}:void 0}if(this.parent)return this.parent.getRegisterAsGlue(e)}getRegisterAsEm(e,t){return zn(this.getRegisterAsDimension(e),t)}getRegisterAsDimension(e){var t;if(null!=(t=this.registers)&&t[e]){let t=this.registers[e];return"object"==typeof t&&"glue"in t?t.glue:"object"==typeof t&&"dimension"in t?t:"number"==typeof t?{dimension:t}:void 0}if(this.parent)return this.parent.getRegisterAsDimension(e)}setRegister(e,t){void 0!==t?this.registers[e]=t:delete this.registers[e]}evaluate(e){if(!e||!("register"in e))return e;let t=this;if("global"in e&&e.global)for(;t.parent;)t=t.parent;let r=1;"factor"in e&&1!==e.factor&&void 0!==e.factor&&(r=e.factor);let i=t.getRegister(e.register);if(void 0===i)return;if("string"==typeof i)return{string:Number(i).toString()+i};if("number"==typeof i)return{number:r*i};let a=t.evaluate(i);return void 0!==a?"string"in a?{string:Number(i).toString()+a.string}:"number"in a?{number:r*a.number}:"dimension"in a?_(w({},a),{dimension:r*a.dimension}):"glue"in a?_(w({},a),{glue:_(w({},a.glue),{dimension:r*a.glue.dimension}),shrink:a.shrink?_(w({},a.shrink),{dimension:r*a.shrink.dimension}):void 0,grow:a.grow?_(w({},a.grow),{dimension:r*a.grow.dimension}):void 0}):e:void 0}toDimension(e){let t=this.evaluate(e);return void 0===t?null:"dimension"in t?t:"glue"in t?t.glue:"number"in t?{dimension:t.number}:null}toEm(e,t){if(null===e)return 0;let r=this.toDimension(e);return null===r?0:Pn(r,t)/es}toNumber(e){if(null===e)return null;let t=this.evaluate(e);return void 0===t?null:"number"in t?t.number:"dimension"in t?t.dimension:"glue"in t?t.glue.dimension:"string"in t?Number(t.string):null}toColor(e){var t,r;if(null===e)return null;let i=this.evaluate(e);return void 0===i?null:"string"in i?null!=(r=null==(t=this.colorMap)?void 0:t.call(this,i.string))?r:i.string:null}toBackgroundColor(e){var t,r;if(null===e)return null;let i=this.evaluate(e);return void 0===i?null:"string"in i?null!=(r=null==(t=this.backgroundColorMap)?void 0:t.call(this,i.string))?r:i.string:null}},Un=["body","above","below","superscript","subscript"];function Yn(e){return"string"==typeof e&&Un.includes(e)}function jn(e){return void 0!==e&&Array.isArray(e)&&2===e.length}var Wn=class e{constructor(e){var t,r,i,a,s,n,o;this.type=e.type,"string"==typeof e.value&&(this.value=e.value),this.command=null!=(r=null!=(t=e.command)?t:this.value)?r:"",this.mode=null!=(i=e.mode)?i:"math",e.isFunction&&(this.isFunction=!0),e.limits&&(this.subsupPlacement=e.limits),this.style=w({},null!=(a=e.style)?a:{}),this.displayContainsHighlight=null!=(s=e.displayContainsHighlight)&&s,this.captureSelection=null!=(n=e.captureSelection)&&n,this.skipBoundary=null!=(o=e.skipBoundary)&&o,void 0!==e.verbatimLatex&&null!==e.verbatimLatex&&(this.verbatimLatex=e.verbatimLatex),e.args&&(this.args=e.args),e.body&&(this.body=e.body),this._changeCounter=0,this.isImplicitArg=e.isImplicitArg}static createBox(e,t,r){var i;if(!t)return null;let a=function(e){let t,r=[],i=[];for(let a of e)if("first"===a.type&&i.push(a),t||a.style){let e=a.style;t&&e.color===t.color&&e.backgroundColor===t.backgroundColor&&e.fontSize===t.fontSize?i.push(a):(i.length>0&&r.push(i),i=[a],t=e)}else i.push(a);return i.length>0&&r.push(i),r}(t),s=[];for(let t of a){let r=t[0].style,i=Gn(e,t,{style:{color:r.color,backgroundColor:r.backgroundColor,fontSize:r.fontSize}});i&&s.push(i)}if(0===s.length)return null;let n=(null!=(i=r?.classes)?i:"").trim();return 1!==s.length||n||null!=r&&r.type?new kn(s,{classes:n,type:r?.type}).wrap(e):s[0].wrap(e)}static serialize(e,t){return pn.serialize(e,t)}static commonAncestor(e,t){if(e===t||e.parent===t.parent)return e.parent;let r=new WeakSet,{parent:i}=e;for(;i;)r.add(i),i=i.parent;for(i=t.parent;i;){if(r.has(i))return i;i=i.parent}}static fromJson(t){return new e("string"==typeof t?{type:"mord",value:t,mode:"math"}:t)}toJson(){if(this._json)return this._json;let e={};if(this.type&&(e.type=this.type),"math"!==this.mode&&(e.mode=this.mode),this.command&&this.command!==this.value&&(e.command=this.command),void 0!==this.value&&(e.value=this.value),this.style&&Object.keys(this.style).length>0&&(e.style=w({},this.style)),void 0!==this.verbatimLatex&&(e.verbatimLatex=this.verbatimLatex),this.subsupPlacement&&(e.subsupPlacement=this.subsupPlacement),this.explicitSubsupPlacement&&(e.explicitSubsupPlacement=!0),this.isFunction&&(e.isFunction=!0),this.displayContainsHighlight&&(e.displayContainsHighlight=!0),this.skipBoundary&&(e.skipBoundary=!0),this.captureSelection&&(e.captureSelection=!0),this.args&&(e.args=this.args.map((e=>null===e?"<null>":Array.isArray(e)&&e[0]instanceof Wn?{atoms:e.map((e=>e.toJson()))}:"object"==typeof e&&"group"in e?{group:e.group.map((e=>e.toJson()))}:e))),this._branches)for(let t of Object.keys(this._branches))this._branches[t]&&(e[t]=this._branches[t].filter((e=>"first"!==e.type)).map((e=>e.toJson())));return"mord"===e.type&&2===Object.keys(e).length&&"value"in e?e.value:(this._json=e,e)}get changeCounter(){return this.parent?this.parent.changeCounter:this._changeCounter}set isDirty(e){e&&(this._json=void 0,this.parent||this._changeCounter++,"verbatimLatex"in this&&(this.verbatimLatex=void 0),this._children=void 0,this.parent&&(this.parent.isDirty=!0))}_serialize(e){if(!(e.expandMacro||e.skipStyles||e.skipPlaceholders)&&"string"==typeof this.verbatimLatex)return this.verbatimLatex;let t=Zs(this.command,this.mode);return null!=t&&t.serialize?t.serialize(this,e):this.body&&this.command?un([hn(this.command,this.bodyToLatex(e)),this.supsubToLatex(e)]):this.body?un([this.bodyToLatex(e),this.supsubToLatex(e)]):this.value&&""!==this.value?this.command:""}bodyToLatex(e){var t;let r=null!=(t=e.defaultMode)?t:"math"===this.mode?"math":"text";return pn.serialize(this.body,_(w({},e),{defaultMode:r}))}aboveToLatex(e){return pn.serialize(this.above,e)}belowToLatex(e){return pn.serialize(this.below,e)}supsubToLatex(e){let t="";if(e=_(w({},e),{defaultMode:"math"}),void 0!==this.branch("subscript")){let r=pn.serialize(this.subscript,e);0===r.length?t+="_{}":1===r.length&&/^[0-9]$/.test(r)?t+=`_${r}`:t+=`_{${r}}`}if(void 0!==this.branch("superscript")){let r=pn.serialize(this.superscript,e);0===r.length?t+="^{}":1===r.length?""===r?t+="^\\prime ":""===r?t+="^\\doubleprime ":/^[0-9]$/.test(r)?t+=`^${r}`:t+=`^{${r}}`:t+=`^{${r}}`}return t}get treeDepth(){let e=1,t=this.parent;for(;t;)t=t.parent,e+=1;return e}get inCaptureSelection(){let e=this;for(;e;){if(e.captureSelection)return!0;e=e.parent}return!1}get parentPrompt(){let e=this.parent;for(;e;){if("prompt"===e.type&&!e.captureSelection)return e;e=e.parent}return null}branch(e){if(Yn(e)&&this._branches)return this._branches[e]}get branches(){if(!this._branches)return[];let e=[];for(let t of Un)this._branches[t]&&e.push(t);return e}createBranch(e){return Yn(e),Yn(e)?(this._branches?this._branches[e]||(this._branches[e]=[this.makeFirstAtom(e)]):this._branches={[e]:[this.makeFirstAtom(e)]},this.isDirty=!0,this._branches[e]):[]}get row(){return jn(this.parentBranch)?this.parentBranch[0]:-1}get col(){return jn(this.parentBranch)?this.parentBranch[1]:-1}get body(){var e;return null==(e=this._branches)?void 0:e.body}set body(e){this.setChildren(e,"body")}get superscript(){var e;return null==(e=this._branches)?void 0:e.superscript}set superscript(e){this.setChildren(e,"superscript")}get subscript(){var e;return null==(e=this._branches)?void 0:e.subscript}set subscript(e){this.setChildren(e,"subscript")}get above(){var e;return null==(e=this._branches)?void 0:e.above}set above(e){this.setChildren(e,"above")}get below(){var e;return null==(e=this._branches)?void 0:e.below}set below(e){this.setChildren(e,"below")}applyStyle(e){this.isDirty=!0,this.style=w(w({},this.style),e),"none"===this.style.fontFamily&&delete this.style.fontFamily,"auto"===this.style.fontShape&&delete this.style.fontShape,"auto"===this.style.fontSeries&&delete this.style.fontSeries,"none"===this.style.color&&(delete this.style.color,delete this.style.verbatimColor),"none"===this.style.backgroundColor&&(delete this.style.backgroundColor,delete this.style.verbatimBackgroundColor),"auto"===this.style.fontSize&&delete this.style.fontSize;for(let t of this.children)t.applyStyle(e)}getInitialBaseElement(){var e,t,r;return this.hasEmptyBranch("body")?this:(null==(e=this.body)||e[0].type,null!=(r=null==(t=this.body[1])?void 0:t.getInitialBaseElement())?r:this)}getFinalBaseElement(){return this.hasEmptyBranch("body")?this:this.body[this.body.length-1].getFinalBaseElement()}isCharacterBox(){return"leftright"!==this.type&&"genfrac"!==this.type&&"subsup"!==this.type&&"delim"!==this.type&&"array"!==this.type&&"surd"!==this.type&&"mord"===this.getFinalBaseElement().type}hasEmptyBranch(e){let t=this.branch(e);return!t||(t.length,t[0].type,1===t.length)}hasEmptyBranchIgnorePlaceholder(e){let t=this.branch(e);return!t||1===t.filter((e=>"placeholder"!==e?.type)).length}hasEmptyBranchWithFirstAtom(e){let t=this.branch(e);return!!t&&(1===t.length&&"first"===t[0].type)}setChildren(e,t){var r;if(!e||(Yn(t),!Yn(t)))return;let i="first"===(null==(r=e[0])?void 0:r.type)?[...e]:[this.makeFirstAtom(t),...e];this._branches?this._branches[t]=i:this._branches={[t]:i};for(let r of e)r.parent=this,r.parentBranch=t;this.isDirty=!0}makeFirstAtom(t){let r=new e({type:"first",mode:this.mode});return r.parent=this,r.parentBranch=t,r}addChild(e,t){e.type,this.createBranch(t).push(e),this.isDirty=!0,e.parent=this,e.parentBranch=t}addChildBefore(e,t){t.parentBranch;let r=this.createBranch(t.parentBranch);r.splice(r.indexOf(t),0,e),this.isDirty=!0,e.parent=this,e.parentBranch=t.parentBranch}addChildAfter(e,t){t.parentBranch;let r=this.createBranch(t.parentBranch);r.splice(r.indexOf(t)+1,0,e),this.isDirty=!0,e.parent=this,e.parentBranch=t.parentBranch}addChildren(e,t){let r=this.createBranch(t);for(let i of e)i.parent=this,i.parentBranch=t,r.push(i);this.isDirty=!0}addChildrenAfter(e,t){0===e.length||e[0].type,t.parentBranch;let r=this.createBranch(t.parentBranch);r.splice(r.indexOf(t)+1,0,...e),this.isDirty=!0;for(let r of e)r.parent=this,r.parentBranch=t.parentBranch;return e[e.length-1]}removeBranch(e){let t=this.branch(e);if(Yn(e)&&(this._branches[e]=void 0),!t)return[];for(let e of t)e.parent=void 0,e.parentBranch=void 0;t[0].type;let[r,...i]=t;return this.isDirty=!0,i}removeChild(e){if(e.parent,"first"===e.type)return;let t=this.branch(e.parentBranch),r=t.indexOf(e);t.splice(r,1),this.isDirty=!0,e.parent=void 0,e.parentBranch=void 0}get siblings(){return this.parent?this.parent.branch(this.parentBranch):[]}get firstSibling(){return this.siblings[0]}get lastSibling(){let{siblings:e}=this;return e[e.length-1]}get isFirstSibling(){return this===this.firstSibling}get isLastSibling(){return this===this.lastSibling}get hasNoSiblings(){return 1===this.siblings.length}get leftSibling(){this.parent;let e=this.parent.branch(this.parentBranch);return e[e.indexOf(this)-1]}get rightSibling(){this.parent;let e=this.parent.branch(this.parentBranch);return e[e.indexOf(this)+1]}get hasChildren(){return!!(this._branches&&this.children.length>0)}get firstChild(){return this.hasChildren,this.children[0]}get lastChild(){this.hasChildren;let{children:e}=this;return e[e.length-1]}get children(){if(this._children)return this._children;if(!this._branches)return[];let e=[];for(let t of Un)if(this._branches[t])for(let r of this._branches[t])e.push(...r.children),e.push(r);return this._children=e,e}render(e){if("first"===this.type&&!e.atomIdsSettings)return null;let t=Zs(this.command,this.mode);if(null!=t&&t.render)return t.render(this,e);let r=new Nn({parent:e},this.style),i=this.createBox(r,{classes:this.parent?"":"ML__base"});return i?(!this.subsupPlacement&&(this.superscript||this.subscript)&&(i=this.attachSupsub(r,{base:i})),i.wrap(r)):null}attachSupsub(t,r){var i;let a=r.base,s=this.superscript,n=this.subscript;if(!s&&!n)return a;let o=null,l=null,c=null!=(i=r.isCharacterBox)?i:this.isCharacterBox(),u=0;if(s){let r=new Nn({parent:t,mathstyle:"superscript"});o=e.createBox(r,s),c||(u=a.height-t.metrics.supDrop*r.scalingFactor)}let h,d=0;if(n){let r=new Nn({parent:t,mathstyle:"subscript"});l=e.createBox(r,n),c||(d=a.depth+t.metrics.subDrop*r.scalingFactor)}h=t.isDisplayStyle?t.metrics.sup1:t.isCramped?t.metrics.sup3:t.metrics.sup2;let m=.05/t.scalingFactor,p=null;if(l&&o){u=Math.max(u,h,o.depth+.25*t.metrics.xHeight),d=Math.max(d,t.metrics.sub2);let e=t.metrics.defaultRuleThickness;if(u-o.depth-(l.height-d)<4*e){d=4*e-(u-o.depth)+l.height;let r=.8*t.metrics.xHeight-(u-o.depth);r>0&&(u+=r,d-=r)}let r="extensible-symbol"===this.type&&a.italic?-a.italic:0;p=new Dn({individualShift:[{box:l,shift:d,marginLeft:r},{box:o,shift:-u}]}).wrap(t)}else l&&!o?(d=Math.max(d,t.metrics.sub1,l.height-.3448),p=new Dn({shift:d,children:[{box:l,marginRight:m,marginLeft:this.isCharacterBox()?-a.italic:0}]})):!l&&o&&(u=Math.max(u,h,o.depth+.10775),p=new Dn({shift:-u,children:[{box:o,marginRight:m}]}));return new kn([a,new kn(p,{caret:this.caret,isSelected:this.isSelected,classes:"ML__msubsup"})],{type:r.type})}attachLimits(t,r){let i=this.superscript?e.createBox(new Nn({parent:t,mathstyle:"superscript"},this.style),this.superscript):null,a=this.subscript?e.createBox(new Nn({parent:t,mathstyle:"subscript"},this.style),this.subscript):null;return i||a?function(e,t){var r,i,a,s,n;let o=e.metrics,l=new kn(t.base),c=null!=(r=t.baseShift)?r:0,u=null!=(i=t.slant)?i:0,h=0,d=0;t.above&&(h=null!=(a=t.aboveShift)?a:Math.max(o.bigOpSpacing1,o.bigOpSpacing3-t.above.depth)),t.below&&(d=null!=(s=t.belowShift)?s:Math.max(o.bigOpSpacing2,o.bigOpSpacing4-t.below.height));let m=null;if(t.below&&t.above){let r=o.bigOpSpacing5+t.below.height+t.below.depth+d+l.depth+c;m=new Dn({bottom:r,children:[o.bigOpSpacing5,{box:t.below,marginLeft:-u,classes:["ML__center"]},d,{box:l,classes:["ML__center"]},h,{box:t.above,marginLeft:u,classes:["ML__center"]},o.bigOpSpacing5]}).wrap(e)}else if(t.below&&!t.above)m=new Dn({top:l.height-c,children:[o.bigOpSpacing5,{box:t.below,marginLeft:-u,classes:["ML__center"]},d,{box:l,classes:["ML__center"]}]}).wrap(e);else if(!t.below&&t.above){let r=l.depth+c;m=new Dn({bottom:r,children:[{box:l,classes:["ML__center"]},h,{box:t.above,marginLeft:u,classes:["ML__center"]},o.bigOpSpacing5]}).wrap(e)}else{let t=l.depth+c;m=new Dn({bottom:t,children:[{box:l},o.bigOpSpacing5]}).wrap(e)}return new kn(m,{type:null!=(n=t.type)?n:"op"})}(t,_(w({},r),{above:i,below:a})):r.base.wrap(t)}bind(e,t){if(!t||e.isPhantom||""===this.value)return t;let r=this.parent;for(;r&&!r.captureSelection;)r=r.parent;return null!=r&&r.captureSelection||(this.id||(this.id=e.makeID()),t.atomID=this.id),t}createBox(t,r){var i,a,s,n;let o=null!=(i=this.value)?i:this.body,l=null!=(a=r?.boxType)?a:Sn(this.type),c=null!=(s=r?.classes)?s:"";"text"===this.mode&&(c+=" ML__text");let u="string"==typeof o||void 0===o?new kn(o??null,{type:l,isSelected:this.isSelected,mode:this.mode,maxFontSize:t.scalingFactor,style:_(w({variant:"normal"},this.style),{fontSize:Math.max(1,t.size+t.mathstyle.sizeDelta)}),letterShapeStyle:t.letterShapeStyle,classes:c}):null!=(n=e.createBox(t,o,{type:l,classes:c}))?n:new kn(null);return t.isTight&&(u.isTight=!0),("math"!==this.mode||"main"===this.style.variant)&&(u.italic=0),u.right=u.italic,this.bind(t,u),this.caret&&!this.superscript&&!this.subscript&&(u.caret=this.caret),u}isDigit(){var e;return"mord"===this.type&&this.value?/^[\d,\.]$/.test(this.value):"group"===this.type&&2===(null==(e=this.body)?void 0:e.length)&&("first"===this.body[0].type&&","===this.body[1].value)}asDigit(){var e;return"mord"===this.type&&this.value&&/^[\d,\.]$/.test(this.value)?this.value:"group"===this.type&&2===(null==(e=this.body)?void 0:e.length)&&"first"===this.body[0].type&&","===this.body[1].value?".":""}};function Gn(e,t,r){var i,a,s,n,o;if(!t||0===t.length)return null;let l=new Nn({parent:e},r.style),c=!(null!=(i=l.atomIdsSettings)&&i.groupNumbers),u=[];if(1===t.length){let e=t[0],r=e.render(l);r&&(c&&e.isSelected&&r.selected(!0),u=[r])}else{let e="",r=!0;for(let i of t){null!=(a=l.atomIdsSettings)&&a.groupNumbers&&e&&(r&&i.isDigit()||!r&&Jn(i))&&(l.atomIdsSettings.overrideID=e);let t=i.render(l);l.atomIdsSettings&&(l.atomIdsSettings.overrideID=void 0),t&&(null!=(s=l.atomIdsSettings)&&s.groupNumbers&&((i.isDigit()||Jn(i))&&(!e||r!==i.isDigit())&&(r=i.isDigit(),e=null!=(n=i.id)?n:""),e&&(!(i.isDigit()||Jn(i))||!i.hasEmptyBranch("superscript")||!i.hasEmptyBranch("subscript"))&&(e="")),c&&i.isSelected&&t.selected(!0),u.push(t))}}if(0===u.length)return null;let h=new kn(u,_(w({isTight:l.isTight},r),{type:null!=(o=r.type)?o:"lift"}));return h.isSelected=u.every((e=>e.isSelected)),h.wrap(l)}function Jn(e){return"text"===e.mode}var Zn=class e extends Wn{constructor(e){var t;super(_(w({},e),{type:"accent",body:null!=(t=e.body)?t:void 0})),e.accentChar?this.accent=e.accentChar:this.svgAccent=e?.svgAccent,this.skipBoundary=!0,this.captureSelection=!0}static fromJson(t){return new e(t)}toJson(){return _(w({},super.toJson()),{accentChar:this.accent,svgAccent:this.svgAccent})}render(e){var t;let r=new Nn({parent:e,mathstyle:"cramp"},this.style),i=null!=(t=Wn.createBox(r,this.body))?t:new kn("",{style:this.style}),a=0;!this.hasEmptyBranch("body")&&2===this.body.length&&this.body[1].isCharacterBox()&&(a=i.skew);let s,n=Math.min(i.height,rs);if(this.svgAccent)s=Cn(this.svgAccent),n=r.metrics.bigOpSpacing1-n;else if(this.accent){let e=new kn(this.accent,{fontFamily:"Main-Regular"});e.italic=0;let t=8407===this.accent?" ML__accent-vec":"";s=new kn(new kn(e),{classes:"ML__accent-body"+t})}s=new Dn({shift:0,children:[{box:new kn(i)},-n,{box:s,marginLeft:i.left+2*a,classes:["ML__center"]}]});let o=new kn(s,{type:"lift"});return this.caret&&(o.caret=this.caret),this.bind(r,o.wrap(r)),this.attachSupsub(r,{base:o})}},eo={"(":")","{":"}","[":"]","|":"|","\\lbrace":"\\rbrace","\\lparen":"\\rparen","\\{":"\\}","\\langle":"\\rangle","\\lfloor":"\\rfloor","\\lceil":"\\rceil","\\vert":"\\vert","\\lvert":"\\rvert","\\Vert":"\\Vert","\\lVert":"\\rVert","\\lbrack":"\\rbrack","\\ulcorner":"\\urcorner","\\llcorner":"\\lrcorner","\\lgroup":"\\rgroup","\\lmoustache":"\\rmoustache"};function to(e){var t;return null!=(t={"[":91,"]":93,"(":40,")":41,"\\mid":8739,"|":8739,"":8739,"":8741,"\\|":8739,"\\{":123,"\\}":125,"\\lbrace":123,"\\rbrace":125,"\\lparen":40,"\\rparen":41,"\\lbrack":91,"\\rbrack":93,"\\vert":8739,"\\lvert":8739,"\\mvert":8739,"\\rvert":8739,"\\Vert":8741,"\\lVert":8741,"\\mVert":8741,"\\rVert":8741,"\\parallel":8741,"\\shortparallel":8741,"\\langle":10216,"\\rangle":10217,"\\lfloor":8970,"\\rfloor":8971,"\\lceil":8968,"\\rceil":8969,"\\ulcorner":9484,"\\urcorner":9488,"\\llcorner":9492,"\\lrcorner":9496,"\\lgroup":10222,"\\rgroup":10223,"\\lmoustache":9136,"\\rmoustache":9137,"\\surd":8730}[e])?t:e.codePointAt(0)}function ro(e,t,r,i,a){var s,n;let o=new Nn({parent:i,mathstyle:"textstyle"},a?.style),l=new kn(to(e),{fontFamily:`Size${t}-Regular`,isSelected:a.isSelected,classes:(null!=(s=a.classes)?s:"")+` ML__delim-size${t}`,type:null!=(n=a.type)?n:"ignore"}).wrap(o);return r&&l.setTop((1-o.scalingFactor)*ts),l}function io(e,t,r,i,a){var s;let n,o,l,c;n=l=c=to(e),o=null;let u="Size1-Regular";"\\vert"===e||"\\lvert"===e||"\\rvert"===e||"\\mvert"===e||"\\mid"===e?l=n=c=8739:"\\Vert"===e||"\\lVert"===e||"\\rVert"===e||"\\mVert"===e||"\\|"===e?l=n=c=8741:"\\uparrow"===e?l=c=9168:"\\Uparrow"===e?l=c=8214:"\\downarrow"===e?n=l=9168:"\\Downarrow"===e?n=l=8214:"\\updownarrow"===e?(n=8593,l=9168,c=8595):"\\Updownarrow"===e?(n=8657,l=8214,c=8659):"["===e||"\\lbrack"===e?(n=9121,l=9122,c=9123,u="Size4-Regular"):"]"===e||"\\rbrack"===e?(n=9124,l=9125,c=9126,u="Size4-Regular"):"\\lfloor"===e||""===e?(l=n=9122,c=9123,u="Size4-Regular"):"\\lceil"===e||""===e?(n=9121,l=c=9122,u="Size4-Regular"):"\\rfloor"===e||""===e?(l=n=9125,c=9126,u="Size4-Regular"):"\\rceil"===e||""===e?(n=9124,l=c=9125,u="Size4-Regular"):"("===e||"\\lparen"===e?(n=9115,l=9116,c=9117,u="Size4-Regular"):")"===e||"\\rparen"===e?(n=9118,l=9119,c=9120,u="Size4-Regular"):"\\{"===e||"\\lbrace"===e?(n=9127,o=9128,c=9129,l=9130,u="Size4-Regular"):"\\}"===e||"\\rbrace"===e?(n=9131,o=9132,c=9133,l=9130,u="Size4-Regular"):"\\lgroup"===e||""===e?(n=9127,c=9129,l=9130,u="Size4-Regular"):"\\rgroup"===e||""===e?(n=9131,c=9133,l=9130,u="Size4-Regular"):"\\lmoustache"===e||""===e?(n=9127,c=9133,l=9130,u="Size4-Regular"):"\\rmoustache"===e||""===e?(n=9131,c=9129,l=9130,u="Size4-Regular"):"\\surd"===e?(n=57345,c=9143,l=57344,u="Size4-Regular"):"\\ulcorner"===e?(n=9484,l=c=32):"\\urcorner"===e?(n=9488,l=c=32):"\\llcorner"===e?(c=9492,l=n=32):"\\lrcorner"===e&&(n=9496,l=n=32);let h=os(n,u),d=h.height+h.depth,m=os(l,u),p=m.height+m.depth,g=os(c,u),f=g.height+g.depth,y=0,b=1;if(null!==o){let e=os(o,u);y=e.height+e.depth,b=2}let v=d+f+y,S=Math.max(0,Math.ceil((t-v)/(b*p))),x=v+S*b*p,M=ts;r&&(M*=i.scalingFactor);let k=x/2-M,L=.008,A=[];A.push({box:new kn(c,{fontFamily:u})}),A.push(-L);let C=new kn(l,{fontFamily:u});if(null===o)for(let e=0;e<S;e++)A.push({box:C});else{for(let e=0;e<S;e++)A.push({box:C});A.push(-L),A.push({box:new kn(o,{fontFamily:u})}),A.push(-L);for(let e=0;e<S;e++)A.push({box:C})}A.push(-L),A.push({box:new kn(n,{fontFamily:u})});let T="";"Size1-Regular"===u?T=" delim-size1":"Size4-Regular"===u&&(T=" delim-size4");let D=new Dn({bottom:k,children:A},{classes:T});return new kn(D,_(w({},a??{}),{classes:(null!=(s=a?.classes)?s:"")+" ML__delim-mult"}))}Object.fromEntries(Object.entries(eo).map((([e,t])=>[t,e])));var ao=new Set(["(",")","\\lparen","\\rparen","[","]","\\lbrack","\\rbrack","\\{","\\}","\\lbrace","\\rbrace","\\lfloor","\\rfloor","\\lceil","\\rceil","\\surd","","","",""]),so=new Set(["\\uparrow","\\downarrow","\\updownarrow","\\Uparrow","\\Downarrow","\\Updownarrow","|","\\|","\\vert","\\Vert","\\lvert","\\rvert","\\lVert","\\rVert","\\mvert","\\mid","\\lgroup","\\rgroup","\\lmoustache","\\rmoustache","","","",""]),no=new Set(["<",">","\\langle","\\rangle","/","\\backslash","\\lt","\\gt"]),oo=[0,1.2,1.8,2.4,3];var lo=[{type:"small",mathstyle:"scriptscriptstyle"},{type:"small",mathstyle:"scriptstyle"},{type:"small",mathstyle:"textstyle"},{type:"large",size:1},{type:"large",size:2},{type:"large",size:3},{type:"large",size:4}],co=[{type:"small",mathstyle:"scriptscriptstyle"},{type:"small",mathstyle:"scriptscriptstyle"},{type:"small",mathstyle:"textstyle"},{type:"stack"}],uo=[{type:"small",mathstyle:"scriptscriptstyle"},{type:"small",mathstyle:"scriptstyle"},{type:"small",mathstyle:"textstyle"},{type:"large",size:1},{type:"large",size:2},{type:"large",size:3},{type:"large",size:4},{type:"stack"}];function ho(e){return"small"===e.type?"Main-Regular":"large"===e.type?"Size"+e.size+"-Regular":(e.type,"Size4-Regular")}function mo(e,t,r,i,a,s){if(!t||0===t.length||"."===t)return go(a);let n;"<"===t||"\\lt"===t?t="\\langle":(">"===t||"\\gt"===t)&&(t="\\rangle"),n=no.has(t)?lo:ao.has(t)?uo:co;let o=function(e,t,r,i){for(let a={"-4":0,"-3":1,0:2}[i.mathstyle.sizeDelta];a<r.length&&"stack"!==r[a].type;a++){let s=os(e,ho(r[a]));if(s.defaultMetrics)return{type:"small",mathstyle:"scriptstyle"};let n=s.height+s.depth;if("small"===r[a].type&&("scriptscriptstyle"===r[a].mathstyle?n*=Math.max(ss[Math.max(1,i.size-2)],i.minFontScale):"scriptstyle"===r[a].mathstyle&&(n*=Math.max(ss[Math.max(1,i.size-1)],i.minFontScale))),n>t)return r[a]}return r[r.length-1]}(to(t),r,n,a),l=new Nn({parent:a,mathstyle:o.mathstyle},s?.style);return"small"===o.type?function(e,t,r,i){var a;let s=new kn(to(e),{fontFamily:"Main-Regular",isSelected:i.isSelected,classes:"ML__small-delim "+(null!=(a=i.classes)?a:"")}).wrap(t);return r&&s.setTop((1-t.scalingFactor)*ts),s}(t,l,i,_(w({},s),{type:e})):"large"===o.type?ro(t,o.size,i,l,_(w({},s),{type:e})):(o.type,io(t,r,i,l,_(w({},s),{type:e})))}function po(e,t,r,i,a,s){if("."===t)return go(a,s?.classes);let n=ts*a.scalingFactor,o=Math.max(r-n,i+n);return mo(e,t,Math.max(o/500*901,2*o-.5),!0,a,s)}function go(e,t){let r=new kn(null,{classes:" ML__nulldelimiter "+(t??""),type:"ignore"});return r.width=e.getRegisterAsEm("nulldelimiterspace"),r.wrap(new Nn({parent:e,mathstyle:"textstyle"}))}var fo=class e extends Wn{constructor(e){var t,r,i,a;super({type:"overunder",command:e.command,style:e.style,mode:e.mode,body:e.body,skipBoundary:null==(t=e.skipBoundary)||t}),this.subsupPlacement=e.supsubPlacement,this.svgAbove=e.svgAbove,this.svgBelow=e.svgBelow,this.svgBody=e.svgBody,this.above=e.above,this.below=e.below,this.boxType=null!=(r=e.boxType)?r:"ord",this.paddedBody=null!=(i=e.paddedBody)&&i,this.paddedLabels=null!=(a=e.paddedLabels)&&a}static fromJson(t){return new e(t)}toJson(){let e=super.toJson();return this.skipBoundary||(e.skipBoundary=!1),this.subsupPlacement&&(e.subsupPlacement=this.subsupPlacement),this.svgAbove&&(e.svgAbove=this.svgAbove),this.svgBelow&&(e.svgBelow=this.svgBelow),this.svgBody&&(e.svgBody=this.svgBody),"ord"!==this.boxType&&(e.boxType=this.boxType),this.paddedBody&&(e.paddedBody=!0),this.paddedLabels&&(e.paddedLabels=!0),e}render(e){let t=this.svgBody?Cn(this.svgBody):Wn.createBox(e,this.body,{type:"ignore"}),r=new Nn({parent:e,mathstyle:"scriptstyle"},this.style),i=null;this.svgAbove?i=Cn(this.svgAbove):this.above&&(i=Wn.createBox(r,this.above,{type:"ignore"}));let a=null;this.svgBelow?a=Cn(this.svgBelow):this.below&&(a=Wn.createBox(r,this.below,{type:"ignore"})),this.paddedBody&&(t=new kn([go(e,"ML__open"),t,go(e,"ML__close")],{type:"ignore"}));let s=function(e,t){if(!t.base)return null;if(!t.above&&!t.below){let e=new kn(t.base,{type:t.type});return e.setStyle("position","relative"),e}let r=0;t.above&&(r=e.metrics.bigOpSpacing5);let i=null,a=t.base,s=0,n=["ML__center"];if(t.paddedAboveBelow&&n.push("ML__label_padding"),t.below&&t.above){let o=e.metrics.bigOpSpacing5+t.below.height+t.below.depth+a.depth+s;i=new Dn({bottom:o,children:[e.metrics.bigOpSpacing5,{box:t.below,classes:n},{box:a,classes:["ML__center"]},r,{box:t.above,classes:n},e.metrics.bigOpSpacing5]})}else t.below?i=new Dn({top:a.height-s,children:[e.metrics.bigOpSpacing5,{box:t.below,classes:n},{box:a,classes:["ML__center"]}]}):t.above&&(i=new Dn({bottom:a.depth+s,children:[{box:a,classes:["ML__center"]},r,{box:t.above,classes:n},e.metrics.bigOpSpacing5]}));return new kn(i,{type:t.type})}(e,{base:t,above:i,below:a,type:"bin"===this.boxType||"rel"===this.boxType?this.boxType:"ord",paddedAboveBelow:this.paddedLabels});return s?(s="over-under"===this.subsupPlacement?this.attachLimits(e,{base:s,type:s.type}):this.attachSupsub(e,{base:s}),this.caret&&(s.caret=this.caret),this.bind(e,s)):null}};var yo={acute:714,grave:715,dot:729,ddot:168,mathring:730,tilde:126,bar:713,breve:728,check:711,hat:94,vec:8407};Ws(Object.keys(yo),"{body:auto}",{createAtom:e=>new Zn(_(w({},e),{body:Es(e.args[0]),accentChar:yo[e.command.slice(1)]}))}),Ws(["widehat","widecheck","widetilde"],"{body:auto}",{createAtom:e=>{let t=Us(Es(e.args[0]));return new Zn(_(w({},e),{body:Es(e.args[0]),svgAccent:e.command.slice(1)+(t.length>5?"4":["1","1","2","2","3","3"][t.length])}))}}),Ws(["overarc","overparen","wideparen"],"{body:auto}",{createAtom:e=>new Zn(_(w({},e),{body:Es(e.args[0]),svgAccent:"overarc"}))}),Ws(["underarc","underparen"],"{body:auto}",{createAtom:e=>new fo(_(w({},e),{body:Es(e.args[0]),svgBelow:"underarc"}))}),Ws("utilde","{body:auto}",{createAtom:e=>{let t=Es(e.args[0]),r=Us(t),i="widetilde"+(r.length>5?"4":["1","1","2","2","3","3"][r.length]);return new fo(_(w({},e),{body:t,svgBelow:i,boxType:xn(t)}))}}),Ws("^","{:string}",{createAtom:e=>{var t;return new Wn(_(w({},e),{type:"mord",isFunction:!1,limits:"adjacent",value:e.args[0]&&null!=(t={a:"",e:"",i:"",o:"",u:"",A:"",E:"",I:"",O:"",U:""}[e.args[0]])?t:"^"}))}}),Ws("`","{:string}",{createAtom:e=>{var t;return new Wn(_(w({},e),{type:"mord",isFunction:!1,limits:"adjacent",value:e.args[0]&&null!=(t={a:"",e:"",i:"",o:"",u:"",A:"",E:"",I:"",O:"",U:""}[e.args[0]])?t:"`"}))}}),Ws("'","{:string}",{createAtom:e=>{var t;return new Wn(_(w({},e),{type:"mord",isFunction:!1,limits:"adjacent",value:e.args[0]&&null!=(t={a:"",e:"",i:"",o:"",u:"",A:"",E:"",I:"",O:"",U:""}[e.args[0]])?t:"'"}))}}),Ws('"',"{:string}",{createAtom:e=>{var t,r;return new Wn(_(w({},e),{type:"mord",isFunction:!1,limits:"adjacent",value:null!=(t=e.args)&&t[0]?null!=(r={a:"",e:"",i:"",o:"",u:"",A:"",E:"",I:"",O:"",U:""}[e.args[0]])?r:'"'+e.args[0]:'"'}))}}),Ws(".","{:string}",{createAtom:e=>{var t,r;return new Wn(_(w({},e),{type:"mord",isFunction:!1,limits:"adjacent",value:null!=(t=e.args)&&t[0]?null!=(r={a:"",e:"",i:"i",o:"",u:"u",A:"",E:"",I:"",O:"",U:"U"}[e.args[0]])?r:"."+e.args[0]:"."}))}}),Ws("=","{:string}",{createAtom:e=>{var t,r;return new Wn(_(w({},e),{type:"mord",isFunction:!1,limits:"adjacent",value:null!=(t=e.args)&&t[0]?null!=(r={a:"",e:"",i:"",o:"",u:"",A:"",E:"",I:"",O:"",U:""}[e.args[0]])?r:"="+e.args[0]:"="}))}}),Ws("~","{:string}",{createAtom:e=>{var t;return new Wn(_(w({type:"mord"},e),{isFunction:!1,limits:"adjacent",value:e.args[0]&&null!=(t={n:"",N:"",a:"",o:"",A:"",O:""}[e.args[0]])?t:""}))}}),Ws("c","{:string}",{createAtom:e=>{var t;return new Wn(_(w({},e),{type:"mord",isFunction:!1,limits:"adjacent",value:e.args[0]&&null!=(t={c:"",C:""}[e.args[0]])?t:""}))}});var bo=class e extends Wn{constructor(e,t,r,i){var a,s;super({type:"enclose",command:e,style:i.style}),this.body=t,this.backgroundcolor=i.backgroundcolor,r.updiagonalarrow&&(r.updiagonalstrike=!1),r.box&&(r.left=!1,r.right=!1,r.bottom=!1,r.top=!1),this.notation=r,this.shadow=null!=(a=i.shadow)?a:"none",this.strokeWidth=null!=(s=i.strokeWidth)?s:"0.06em",this.strokeWidth||(this.strokeWidth="0.06em"),this.strokeStyle=i.strokeStyle,this.svgStrokeStyle=i.svgStrokeStyle,this.strokeColor=i.strokeColor,this.borderStyle=i.borderStyle,this.padding=i.padding,this.captureSelection=!1}static fromJson(t){return new e(t.command,t.body,t.notation,t)}toJson(){return _(w({},super.toJson()),{notation:this.notation,shadow:this.shadow,strokeWidth:this.strokeWidth,strokeStyle:this.strokeStyle,svgStrokeStyle:this.svgStrokeStyle,strokeColor:this.strokeColor,borderStyle:this.borderStyle,padding:this.padding})}_serialize(e){var t;if(!(e.expandMacro||e.skipStyles||e.skipPlaceholders)&&"string"==typeof this.verbatimLatex)return this.verbatimLatex;let r=Zs(this.command,this.mode);if(null!=r&&r.serialize)return r.serialize(this,e);let i=null!=(t=this.command)?t:"";if("\\enclose"===this.command){i+="{"+Object.keys(this.notation).join(" ")+"}";let e="",t="";this.backgroundcolor&&"transparent"!==this.backgroundcolor&&(e+=t+'mathbackground="'+this.backgroundcolor+'"',t=","),this.shadow&&"auto"!==this.shadow&&(e+=t+'shadow="'+this.shadow+'"',t=","),this.strokeWidth||"solid"!==this.strokeStyle?(e+=t+this.borderStyle,t=","):this.strokeColor&&"currentColor"!==this.strokeColor&&(e+=t+'mathcolor="'+this.strokeColor+'"',t=","),e&&(i+=`[${e}]`)}return hn(i,this.bodyToLatex(e))}render(e){let t=new Nn({parent:e},this.style),r=Wn.createBox(t,this.body);if(!r)return null;let i=function(e){if(!e)return"1px";let t=e.match(/([0-9][a-zA-Z\%]+)/);return null===t?"1px":t[1]}(this.borderStyle),a=t.toEm(this.padding&&"auto"!==this.padding?{string:this.padding}:{register:"fboxsep"});r.setStyle("position","relative"),r.setStyle("display","inline-block"),r.setStyle("top",a,"em"),r.setStyle("height",r.height+r.depth,"em"),r.setStyle("width",r.width,"em");let s=new kn(null,{classes:"ML__notation"}),n=r.height+r.depth+2*a,o=r.width+2*a,l="";if(this.notation.horizontalstrike&&(l+=this.line(3,50,97,50)),this.notation.verticalstrike&&(l+=this.line(50,3,50,97)),this.notation.updiagonalstrike&&(l+=this.line(3,97,97,3)),this.notation.downdiagonalstrike&&(l+=this.line(3,3,97,97)),this.notation.updiagonalarrow){l+=this.line(a.toString(),(a+r.depth+r.height).toString(),(a+r.width).toString(),a.toString());let e=.03*Math.sqrt(o*o+n*n)*1,t=r.width*e,i=(r.depth+r.height)*e,s=a+r.width,c=a;c+i-.4*t<0&&(c=.4*t-i),l+='<polygon points="',l+=`${s},${c} ${s-t-.4*i},${c+i-.4*t} `,l+=`${s-.7*t},${c+.7*i} ${s-t+.4*i},${c+i+.4*t} `,l+=`${s},${c}`,l+=`" stroke='none' fill="${this.strokeColor}"`,l+="/>"}let c=0;if(this.notation.phasorangle){let e=wo(t),i=(r.height+r.depth+2*e+a).toString(),s=(r.height+r.depth)/2;l+=this.line(a.toString(),i,(a+s+r.width).toString(),i),l+=this.line(a.toString(),i,(a+s).toString(),(a-e).toString()),n+=e,c=s,r.left+=n/2-a}if(this.notation.longdiv){let e=wo(t);n+=e,l+=this.line(a.toString(),a.toString(),(a+r.width).toString(),a.toString());let i=.3;c=i+e,r.left+=i+e,r.setTop(a+e),l+='<path d="',l+=`M ${a} ${a}  a${i} ${(r.depth+r.height+2*e)/2}, 0, 1, 1, 0 ${r.depth+r.height+2*e} "`,l+=` stroke-width="${u=t,(Math.floor(100*u.metrics.sqrtRuleThickness/u.scalingFactor)/100/10).toString()+"em"}" stroke="${this.strokeColor}" fill="none"`,l+="/>"}var u;if(s.width=r.width+2*a+c,s.height=r.height+a,s.depth=r.depth+a,s.setStyle("box-sizing","border-box"),s.setStyle("left",`calc(-${i} / 2 )`),s.setStyle("height",Math.floor(100*n)/100+"em"),s.setStyle("top",`calc(${i} / 2 )`),this.backgroundcolor&&s.setStyle("background-color",this.backgroundcolor),this.notation.box&&s.setStyle("border","1px solid red"),this.notation.actuarial&&(s.setStyle("border-top",this.borderStyle),s.setStyle("border-right",this.borderStyle)),this.notation.madruwb&&(s.setStyle("border-bottom",this.borderStyle),s.setStyle("border-right",this.borderStyle)),this.notation.roundedbox&&(s.setStyle("border-radius","8px"),s.setStyle("border",this.borderStyle)),this.notation.circle&&(s.setStyle("border-radius","50%"),s.setStyle("border",this.borderStyle)),this.notation.top&&s.setStyle("border-top",this.borderStyle),this.notation.left&&s.setStyle("border-left",this.borderStyle),this.notation.right&&s.setStyle("border-right",this.borderStyle),this.notation.bottom&&s.setStyle("border-bottom",this.borderStyle),l){let e="";"auto"===this.shadow&&(e+="filter: drop-shadow(0 0 .5px rgba(255, 255, 255, .7)) drop-shadow(1px 1px 2px #333)"),"none"!==this.shadow&&(e+=`filter: drop-shadow(${this.shadow})`),e+=` stroke-width="${this.strokeWidth}" stroke="${this.strokeColor}"`,e+=' stroke-linecap="round"',this.svgStrokeStyle&&(e+=` stroke-dasharray="${this.svgStrokeStyle}"`),s.svgStyle=e,s.svgOverlay=l}let h=new kn([s,r]);return h.setStyle("position","relative"),h.setStyle("vertical-align",a,"em"),h.setStyle("height",Math.floor(100*(r.height+r.depth+2*a))/100+"em"),h.setStyle("display","inline-block"),h.height=s.height,h.depth=s.depth,h.width=s.width-2*a,h.left=a,h.right=a,this.caret&&(h.caret=this.caret),h.wrap(t)}line(e,t,r,i){return`<line x1="${vo(e)}"  y1="${vo(t)}" x2="${vo(r)}" y2="${vo(i)}" vector-effect="non-scaling-stroke"></line>`}};function vo(e){return"number"==typeof e?Math.floor(100*e)/100+"%":e}function wo(e){let t=e.isDisplayStyle?rs:e.metrics.defaultRuleThickness;return e.metrics.defaultRuleThickness+e.scalingFactor*t/4}Ws("enclose","{notation:string}[style:string]{body:auto}",{createAtom:e=>{var t,r;let i=e.args,a={strokeColor:"currentColor",strokeWidth:"",strokeStyle:"solid",backgroundcolor:"transparent",padding:"auto",shadow:"none",svgStrokeStyle:void 0,borderStyle:void 0,style:null!=(t=e.style)?t:{}};if(i[1]){let e=i[1].split(/,(?![^(]*\)(?:(?:[^(]*\)){2})*[^"]*$)/);for(let t of e){let e=t.match(/\s*(\S+)\s+(\S+)\s+(.*)/);if(e)a.strokeWidth=e[1],a.strokeStyle=e[2],a.strokeColor=e[3];else{let e=t.match(/\s*([a-z]*)\s*=\s*"(.*)"/);e&&("mathbackground"===e[1]?a.backgroundcolor=e[2]:"mathcolor"===e[1]?a.strokeColor=e[2]:"padding"===e[1]?a.padding=e[2]:"shadow"===e[1]&&(a.shadow=e[2]))}}"dashed"===a.strokeStyle?a.svgStrokeStyle="5,5":"dotted"===a.strokeStyle&&(a.svgStrokeStyle="1,5")}a.borderStyle=`${a.strokeWidth} ${a.strokeStyle} ${a.strokeColor}`;let s={};return(null!=(r=i[0])?r:"").split(/[, ]/).filter((e=>e.length>0)).forEach((e=>{s[e.toLowerCase()]=!0})),new bo(e.command,Es(i[2]),s,a)}}),Ws("cancel","{body:auto}",{createAtom:e=>{var t;return new bo(e.command,Es(e.args[0]),{updiagonalstrike:!0},{strokeColor:"currentColor",strokeWidth:"",strokeStyle:"solid",borderStyle:"1px solid currentColor",backgroundcolor:"transparent",padding:"auto",shadow:"none",style:null!=(t=e.style)?t:{}})}}),Ws("bcancel","{body:auto}",{createAtom:e=>{var t;return new bo(e.command,Es(e.args[0]),{downdiagonalstrike:!0},{strokeColor:"currentColor",strokeWidth:"",strokeStyle:"solid",borderStyle:"1px solid currentColor",backgroundcolor:"transparent",padding:"auto",shadow:"none",style:null!=(t=e.style)?t:{}})}}),Ws("xcancel","{body:auto}",{createAtom:e=>{var t;return new bo(e.command,Es(e.args[0]),{updiagonalstrike:!0,downdiagonalstrike:!0},{strokeColor:"currentColor",strokeWidth:"",strokeStyle:"solid",borderStyle:"1px solid currentColor",backgroundcolor:"transparent",padding:"auto",shadow:"none",style:null!=(t=e.style)?t:{}})}});var _o=class e extends Wn{constructor(e){var t;super({type:"placeholder",command:"\\placeholder",mode:null!=(t=e?.mode)?t:"math",style:e?.style}),this.captureSelection=!0}static fromJson(t){return new e(t)}toJson(){return super.toJson()}render(e){let t;return this.value=e.placeholderSymbol,t="function"==typeof e.renderPlaceholder?e.renderPlaceholder(e):this.createBox(e),this.caret&&(t.classes+=" ML__placeholder-selected"),t}_serialize(e){return e.skipPlaceholders?"":"\\placeholder{}"}},So=["matrix","matrix*","pmatrix","pmatrix*","bmatrix","bmatrix*","Bmatrix","Bmatrix*","vmatrix","vmatrix*","Vmatrix","Vmatrix*"];var xo=class e extends Wn{constructor(e,t,r,i={}){var a;super({type:"array"}),this.environmentName=e,this.rowGaps=r,i.mathstyleName&&(this.mathstyleName=i.mathstyleName),i.columns&&(0===i.columns.length?this.colFormat=[{align:"l"}]:this.colFormat=i.columns),this.colFormat||(this.colFormat=[{align:"l"},{align:"l"},{align:"l"},{align:"l"},{align:"l"},{align:"l"},{align:"l"},{align:"l"},{align:"l"},{align:"l"}]),this.array=function(e,t,r){let i=0;for(let e of r)"align"in e&&(i+=1);let a=0,s=[];for(let r of t){let t=0;for(a=Math.max(a,Math.min(r.length,i));t<r.length;){let a=[],n=Math.min(r.length,t+i);for(;t<n;){let i=r[t];0===i.length?a.push([new Wn({type:"first",mode:e.mode})]):"first"!==i[0].type?a.push([new Wn({type:"first",mode:e.mode}),...i]):(i.slice(1).some((e=>"first"===e.type)),a.push(i)),t+=1}s.push(a)}}s.length>0&&1===s[s.length-1].length&&1===s[s.length-1][0].length&&"first"===s[s.length-1][0][0].type&&s.pop();let n=[];for(let t of s){if(t.length!==a)for(let r=t.length;r<a;r++)t.push([new Wn({type:"first",mode:e.mode}),new _o]);n.push(t)}let o=0,l=0;for(let t of n){l=0;for(let r of t){for(let t of r)t.parent=e,t.parentBranch=[o,l];l+=1}o+=1}return e.isDirty=!0,n}(this,t,this.colFormat),i.leftDelim&&(this.leftDelim=i.leftDelim),i.rightDelim&&(this.rightDelim=i.rightDelim),void 0!==i.arraycolsep&&(this.arraycolsep=i.arraycolsep),this.colSeparationType=i.colSeparationType,void 0!==i.arraystretch&&(this.arraystretch=i.arraystretch),this.minColumns=null!=(a=i.minColumns)?a:1}static fromJson(t){return new e(t.environmentName,t.array,t.rowGaps,t)}toJson(){let e=_(w({},super.toJson()),{environmentName:this.environmentName,array:this.array.map((e=>e.map((e=>e.map((e=>e.toJson())))))),rowGaps:this.rowGaps,columns:this.colFormat,colSeparationType:this.colSeparationType});return void 0!==this.arraystretch&&(e.arraystretch=this.arraystretch),void 0!==this.arraycolsep&&(e.arraycolsep=this.arraycolsep),this.leftDelim&&(e.leftDelim=this.leftDelim),this.rightDelim&&(e.rightDelim=this.rightDelim),e}branch(e){var t;if(jn(e))return null!=(t=this.array[e[0]][e[1]])?t:void 0}createBranch(e){var t;return jn(e)?(this.isDirty=!0,null!=(t=this.branch(e))?t:[]):[]}get rowCount(){return this.array.length}get colCount(){return this.array[0].length}get maxColumns(){return this.colFormat.filter((e=>!!e.align)).length}removeBranch(e){if(Yn(e))return super.removeBranch(e);let[t,...r]=this.branch(e);return t.type,this.array[e[0]][e[1]]=void 0,r.forEach((e=>{e.parent=void 0,e.parentBranch=void 0})),this.isDirty=!0,r}get hasChildren(){return this.children.length>0}get children(){let e=[];for(let t of this.array)for(let r of t)if(r)for(let t of r)e.push(...t.children),e.push(t);return[...e,...super.children]}render(e){var t,r,i,a,s,n;let o=new Nn({parent:e,mathstyle:this.mathstyleName},this.style),l=o.getRegisterAsEm("arrayrulewidth"),c=o.getRegisterAsEm("arraycolsep"),u=o.getRegisterAsEm("doublerulesep"),h=null!=(r=null!=(t=this.arraystretch)?t:o.getRegisterAsNumber("arraystretch"))?r:1,d="number"==typeof this.arraycolsep?this.arraycolsep:c;"small"===this.colSeparationType&&(d=new Nn({parent:e,mathstyle:"scriptstyle"}).scalingFactor/e.scalingFactor*.2778);let m=1.2*h,p=.7*m,g=.3*m,f=0,y=[],b=0,v=this.array.length;for(let e=0;e<v;++e){let t=this.array[e];b=Math.max(b,t.length);let r=new Nn({parent:o,mathstyle:this.mathstyleName},this.style),s=p/r.scalingFactor,n=g/r.scalingFactor,l={cells:[],height:0,depth:0,pos:0};for(let e of t){let t=null!=(i=Wn.createBox(r,e,{type:"ignore"}))?i:new kn(null,{type:"ignore"});n=Math.max(n,t.depth),s=Math.max(s,t.height),l.cells.push(t)}let c=null!=(a=zn(this.rowGaps[e]))?a:0;c>0&&(c+=g,n=Math.max(n,c),c=0),e<v-1&&(w=this.environmentName,!So.includes(w))&&"cases"!==this.environmentName&&"array"!==this.environmentName&&(n+=o.getRegisterAsEm("jot")),l.height=s,l.depth=n,f+=s,l.pos=f,f+=n+c,y.push(l)}var w;let _=f/2+ts,S=[];for(let e=0;e<b;e++){let t=[];for(let r of y){let i=r.cells[e];i.depth=r.depth,i.height=r.height,t.push({box:i,shift:r.pos-_})}t.length>0&&S.push(new Dn({individualShift:t}))}let x=[],M=!1,k=!1,L=0,A=!this.leftDelim,{colFormat:C}=this;for(let t of C){if("align"in t&&L>=S.length)break;if("align"in t)M?x.push(ko(2*d)):(k||A)&&x.push(ko(d)),x.push(new kn(S[L],{classes:"col-align-"+t.align})),L++,M=!0,k=!1,A=!1;else if("gap"in t){if("number"==typeof t.gap)x.push(ko(t.gap));else{let r=Lo(e,y,_,t.gap);r&&x.push(r)}M=!1,k=!1,A=!1}else if("separator"in t){let e=new kn(null,{classes:"ML__vertical-separator"});e.height=f,e.setStyle("height",f,"em"),e.setStyle("border-right",`${l}em ${t.separator} currentColor`),e.setStyle("vertical-align",-(f-_),"em");let r=0;k?r=u-l:M&&(r=d-l),e.left=r,x.push(e),M=!1,k=!0,A=!1}}M&&!this.rightDelim&&x.push(ko(d));let T=new kn(x,{classes:"ML__mtable"});if(!(this.leftDelim&&"."!==this.leftDelim||this.rightDelim&&"."!==this.rightDelim))return this.caret&&(T.caret=this.caret),this.bind(e,T);let D=T.height,E=T.depth,F=this.bind(e,new kn([this.bind(e,po("open",null!=(s=this.leftDelim)?s:".",D,E,o,{isSelected:this.isSelected})),T,this.bind(e,po("close",null!=(n=this.rightDelim)?n:".",D,E,o,{isSelected:this.isSelected}))],{type:"ord"}));return F?(F.setStyle("display","inline-block"),this.caret&&(F.caret=this.caret),this.bind(e,this.attachSupsub(e,{base:F}))):null}_serialize(e){var t;let r=[];if("lines"===this.environmentName?r.push("{\\displaylines"):r.push(`\\begin{${this.environmentName}}`),"array"===this.environmentName){if(r.push("{"),void 0!==this.colFormat)for(let e of this.colFormat)"align"in e&&"string"==typeof e.align?r.push(e.align):"separator"in e&&"solid"===e.separator?r.push("|"):"separator"in e&&"dashed"===e.separator&&r.push(":");r.push("}")}for(let i=0;i<this.array.length;i++){for(let t=0;t<this.array[i].length;t++)t>0&&r.push(" & "),r.push(Wn.serialize(this.array[i][t],e));if(i<this.array.length-1){let e=this.rowGaps[i];null!=e&&e.dimension?r.push(`\\\\[${e.dimension} ${null!=(t=e.unit)?t:"pt"}] `):r.push("\\\\ ")}}return"lines"===this.environmentName?r.push("}"):r.push(`\\end{${this.environmentName}}`),un(r)}forEachCell(e){for(let t=0;t<this.rowCount;t++)for(let r=0;r<this.colCount;r++)e(this.array[t][r],t,r)}getCell(e,t){return this.array[e][t]}setCell(e,t,r){"array"===this.type&&Array.isArray(this.array)&&this.array[e][t];for(let r of this.array[e][t])r.parent=void 0,r.parentBranch=void 0;let i=r;(0===r.length||"first"!==r[0].type)&&(i=[new Wn({type:"first",mode:this.mode}),...r]),this.array[e][t]=i;for(let r of i)r.parent=this,r.parentBranch=[e,t];this.isDirty=!0}addRowBefore(e){"array"===this.type&&Array.isArray(this.array);let t=[];for(let e=0;e<this.colCount;e++)t.push(Mo(this));this.array.splice(e,0,t);for(let t=e;t<this.rowCount;t++)for(let e=0;e<this.colCount;e++){let r=this.array[t][e];if(r)for(let i of r)i.parentBranch=[t,e]}this.isDirty=!0}addRowAfter(e){"array"===this.type&&Array.isArray(this.array);let t=[];for(let e=0;e<this.colCount;e++)t.push(Mo(this));this.array.splice(e+1,0,t);for(let t=e+1;t<this.rowCount;t++)for(let e=0;e<this.colCount;e++){let r=this.array[t][e];if(r)for(let i of r)i.parentBranch=[t,e]}this.isDirty=!0}removeRow(e){"array"===this.type&&Array.isArray(this.array)&&this.rowCount;let t=this.array.splice(e,1);for(let e of t)for(let t of e)if(t)for(let e of t)e.parent=void 0,e.parentBranch=void 0;for(let t=e;t<this.rowCount;t++)for(let e=0;e<this.colCount;e++){let r=this.array[t][e];if(r)for(let i of r)i.parentBranch=[t,e]}this.isDirty=!0}addColumnBefore(e){"array"===this.type&&Array.isArray(this.array);for(let t of this.array)t.splice(e,0,Mo(this));for(let t=0;t<this.rowCount;t++)for(let r=e;r<this.colCount;r++){let e=this.array[t][r];if(e)for(let i of e)i.parentBranch=[t,r]}this.isDirty=!0}addColumnAfter(e){"array"===this.type&&Array.isArray(this.array);for(let t of this.array)t.splice(e+1,0,Mo(this));for(let t=0;t<this.rowCount;t++)for(let r=e+1;r<this.colCount;r++){let e=this.array[t][r];if(e)for(let i of e)i.parentBranch=[t,r]}this.isDirty=!0}addColumn(){this.addColumnAfter(this.colCount-1)}removeColumn(e){"array"===this.type&&Array.isArray(this.array)&&this.colCount;for(let t of this.array){let r=t.splice(e,1);for(let e of r)if(e)for(let t of e)t.parent=void 0,t.parentBranch=void 0}for(let t=0;t<this.rowCount;t++)for(let r=e;r<this.colCount;r++){let e=this.array[t][r];if(e)for(let i of e)i.parentBranch=[t,r]}this.isDirty=!0}get cells(){let e=[];for(let t of this.array)for(let r of t)r&&e.push(r.filter((e=>"first"!==e.type)));return e}};function Mo(e){let t=new Wn({type:"first",mode:e.mode});t.parent=e;let r=new _o;return r.parent=e,[t,r]}function ko(e){let t=new kn(null,{classes:"ML__arraycolsep"});return t.width=e,t}function Lo(e,t,r,i){if(!i)return null;let a=[];for(let s of t){let t=Wn.createBox(e,i,{type:"ignore"});t&&(t.depth=s.depth,t.height=s.height,a.push({box:t,shift:s.pos-r}))}return new Dn({individualShift:a}).wrap(e)}function Ao(e,t=1){return function(e){for(let t of e)for(let e of t)if(e.length>0)return!1;return!0}(e)?Array(t).fill([[new Wn({type:"first"}),new _o]]):e.map((e=>0===e.length?[[new Wn({type:"first"})]]:e.map((e=>0===e.length?[new Wn({type:"first"})]:"first"===e[0].type?e:[new Wn({type:"first"}),...e]))))}function Co(e,t=[[[]]],r=[],i=[],a){switch(t=Ao(t,["split","align","align*","aligned","eqnarray"].includes(e)?2:1),e){case"math":case"displaymath":return new xo(e,t,r,{mathstyleName:"textstyle"});case"center":return new xo(e,t,r,{columns:[{align:"c"}]});case"multline":case"multline*":return new xo(e,t,r,{columns:[{align:"m"}],leftDelim:".",rightDelim:"."});case"split":return new xo(e,t,r,{columns:[{align:"r"},{align:"l"}],minColumns:2});case"gather":case"gathered":return new xo(e,t,r,{columns:[{gap:.25},{align:"c"},{gap:0}]});case"pmatrix":case"pmatrix*":return new xo(e,t,r,{mathstyleName:"textstyle",leftDelim:"(",rightDelim:")",columns:To(i[0],a)});case"bmatrix":case"bmatrix*":return new xo(e,t,r,{mathstyleName:"textstyle",leftDelim:"[",rightDelim:"]",columns:To(i[0],a)});case"Bmatrix":case"Bmatrix*":return new xo(e,t,r,{mathstyleName:"textstyle",leftDelim:"\\lbrace",rightDelim:"\\rbrace",columns:To(i[0],a)});case"vmatrix":case"vmatrix*":return new xo(e,t,r,{mathstyleName:"textstyle",leftDelim:"\\vert",rightDelim:"\\vert",columns:To(i[0],a)});case"Vmatrix":case"Vmatrix*":return new xo(e,t,r,{mathstyleName:"textstyle",leftDelim:"\\Vert",rightDelim:"\\Vert",columns:To(i[0],a)});case"matrix":case"matrix*":return new xo(e,t,r,{mathstyleName:"textstyle",leftDelim:".",rightDelim:".",columns:To(i?.[0],a)});case"smallmatrix":case"smallmatrix*":return new xo(e,t,r,{mathstyleName:"scriptstyle",columns:To(i?.[0],a),colSeparationType:"small",arraystretch:.5});case"cases":case"dcases":return new xo(e,t,r,{mathstyleName:"dcases"===e?"displaystyle":"textstyle",arraystretch:1.2,leftDelim:"\\lbrace",rightDelim:".",columns:[{align:"l"},{gap:1},{align:"l"}]});case"rcases":return new xo(e,t,r,{arraystretch:1.2,leftDelim:".",rightDelim:"\\rbrace",columns:[{align:"l"},{gap:1},{align:"l"}]});case"lines":return new xo(e,t,r,{leftDelim:".",rightDelim:".",columns:[{align:"l"}]});case"align":case"align*":case"aligned":case"eqnarray":{let i=0;for(let e of t)i=Math.max(i,e.length);let a=[{gap:0},{align:"r"},{gap:.25},{align:"l"}],s=2;for(;s<i;)a.push({gap:1},{align:"r"},{gap:.25},{align:"l"}),s+=2;return a.push({gap:0}),new xo(e,t,r,{arraycolsep:0,columns:a,minColumns:2})}}return new xo(e,t,r,{mathstyleName:"textstyle"})}function To(e,t=10){return e??Array(t).fill({align:"c"})}Ys(["math","displaymath"],Co),Ys("center",Co),Ws("displaylines","",{parse:e=>{let t=[],r=[];for(e.beginContext({tabular:!0});;){if(e.end()||e.match("<}>"))break;e.matchColumnSeparator()||e.matchRowSeparator()?(t.push([r]),r=[]):r.push(...e.scan((e=>["<}>","&","\\cr","\\\\","\\tabularnewline"].includes(e))))}return e.endContext(),t.push([r]),t},createAtom:e=>new xo("lines",e.args,[],{leftDelim:".",rightDelim:".",columns:[{align:"l"}]})}),js("array","{columns:colspec}",((e,t,r,i)=>new xo(e,Ao(t),r,{columns:i[0],mathstyleName:"textstyle"}))),js(["equation","equation*","subequations"],"",((e,t,r)=>new xo(e,Ao(t),r,{columns:[{align:"c"}]}))),js(["multline","multline*"],"",Co),js(["align","align*","aligned","eqnarray"],"",Co),js("split","",Co),js(["gather","gather*","gathered"],"",Co),js(["matrix","pmatrix","bmatrix","Bmatrix","vmatrix","Vmatrix","matrix*","pmatrix*","bmatrix*","Bmatrix*","vmatrix*","Vmatrix*"],"[columns:colspec]",Co),js(["smallmatrix","smallmatrix*"],"[columns:colspec]",Co),js(["cases","dcases","rcases"],"",Co),Ws(["overrightarrow","overleftarrow","Overrightarrow","overleftharpoon","overrightharpoon","overleftrightarrow","overlinesegment","overgroup"],"{:auto}",{createAtom:e=>{var t;return new fo(_(w({},e),{body:Es(null==(t=e.args)?void 0:t[0]),skipBoundary:!1,supsubPlacement:"over-under",paddedBody:!0,boxType:"rel",svgAbove:e.command.slice(1)}))}}),Ws("overbrace","{:auto}",{createAtom:e=>new fo(_(w({},e),{body:Es(e.args[0]),skipBoundary:!1,supsubPlacement:"over-under",paddedBody:!0,boxType:"ord",svgAbove:e.command.slice(1)}))}),Ws(["underrightarrow","underleftarrow","underleftrightarrow","underlinesegment","undergroup"],"{:auto}",{createAtom:e=>new fo(_(w({},e),{body:Es(e.args[0]),skipBoundary:!1,supsubPlacement:"over-under",paddedBody:!0,boxType:"rel",svgBelow:e.command.slice(1)}))}),Ws(["underbrace"],"{:auto}",{createAtom:e=>new fo(_(w({},e),{body:Es(e.args[0]),skipBoundary:!1,supsubPlacement:"over-under",paddedBody:!0,boxType:"ord",svgBelow:e.command.slice(1)}))}),Ws(["xrightarrow","longrightarrow","xleftarrow","longleftarrow","xRightarrow","xLeftarrow","xleftharpoonup","xleftharpoondown","xrightharpoonup","xrightharpoondown","xlongequal","xtwoheadleftarrow","xtwoheadrightarrow","xleftrightarrow","longleftrightarrow","xLeftrightarrow","xrightleftharpoons","longrightleftharpoons","xleftrightharpoons","xhookleftarrow","xhookrightarrow","xmapsto","xtofrom","xleftrightarrows","longleftrightarrows","xRightleftharpoons","longRightleftharpoons","xLeftrightharpoons","longLeftrightharpoons"],"[:auto]{:auto}",{createAtom:e=>{var t,r,i,a,s;return new fo(_(w({},e),{svgBody:e.command.slice(1),above:0===(null==(r=Es(null==(t=e.args)?void 0:t[1]))?void 0:r.length)?void 0:Es(null==(i=e.args)?void 0:i[1]),below:null!=(s=Es(null==(a=e.args)?void 0:a[0]))?s:null,skipBoundary:!1,supsubPlacement:"over-under",paddedBody:!0,paddedLabels:!0,boxType:"rel"}))},serialize:(e,t)=>e.command+(e.hasEmptyBranch("below")?"":`[${e.belowToLatex(t)}]`)+`{${e.aboveToLatex(t)}}${e.supsubToLatex(t)}`});var Do=class e extends Wn{constructor(e,t){super(_(w({},t),{type:"extensible-symbol",isFunction:t?.isFunction})),this.value=e,this.variant=t?.variant,this.subsupPlacement=t?.limits}static fromJson(t){return new e(t.symbol,t)}toJson(){let e=super.toJson();return this.variant&&(e.variant=this.variant),this.subsupPlacement&&(e.limits=this.subsupPlacement),this.value&&(e.symbol=this.value),e}render(e){var t;let r=e.isDisplayStyle&&"\\smallint"!==this.value,i=new kn(this.value,{fontFamily:r?"Size2-Regular":"Size1-Regular",classes:"ML__op-symbol "+(r?"ML__large-op":"ML__small-op"),type:"op",maxFontSize:e.scalingFactor,isSelected:this.isSelected});if(!i)return null;i.right=i.italic;let a=(i.height-i.depth)/2-ts*e.scalingFactor,s=i.italic;i.setTop(a);let n=i;if(this.superscript||this.subscript){let r=null!=(t=this.subsupPlacement)?t:"auto";"auto"===r&&e.isDisplayStyle&&(r="over-under"),n="over-under"===r?this.attachLimits(e,{base:i,baseShift:a,slant:s}):this.attachSupsub(e,{base:i})}return new kn(this.bind(e,n),{type:"op",caret:this.caret,isSelected:this.isSelected,classes:"ML__op-group"}).wrap(e)}_serialize(e){if(!(e.expandMacro||e.skipStyles||e.skipPlaceholders)&&"string"==typeof this.verbatimLatex)return this.verbatimLatex;let t=Zs(this.command,this.mode);if(null!=t&&t.serialize)return t.serialize(this,e);let r=[];return r.push(this.command),this.explicitSubsupPlacement&&("over-under"===this.subsupPlacement&&r.push("\\limits"),"adjacent"===this.subsupPlacement&&r.push("\\nolimits"),"auto"===this.subsupPlacement&&r.push("\\displaylimits")),r.push(this.supsubToLatex(e)),un(r)}},Eo=class e extends Wn{constructor(e){var t;super(_(w({},e),{type:"surd",mode:null!=(t=e.mode)?t:"math",style:e.style,displayContainsHighlight:!0,body:e.body})),this.above=e.index}static fromJson(t){return new e(_(w({},t),{index:t.above}))}_serialize(e){if(!(e.expandMacro||e.skipStyles||e.skipPlaceholders)&&"string"==typeof this.verbatimLatex)return this.verbatimLatex;let t=Zs(this.command,this.mode);if(null!=t&&t.serialize)return t.serialize(this,e);let r=this.command,i=this.bodyToLatex(e);return this.above&&!this.hasEmptyBranch("above")?hn(`${r}[${this.aboveToLatex(e)}]`,i):/^[0-9]$/.test(i)?`${r}${i}`:hn(r,i)}get children(){if(this._children)return this._children;let e=[];if(this.above)for(let t of this.above)e.push(...t.children),e.push(t);if(this.body)for(let t of this.body)e.push(...t.children),e.push(t);return this._children=e,e}render(e){var t;let r=new Nn({parent:e,mathstyle:"cramp"},this.style),i=null!=(t=Wn.createBox(r,this.body,{type:"inner"}))?t:new kn(null),a=r.scalingFactor,s=r.metrics.defaultRuleThickness/a,n=e.isDisplayStyle?rs:s,o=new kn(null,{classes:"ML__sqrt-line",style:this.style});o.height=s,o.softWidth=i.width;let l=a*(s+n/4),c=Math.max(2*a*n,i.height+i.depth)+l+s,u=new Nn({parent:e},this.style),h=this.bind(u,new kn(mo("inner","\\surd",c,!1,u,{isSelected:this.isSelected}),{isSelected:this.isSelected,classes:"ML__sqrt-sign",style:this.style}));if(!h)return null;let d=h.height+h.depth-s;d>i.height+i.depth+l&&(l=(l+d-(i.height+i.depth))/2),h.setTop(h.height-i.height-l);let m=this.bind(e,new Dn({firstBaseline:[{box:new kn(i)},l-2*s,{box:o},s]})),p=Wn.createBox(new Nn({parent:e,mathstyle:"scriptscriptstyle"}),this.above,{type:"ignore"});if(!p){let t=new kn([h,m],{classes:this.containsCaret?"ML__contains-caret":"",type:"inner"});return t.setStyle("display","inline-block"),t.setStyle("height",t.height+t.depth,"em"),this.caret&&(t.caret=this.caret),this.bind(e,t)}let g=new Dn({shift:-.6*(Math.max(h.height,m.height)-Math.max(h.depth,m.depth)),children:[{box:p}]}),f=new kn([new kn(g,{classes:"ML__sqrt-index",type:"ignore"}),h,m],{type:"inner",classes:this.containsCaret?"ML__contains-caret":""});return f.height=h.height,f.depth=h.depth,this.caret&&(f.caret=this.caret),this.bind(e,f)}},Fo=class e extends Wn{constructor(e,t,r){var i,a,s;super(_(w({},r),{type:"genfrac",displayContainsHighlight:!0})),this.above=e,this.below=t,this.hasBarLine=null==(i=r?.hasBarLine)||i,this.continuousFraction=null!=(a=r?.continuousFraction)&&a,this.align=null!=(s=r?.align)?s:"center",this.numerPrefix=r?.numerPrefix,this.denomPrefix=r?.denomPrefix,this.mathstyleName=r?.mathstyleName,this.leftDelim=r?.leftDelim,this.rightDelim=r?.rightDelim,this.fractionNavigationOrder=r?.fractionNavigationOrder}static fromJson(t){return new e(t.above,t.below,t)}toJson(){let e={};return this.continuousFraction&&(e.continuousFraction=!0),"center"!==this.align&&(e.align=this.align),this.numerPrefix&&(e.numerPrefix=this.numerPrefix),this.denomPrefix&&(e.denomPrefix=this.denomPrefix),this.leftDelim&&(e.leftDelim=this.leftDelim),this.rightDelim&&(e.rightDelim=this.rightDelim),this.hasBarLine||(e.hasBarLine=!1),this.mathstyleName&&(e.mathstyleName=this.mathstyleName),this.fractionNavigationOrder&&(e.fractionNavigationOrder=this.fractionNavigationOrder),w(w({},super.toJson()),e)}get children(){if(this._children)return this._children;let e=[];if("denominator-numerator"===this.fractionNavigationOrder){for(let t of this.below)e.push(...t.children),e.push(t);for(let t of this.above)e.push(...t.children),e.push(t)}else{for(let t of this.above)e.push(...t.children),e.push(t);for(let t of this.below)e.push(...t.children),e.push(t)}return this._children=e,e}render(e){var t,r;let i,a,s=new Nn({parent:e,mathstyle:this.mathstyleName},this.style),n=s.metrics,o=new Nn({parent:s,mathstyle:this.continuousFraction?"":"numerator"},this.style),l=this.numerPrefix?new kn([new kn(this.numerPrefix),Wn.createBox(o,this.above)],{isTight:o.isTight,type:"ignore"}):null!=(t=Wn.createBox(o,this.above,{type:"ignore"}))?t:new kn(null,{type:"ignore"}),c=new Nn({parent:s,mathstyle:this.continuousFraction?"":"denominator"},this.style),u=this.denomPrefix?new kn([new kn(this.denomPrefix),Wn.createBox(c,this.below,{type:"ignore"})]):null!=(r=Wn.createBox(c,this.below,{type:"ignore"}))?r:new kn(null,{type:"ignore"}),h=this.hasBarLine?n.defaultRuleThickness:0,d=0;s.isDisplayStyle?(i=o.metrics.num1,d=h>0?3*h:7*h,a=c.metrics.denom1):(h>0?(i=o.metrics.num2,d=h):(i=o.metrics.num3,d=3*n.defaultRuleThickness),a=c.metrics.denom2);let m=[];this.isSelected&&m.push("ML__selected");let p,g=l.depth,f=u.height;if(h<=0){let e=i-g-(f-a);e<d&&(i+=(d-e)/2,a+=(d-e)/2),p=new Dn({individualShift:[{box:l,shift:-i,classes:[...m,Io(this.align)]},{box:u,shift:a,classes:[...m,Io(this.align)]}]}).wrap(s)}else{let e=new kn(null,{classes:"ML__frac-line",mode:this.mode,style:this.style});e.softWidth=Math.max(l.width,u.width),e.height=h/2,e.depth=h/2;let t=ts+h/2;i<d+g+t&&(i=d+g+t);let r=ts-h/2;a<d+f-r&&(a=d+f-r),p=new Dn({individualShift:[{box:u,shift:a,classes:[...m,Io(this.align)]},{box:e,shift:-r,classes:m},{box:l,shift:-i,classes:[...m,Io(this.align)]}]}).wrap(s)}let y=s.isDisplayStyle?n.delim1:n.delim2,b=this.leftDelim?this.bind(e,mo("open",this.leftDelim,y,!0,e,{style:this.style,mode:this.mode,isSelected:this.isSelected})):go(s,"ML__open"),v=null;v=this.continuousFraction?new kn(null,{type:"close"}):this.rightDelim?this.bind(e,mo("close",this.rightDelim,y,!0,e,{style:this.style,mode:this.mode,isSelected:this.isSelected})):go(s,"ML__close");let w=new kn([b,p,v],{isTight:s.isTight,type:"inner",classes:"ML__mfrac"}),_=this.bind(e,w);return this.caret&&(_.caret=this.caret),this.attachSupsub(e,{base:_})}};function Io(e){var t;return null!=(t={left:"ML__left",right:"ML__right",center:"ML__center"}[e])?t:"ML__center"}var Po=class e extends Wn{constructor(e){super(_(w({},e),{type:"delim"})),this.value=e.delim,this.size=e.size}static fromJson(t){return new e(t)}toJson(){return _(w({},super.toJson()),{delim:this.value,size:this.size})}render(e){return new kn(this.value,{type:"middle"})}_serialize(e){if(!(e.expandMacro||e.skipStyles||e.skipPlaceholders)&&"string"==typeof this.verbatimLatex)return this.verbatimLatex;let t=Zs(this.command,this.mode);return null!=t&&t.serialize?t.serialize(this,e):hn(this.command,this.value)}},zo=class e extends Wn{constructor(e){super(_(w({},e),{type:"sizeddelim",value:e.delim})),this.delimType=e.delimType,this.size=e.size}static fromJson(t){return new e(t)}toJson(){return _(w({},super.toJson()),{delim:this.value,size:this.size,delimType:this.delimType})}render(e){let t=function(e,t,r,i){return void 0===e||"."===e?go(r,i.classes):("<"===e||"\\lt"===e||""===e?e="\\langle":(">"===e||"\\gt"===e||""===e)&&(e="\\rangle"),ao.has(e)||no.has(e)?ro(e,t,!1,r,i):so.has(e)?io(e,oo[t],!1,r,i):null)}(this.value,this.size,e,{classes:{open:"ML__open",close:"ML__close"}[this.delimType],type:this.delimType,isSelected:this.isSelected});return t?(t=this.bind(e,t),this.caret&&(t.caret=this.caret),t):null}_serialize(e){if(!(e.expandMacro||e.skipStyles||e.skipPlaceholders)&&"string"==typeof this.verbatimLatex)return this.verbatimLatex;let t=Zs(this.command,this.mode);return null!=t&&t.serialize?t.serialize(this,e):hn(this.command,this.value)}},Bo=class e extends Wn{constructor(e,t){super(_(w({},t),{type:"operator",isFunction:t?.isFunction})),this.value=e,this.variant=t?.variant,this.variantStyle=t?.variantStyle,this.subsupPlacement=t?.limits}static fromJson(t){return new e(t.symbol,t)}toJson(){let e=super.toJson();return this.variant&&(e.variant=this.variant),this.variantStyle&&(e.variantStyle=this.variantStyle),this.subsupPlacement&&(e.limits=this.subsupPlacement),this.value&&(e.symbol=this.value),e}render(e){var t;let r=new kn(this.value,{type:"op",mode:"math",maxFontSize:e.scalingFactor,style:{variant:this.variant,variantStyle:this.variantStyle},isSelected:this.isSelected,letterShapeStyle:e.letterShapeStyle}),i=r;if(this.superscript||this.subscript){let a=null!=(t=this.subsupPlacement)?t:"auto";i="over-under"===a||"auto"===a&&e.isDisplayStyle?this.attachLimits(e,{base:r}):this.attachSupsub(e,{base:r})}return new kn(this.bind(e,i),{type:"op",caret:this.caret,isSelected:this.isSelected,classes:"ML__op-group"}).wrap(e)}_serialize(e){if(!(e.expandMacro||e.skipStyles||e.skipPlaceholders)&&"string"==typeof this.verbatimLatex)return this.verbatimLatex;let t=Zs(this.command,this.mode);if(null!=t&&t.serialize)return t.serialize(this,e);let r=[this.command];return this.explicitSubsupPlacement&&("over-under"===this.subsupPlacement&&r.push("\\limits"),"adjacent"===this.subsupPlacement&&r.push("\\nolimits"),"auto"===this.subsupPlacement&&r.push("\\displaylimits")),r.push(this.supsubToLatex(e)),un(r)}},Oo=class e extends Wn{constructor(e,t,r,i){var a,s,n;super(_(w({},i),{type:"genmixfraction",displayContainsHighlight:!0})),this.above=t,this.below=r,this.body=e,this.hasBarLine=null==(a=i?.hasBarLine)||a,this.continuousFraction=null!=(s=i?.continuousFraction)&&s,this.align=null!=(n=i?.align)?n:"center",this.numerPrefix=i?.numerPrefix,this.denomPrefix=i?.denomPrefix,this.mathstyleName=i?.mathstyleName,this.leftDelim=i?.leftDelim,this.rightDelim=i?.rightDelim,this.fractionNavigationOrder=i?.fractionNavigationOrder}get children(){if(this._children)return this._children;let e=[];if("denominator-numerator"===this.fractionNavigationOrder){for(let t of this.below)e.push(...t.children),e.push(t);for(let t of this.above)e.push(...t.children),e.push(t);for(let t of this.body)e.push(...t.children),e.push(t)}else{for(let t of this.body)e.push(...t.children),e.push(t);for(let t of this.above)e.push(...t.children),e.push(t);for(let t of this.below)e.push(...t.children),e.push(t)}return this._children=e,e}static fromJson(t){return new e(t.left,t.above,t.below,t)}toJson(){let e={};return this.continuousFraction&&(e.continuousFraction=!0),"center"!==this.align&&(e.align=this.align),this.hasBarLine||(e.hasBarLine=!1),this.mathstyleName&&(e.mathstyleName=this.mathstyleName),this.fractionNavigationOrder&&(e.fractionNavigationOrder=this.fractionNavigationOrder),w(w({},super.toJson()),e)}render(e){var t,r,i;let a,s,n=new Nn({parent:e,mathstyle:this.mathstyleName},this.style),o=n.metrics,l=new Nn({parent:n,mathstyle:""},this.style),c=null!=(t=Wn.createBox(l,this.body,{type:"ignore"}))?t:new kn(null,{type:"ignore"}),u=new Nn({parent:n,mathstyle:this.continuousFraction?"":"numerator"},this.style),h=this.numerPrefix?new kn([new kn(this.numerPrefix),Wn.createBox(u,this.above)],{isTight:u.isTight,type:"ignore"}):null!=(r=Wn.createBox(u,this.above,{type:"ignore"}))?r:new kn(null,{type:"ignore"}),d=new Nn({parent:n,mathstyle:this.continuousFraction?"":"denominator"},this.style),m=this.denomPrefix?new kn([new kn(this.denomPrefix),Wn.createBox(d,this.below,{type:"ignore"})]):null!=(i=Wn.createBox(d,this.below,{type:"ignore"}))?i:new kn(null,{type:"ignore"}),p=this.hasBarLine?o.defaultRuleThickness:0,g=0;n.isDisplayStyle?(a=u.metrics.num1,g=p>0?3*p:7*p,s=d.metrics.denom1):(p>0?(a=u.metrics.num2,g=p):(a=u.metrics.num3,g=3*o.defaultRuleThickness),s=d.metrics.denom2);let f=[];this.isSelected&&f.push("ML__selected");let y,b,v=h.depth,w=m.height;if(p<=0){let e=a-v-(w-s);e<g&&(a+=(g-e)/2,s+=(g-e)/2),y=new Dn({individualShift:[{box:h,shift:-a,classes:[...f,Ro(this.align)]},{box:m,shift:s,classes:[...f,Ro(this.align)]}]})}else{let e=new kn(null,{classes:"ML__frac-line",mode:this.mode,style:this.style});e.softWidth=Math.max(h.width,m.width),e.height=p/2,e.depth=p/2;let t=ts+p/2;a<g+v+t&&(a=g+v+t);let r=ts-p/2;s<g+w-r&&(s=g+w-r),y=new Dn({individualShift:[{box:m,shift:s,classes:[...f,Ro(this.align)]},{box:e,shift:-r,classes:f},{box:h,shift:-a,classes:[...f,Ro(this.align)]}]})}let _=o.num1,S=this.bind(e,mo("open","[",_/2,!0,e,{style:this.style,mode:this.mode,isSelected:this.isSelected})),x=this.bind(e,mo("close","]",_/2,!0,e,{style:this.style,mode:this.mode,isSelected:this.isSelected}));b=new kn([S,c,y,x],{classes:f.join(" "),type:"inner",isTight:n.isTight}).wrap(n);let M=this.bind(e,b);return this.caret&&(M.caret=this.caret),this.attachSupsub(e,{base:M})}};function Ro(e){var t;return null!=(t={left:"ML__left",right:"ML__right",center:"ML__center"}[e])?t:"ML__center"}var qo=[{code:"const_proton_mass",symbol:"mp",name:"Proton mass",value:167262189821e-38,unit:"kg"},{code:"const_neutron_mass",symbol:"mn",name:"Neutron mass",value:167492747121e-38,unit:"kg"},{code:"const_electron_mass",symbol:"me",name:"Electron mass",value:91093835611e-41,unit:"kg"},{code:"const_moun_mass",symbol:"m",name:"Muon mass",value:188353159448e-39,unit:"kg"},{code:"const_bohr_radius",symbol:"a_0",name:"Bohr radius",value:5291772106712e-23,unit:"m"},{code:"const_planck",symbol:"h",name:"Planck constant",value:662607004081e-45,unit:"Js"},{code:"const_nuclear_magneton",symbol:"N",name:"Nuclear magneton",value:505078369931e-38,unit:"JT<sup><small>-1</small></sup>"},{code:"const_bohr_magneton",symbol:"B",name:"Bohr magneton",value:927400999457e-35,unit:"JT<sup><small>-1</small></sup>"},{code:"const_planck_rationalized",symbol:"",name:"Planck constant,rationalized",value:105457180013e-45,unit:"Js"},{code:"const_fine_structure",symbol:"",name:"Fine-structure constant",value:.007297352566417,unit:""},{code:"const_classicial_eletron_radius",symbol:"re",name:"Classical electron radius",value:2817940322719e-27,unit:"m"},{code:"const_compton_wavelength",symbol:"c",name:"Compton wavelength",value:2426310236711e-24,unit:"m"},{code:"const_proton_gyromagnetic_ratio",symbol:"p",name:"Proton gyromagnetic ratio",value:267522190.018,unit:"s<sup><small>-1</small></sup>T<sup><small>-1</small></sup>"},{code:"const_proton_compton_wavelength",symbol:"cp",name:"Proton Compton wavelength",value:13214098539661e-28,unit:"m"},{code:"const_neutron_compton_wavelength",symbol:"cn",name:"Neutron Compton wavelength",value:13195909048188e-28,unit:"m"},{code:"const_rydberg",symbol:"R",name:"Rydberg constant",value:10973731.56850865,unit:"m<sup><small>-1</small></sup>"},{code:"const_atomic_mass",symbol:"u",name:"Atomic mass constant",value:16605390402e-37,unit:"kg"},{code:"const_proton_magnetic_moment",symbol:"p",name:"Proton magnetic moment",value:1410606787397e-38,unit:"JT<sup><small>-1</small></sup>"},{code:"const_electron_magnetic_moment",symbol:"e",name:"Electron magnetic moment",value:-928476462057e-35,unit:"JT<sup><small>-1</small></sup>"},{code:"const_neutron_magnetic_moment",symbol:"n",name:"Neutron magnetic moment",value:-9662365023e-36,unit:"JT<sup><small>-1</small></sup>"},{code:"const_moun_magnetic_moment",symbol:"",name:"Muon magnetic moment",value:-4490448261e-35,unit:"JT<sup><small>-1</small></sup>"},{code:"const_faraday",symbol:"F",name:"Faraday constant",value:96485.332895,unit:"Cmol<sup><small>-1</small></sup>"},{code:"const_elementary_charge",symbol:"e",name:"Elementary charge",value:1602176620898e-31,unit:"C"},{code:"const_avogadro",symbol:"NA",name:"Avogadro constant",value:602214085774e12,unit:"mol<sup><small>-1</small></sup>"},{code:"const_boltzmann",symbol:"k",name:"Boltzmann constant",value:13806485279e-33,unit:"JK<sup><small>-1</small></sup>"},{code:"const_molar_volume_of_ideal",symbol:"Vm",name:"Molar volume of ideal",value:.02271094713,unit:"m<sup><small>3</small></sup>mol<sup><small>-1</small></sup>"},{code:"const_molar_gas",symbol:"R",name:"Molar gas constant",value:8.3144598484848,unit:"Jmol<sup><small>-1</small></sup>K<sup><small>-1</small></sup>"},{code:"const_speed_of_light_in_vacuum",symbol:"C_0",name:"Speed of light in vacuum",value:299792458,unit:"ms<sup><small>-1</small></sup>"},{code:"const_first_radiation",symbol:"C",name:"First radiation constant",value:374177179046e-27,unit:"Wm<sup><small>2</small></sup>"},{code:"const_second_radiation",symbol:"C",name:"Second radiation constant",value:.014387773683,unit:"mK"},{code:"const_stefan_boltzmann",symbol:"",name:"Stefan-Boltzmann constant",value:5.67036713e-8,unit:"Wm<sup><small>-2</small></sup>K<sup><small>-4</small></sup>"},{code:"const_electric",symbol:"_0",name:"Electric constant",value:8854187817e-21,unit:"Fm<sup><small>-1</small></sup>"},{code:"const_magnetic",symbol:"_0",name:"Magnetic constant",value:125663706e-14,unit:"NA<sup><small>-2</small></sup>"},{code:"const_magnetic_flux_quantum",symbol:"_0",name:"Magnetic flux quantum",value:206783383113e-26,unit:"Wb"},{code:"const_standard_acceleration_of_gravity",symbol:"g",name:"Standard acceleration of gravity",value:9.80665,unit:"ms<sup><small>-2</small></sup>"},{code:"const_conductance_quantum",symbol:"G_0",name:"Conductance quantum",value:7748091731018e-17,unit:"S"},{code:"const_characteristic_impedance_of_vacuum",symbol:"Z_0",name:"Characteristic impedance of vacuum",value:376.730313461,unit:""},{code:"const_celsius_temperature",symbol:"t",name:"Celsius temperature",value:273.15,unit:"K"},{code:"const_netwonian_of_gravitation",symbol:"G",name:"Newtonian constant of gravitation",value:66740831e-18,unit:"m<sup><small>3</small></sup>kg<sup><small>-1</small></sup>s<sup><small>-2</small></sup>"},{code:"const_atm",symbol:"atm",name:"Standard atmosphere",value:101325,unit:"Pa"}],$o=[{code:"convInCm",order:"01",symbol:"incm",desc:"inch (in)  centimeter (cm)",factor:"2.54",category:"English Metric conversion"},{code:"convCmIn",order:"02",symbol:"cmin",desc:"centimeters to inches",factor:"1/2.54",category:"English Metric conversion"},{code:"convFtM",order:"03",symbol:"ftm",desc:"foot (ft)  meter (m)",factor:"0.3048",category:"English Metric conversion"},{code:"convMFt",order:"04",symbol:"mft",desc:"meters to feet",factor:"1/0.3048",category:"English Metric conversion"},{code:"convYdM",order:"05",symbol:"ydm",desc:"yard (yd)  meter (m)",factor:"0.9144",category:"English Metric conversion"},{code:"convMYd",order:"06",symbol:"myd",desc:"meters to yards",factor:"1/0.9144",category:"English Metric conversion"},{code:"convMileKm",order:"07",symbol:"milekm",desc:"mile (mi)  kilometer (km)",factor:"1.609344",category:"English Metric conversion"},{code:"convKmMile",order:"08",symbol:"kmmile",desc:"kilometers to miles",factor:"1/1.609344",category:"English Metric conversion"},{code:"convNMileM",order:"09",symbol:"n milem",factor:"1852",category:"English Metric conversion"},{code:"convMNMile",order:"10",symbol:"mn mile",factor:"1/1852",category:"English Metric conversion"},{code:"convAcreM",order:"11",symbol:"acrem",desc:"acre (based on U.S. survey foot) square meter (m)",factor:"4046.856",category:"English Metric conversion"},{code:"convMAcre",order:"12",symbol:"macre",desc:"square meters to acres",factor:"1/4046.856",category:"English Metric conversion"},{code:"convGal(US)L",order:"13",symbol:"gal(US)L",desc:"gallon (U.S.) (gal)  liter (L)",factor:"3.785412",category:"English Metric conversion"},{code:"convLGal(US)",order:"14",symbol:"Lgal(US)",desc:"liters to US gallons",factor:"1/3.785412",category:"English Metric conversion"},{code:"convGal(UK)L",order:"15",symbol:"gal(UK)L",desc:"gallon [Canadian and U.K. (Imperial)] (gal)  liter (L) ",factor:"4.54609",category:"English Metric conversion"},{code:"convLGal(UK)",order:"16",symbol:"Lgal(UK)",desc:"Liters to UK gallons",factor:"1/4.54609",category:"English Metric conversion"},{code:"convPcKm",order:"17",symbol:"pckm",desc:"parsec (pc)  meter (m)",factor:"3.085678E13"},{code:"convKmPc",order:"18",symbol:"kmpc",factor:"1/3.085678E13"},{code:"convKmHMS",order:"19",symbol:"km/hm/s",desc:"kilometer per hour (km / h)  meter per second (m / s)",factor:"5/18",category:"Speed and length conversion"},{code:"convMsKmh",order:"20",symbol:"m/skm/h",factor:"18/5",desc:"meters/second to kilometers/hour",category:"Speed and length conversion"},{code:"convOzG",order:"21",symbol:"ozg",desc:"ounce (avoirdupois) (oz)  gram (g)",factor:"28.34952",category:"English Metric conversion"},{code:"convGOz",order:"22",symbol:"goz",desc:"grams to ounces",factor:"1/28.34952",category:"English Metric conversion"},{code:"convLbKg",order:"23",symbol:"lbkg",desc:"pound (troy or apothecary) (lb)  kilogram (kg)",factor:"0.4535924",category:"English Metric conversion"},{code:"convKgLb",order:"24",symbol:"kglb",desc:"kilograms to pounds",factor:"1/0.4535924",category:"English Metric conversion"},{code:"convAtmPa",order:"25",symbol:"atmPa",desc:"atmosphere, standard (atm)  pascal (Pa)",factor:"101325",category:"Pressure conversion"},{code:"convPaAtm",order:"26",symbol:"Paatm",factor:"1/101325",desc:"Pascals to atmospheres",category:"Pressure conversion"},{code:"convMmHgPa",order:"27",symbol:"mmHgPa",desc:"millimeter of mercury, conventional (mmHg)  pascal (Pa)",factor:"133.3224",category:"Pressure conversion"},{code:"convPaMmHg",order:"28",symbol:"PammHg",factor:"1/133.3224",desc:"Pascals to millimeters of mercury",category:"Pressure conversion"},{code:"convHpKW",order:"29",symbol:"hpkW",desc:"horsepower (550 ft  lbf / s) (hp)  kilowatt (kW)",factor:"745699872/1000000000",category:"Power and energy conversion"},{code:"convKWHp",order:"30",symbol:"kWhp",factor:"1000000000/745699872",desc:"kilowatt (kW)  horsepower (550 ft  lbf / s) (hp)",category:"Power and energy conversion"},{code:"convKgfCmPa",order:"31",symbol:"kgf/cmPa",desc:"kilogram-force per square centimeter(kgf/cm2))  pascal (Pa)",factor:"196133/2"},{code:"convPaKgfCm",order:"32",symbol:"Pakgf/cm",factor:"2/196133"},{code:"convKgfMJ",order:"33",symbol:"kgfmJ",factor:"9.80665"},{code:"convJKgfM",order:"34",symbol:"Jkgfm",factor:"1/9.80665"},{code:"convLbfInKPa",order:"35",symbol:"lbf/inkPa",desc:"pound-force per square inch (psi) (lbf/in2)  pascal (Pa)",factor:"6.894757"},{code:"convKPaLbfIn",order:"36",symbol:"kPalbf/in",factor:"1/6.894757"},{order:"37",symbol:"FC",desc:"degree Fahrenheit (temperature) (F) ................... degree Celsius (C)",factor:"({term}-32)/1.8",category:"Temperature conversion",code:"F_to_C"},{order:"38",symbol:"CF",factor:"{term}*1.8+32",desc:"Celsius to Farenheit",category:"Temperature conversion",code:"C_to_F"},{code:"convJCal",order:"39",symbol:"Jcal",factor:"5000/20929",desc:"joule (J)  calorieIT (calIT)",category:"Power and energy conversion"},{code:"convCalJ",order:"40",symbol:"calJ",desc:"calorieIT (calIT)  joule (J)",factor:"4.1858",category:"Power and energy conversion"}],Vo=class e extends Wn{constructor(e){var t;super(w({type:null==(t=e.command)?void 0:t.substring(1)},e)),this.variableArgs=e.args||[],this.body=this.variableArgs[0]?[new Wn({type:"not-editable",value:this.variableArgs[0]})]:[new _o],this.captureSelection=!0,this.displayContainsHighlight=!0,this.skipBoundary=!0,this.isImplicitArg="conversion"!==this.type}static fromJson(t){return new e(t)}toJson(){let e=super.toJson();return this.variableArgs&&(e.args=this.variableArgs),e}render(e){var t,r;let i=null;if("variable"===this.type){let t,r=e;for(;r.parent;)r=r.parent;if(t=r.ansValue,"randreal"===this.variableArgs[0])i=Wn.createBox(e,[new Wn({value:"Rand#",type:"not-editable",style:{variantStyle:"bolditalic"}})]);else if("Ans"===this.variableArgs[0]&&t){let r=t.atoms,a=new Wn({body:r,type:"macro",captureSelection:!0,isImplicitArg:!0}),s=Wn.createBox(e,a.body,{type:"lift"});s.classes="ML__ans-value",i=s,i.depth=i.depth+.9,i.height=i.height+.25}else i=Wn.createBox(e,this.body,{type:"lift"})}if("constant"===this.type){let r=(null==(t=qo.find((e=>e.code===this.variableArgs[0])))?void 0:t.symbol)||this.variableArgs[0];i=Wn.createBox(e,[new Wn({value:r,type:"not-editable",style:{variantStyle:"bolditalic"}})])}if("conversion"===this.type){let t=(null==(r=$o.find((e=>e.code===this.variableArgs[0])))?void 0:r.symbol)||this.variableArgs[0];i=Wn.createBox(e,[new Wn({value:t,type:"not-editable",style:{variantStyle:"bold"}})])}return i?(this.caret&&(i.caret=this.caret),this.bind(e,i)):null}};Ws(["arccos","arcsin","arctan","arctg","arcctg","arg","ch","cos","cosh","cot","cotg","coth","ctg","cth","csc","cosec","deg","dim","exp","gcd","hom","inf","ker","lb","lg","ln","log","Pr","sec","sh","sin","sinh","sup","tan","tanh","tg","th","arcsec","arccsc","arsinh","arcosh","artanh","arcsech","arccsch"],"",{isFunction:!0,ifMode:"math",createAtom:e=>new Bo(e.command.slice(1),_(w({},e),{limits:"adjacent",isFunction:!0,variant:"main",variantStyle:"up"}))}),Ws(["liminf","limsup"],"",{ifMode:"math",createAtom:e=>new Bo({"\\liminf":"lim inf","\\limsup":"lim sup"}[e.command],_(w({},e),{limits:"over-under",variant:"main"}))}),Ws(["lim","mod"],"",{ifMode:"math",createAtom:e=>new Bo(e.command.slice(1),_(w({},e),{limits:"over-under",variant:"main"}))}),Ws(["det","max","min"],"",{ifMode:"math",isFunction:!0,createAtom:e=>new Bo(e.command.slice(1),_(w({},e),{limits:"over-under",isFunction:!0,variant:"main"}))}),Ws(["ang"],"{:math}",{ifMode:"math",createAtom:e=>new Wn(_(w({},e),{body:Es(e.args[0])})),serialize:(e,t)=>`\\ang{${e.bodyToLatex(t)}}`,render:(e,t)=>{let r=e.createBox(t),i=r.caret;r.caret=void 0;let a=new kn("",{style:_(w({},e.style),{variant:"normal",variantStyle:"up"})});return new kn([r,a],{type:"inner",isSelected:e.isSelected,caret:i})}}),Ws("sqrt","[index:auto]{radicand:expression}",{ifMode:"math",createAtom:e=>new Eo(_(w({},e),{body:Es(e.args[1]),index:e.args[0]?Es(e.args[0]):void 0}))}),Ws(["frac","dfrac","tfrac","binom","dbinom","tbinom"],"{:expression}{:expression}",{ifMode:"math",createAtom:e=>{let t=w({},e),r=e.command,i=e.args;switch(r){case"\\dfrac":case"\\frac":case"\\tfrac":t.hasBarLine=!0;break;case"\\atopfrac":t.hasBarLine=!1;break;case"\\dbinom":case"\\binom":case"\\tbinom":t.hasBarLine=!1,t.leftDelim="(",t.rightDelim=")";break;case"\\cfrac":t.hasBarLine=!0,t.continuousFraction=!0}switch(r){case"\\dfrac":case"\\dbinom":t.mathstyleName="displaystyle";break;case"\\tfrac":case"\\tbinom":t.mathstyleName="textstyle"}return new Fo(i[0]?Es(i[0]):[new _o],i[1]?Es(i[1]):[new _o],t)},serialize:(e,t)=>{let r=e.aboveToLatex(t),i=e.belowToLatex(t);return/^[0-9]$/.test(r)&&/^[0-9]$/.test(i)?`${e.command}${r}${i}`:hn(e.command,r,i)}}),Ws(["mixfraction"],"{:expression}{:expression}{:expression}",{ifMode:"math",createAtom:e=>{let t=w({},e),r=e.command,i=e.args;if("\\mixfraction"===r)t.hasBarLine=!0,t.mathstyleName="displaystyle";return new Oo(i[0]?Es(i[0]):[new _o],i[1]?Es(i[1]):[new _o],i[2]?Es(i[2]):[new _o],t)},serialize:(e,t)=>{let r=e.bodyToLatex(t),i=e.aboveToLatex(t),a=e.belowToLatex(t);return hn(e.command,r,i,a)}}),Ws(["cfrac"],"[:string]{:expression}{:expression}",{ifMode:"math",createAtom:e=>{let t=w({},e),r=e.args;return t.hasBarLine=!0,t.continuousFraction=!0,"r"===r[0]&&(t.align="right"),"l"===r[0]&&(t.align="left"),new Fo(r[1]?Es(r[1]):[new _o],r[2]?Es(r[2]):[new _o],t)},serialize:(e,t)=>{let r=e.aboveToLatex(t),i=e.belowToLatex(t);return hn(e.command,r,i)}}),Ws(["brace","brack"],"",{infix:!0,createAtom:e=>new Fo(Es(e.args[0]),Es(e.args[1]),_(w({},e),{hasBarLine:!1,leftDelim:"\\brace"===e.command?"\\lbrace":"\\lbrack",rightDelim:"\\brace"===e.command?"\\rbrace":"\\rbrack"})),serialize:(e,t)=>un([e.aboveToLatex(t),e.command,e.belowToLatex(t)])}),Ws(["over","atop","choose"],"",{infix:!0,createAtom:e=>{let t,r,i=e.args;return"\\choose"===e.command&&(t="(",r=")"),new Fo(Es(i[0]),Es(i[1]),_(w({},e),{hasBarLine:"\\over"===e.command,leftDelim:t,rightDelim:r}))},serialize:(e,t)=>un([e.aboveToLatex(t),e.command,e.belowToLatex(t)])}),Ws(["overwithdelims","atopwithdelims"],"{numer:auto}{denom:auto}{left-delim:delim}{right-delim:delim}",{infix:!0,createAtom:e=>{var t,r;let i=e.args;return new Fo(Es(i[0]),Es(i[1]),_(w({},e),{leftDelim:null!=(t=i[2])?t:".",rightDelim:null!=(r=i[3])?r:".",hasBarLine:!1}))},serialize:(e,t)=>`${e.aboveToLatex(t)} ${e.command}${e.leftDelim}${e.rightDelim}${e.belowToLatex(t)}`}),Ws("pdiff","{numerator}{denominator}",{ifMode:"math",createAtom:e=>new Fo(Es(e.args[0]),Es(e.args[1]),_(w({},e),{hasBarLine:!0,numerPrefix:"",denomPrefix:""}))}),Ws(["sum","prod","bigcup","bigcap","coprod","bigvee","bigwedge","biguplus","bigotimes","bigoplus","bigodot","bigsqcup","intop"],"",{ifMode:"math",createAtom:e=>new Do({coprod:"",bigvee:"",bigwedge:"",biguplus:"",bigcap:"",bigcup:"",intop:"",prod:"",sum:"",bigotimes:"",bigoplus:"",bigodot:"",bigsqcup:"",smallint:""}[e.command.slice(1)],_(w({},e),{limits:"auto",variant:"main"}))}),Ws("smallint","",{ifMode:"math",createAtom:e=>new Bo("",_(w({},e),{limits:"adjacent",variant:"main"}))});var Ho={int:"",iint:"",iiint:"",oint:"",oiint:"",oiiint:"",intclockwise:"",varointclockwise:"",ointctrclockwise:"",intctrclockwise:"",sqcup:"",sqcap:"",uplus:"",wr:"",amalg:"",Cap:"",Cup:"",doublecap:"",doublecup:""};Ws(Object.keys(Ho),"",{ifMode:"math",createAtom:e=>{let t=e.command,r=Ho[t.slice(1)];return new Do(r,_(w({},e),{limits:"adjacent",variant:{"":"ams","":"ams"}[r]}))}}),Ws(["Re","Im"],"",{ifMode:"math",createAtom:e=>new Bo({"\\Re":"","\\Im":""}[e.command],_(w({},e),{limits:"adjacent",isFunction:!0,variant:"fraktur"}))}),Ws("middle","{:delim}",{ifMode:"math",createAtom:e=>{var t;return new Po(_(w({},e),{delim:null!=(t=e.args[0])?t:"|",size:1}))}}),Ws("the","{:value}",{createAtom:e=>new Wn(_(w({},e),{captureSelection:!0,verbatimLatex:null})),render:(e,t)=>{var r;let i=new Nn({parent:t},e.style),a="";e.isSelected&&(a+=" ML__selected");let s=i.evaluate(e.args[0]);return new kn((null!=(r=On(s))?r:"").split("").map((t=>new kn(t,{type:"ord",classes:a,mode:e.mode,isSelected:e.isSelected,style:w({variant:"main"},e.style)}))),{type:"lift",style:e.style,caret:e.caret,isSelected:e.isSelected,classes:a}).wrap(i)},serialize:e=>{var t;return`\\the${null!=(t=On(e.args[0]))?t:"\\relax"}`}}),Ws(["variable","constant","conversion"],"{:expression}",{parse:e=>[e.scanLiteralGroup()],createAtom:e=>new Vo(w({},e))});var No=class e extends Wn{constructor(e){super({type:"error",value:e,command:e,mode:"math"}),this.verbatimLatex=e}static fromJson(t){return new e(t.command)}toJson(){return super.toJson()}render(e){let t=this.createBox(e,{classes:"ML__error"});return this.caret&&(t.caret=this.caret),t}},Uo=class e extends Wn{constructor(e,t){super({type:"group",mode:t}),this.body=e,this.boxType=e.length>1?"ord":"ignore",this.skipBoundary=!0,this.displayContainsHighlight=!1,e&&1===e.length&&","===e[0].command&&(this.captureSelection=!0)}static fromJson(t){return new e(t.body,t.mode)}render(e){let t=Wn.createBox(e,this.body,{type:this.boxType});return t?(this.caret&&(t.caret=this.caret),this.bind(e,t)):null}_serialize(e){if(!(e.expandMacro||e.skipStyles||e.skipPlaceholders)&&"string"==typeof this.verbatimLatex)return this.verbatimLatex;let t=Zs(this.command,this.mode);return null!=t&&t.serialize?t.serialize(this,e):`{${this.bodyToLatex(e)}}`}},Yo=class e extends Wn{constructor(e,t,r){super({type:"leftright",style:r.style,displayContainsHighlight:!0}),this.variant=e,this.body=t,this.leftDelim=r.leftDelim,this.rightDelim=r.rightDelim}static fromJson(t){var r;return new e(null!=(r=t.variant)?r:"",t.body,t)}toJson(){let e=super.toJson();return this.variant&&(e.variant=this.variant),this.leftDelim&&(e.leftDelim=this.leftDelim),this.rightDelim&&(e.rightDelim=this.rightDelim),e}_serialize(e){var t,r;let i=this.matchingRightDelim();return"left...right"===this.variant?un(["\\left",null!=(t=this.leftDelim)?t:".",this.bodyToLatex(e),"\\right",i]):"mleft...mright"===this.variant?un(["\\mleft",null!=(r=this.leftDelim)?r:".",this.bodyToLatex(e),"\\mright",i]):un([this.leftDelim&&"."!==this.leftDelim?this.leftDelim:"",this.bodyToLatex(e),i])}matchingRightDelim(){var e,t;if(this.rightDelim&&"?"!==this.rightDelim)return this.rightDelim;let r=null!=(e=this.leftDelim)?e:".";return null!=(t=eo[r])?t:r}render(e){var t,r;let i=new Nn({parent:e},this.style);this.body;let a=new Nn({parent:e,mathstyle:"textstyle"},this.style),s=null!=(t=Wn.createBox(i,this.body,{type:"inner"}))?t:new kn(null,{type:"inner"}),n=s.height/a.scalingFactor,o=s.depth/a.scalingFactor,l=[];if(this.leftDelim&&l.push(this.bind(a,po("open",this.leftDelim,n,o,a,{isSelected:this.isSelected,classes:"ML__open"+(this.containsCaret?" ML__contains-caret":""),mode:this.mode,style:this.style}))),s&&(jo(s.children,this,i,n,o),l.push(s)),this.rightDelim){let e=this.containsCaret?" ML__contains-caret":"",t=this.rightDelim;"?"===t&&(i.smartFence?(t=this.matchingRightDelim(),e+=" ML__smart-fence__close"):t="."),l.push(this.bind(a,po("close",t,n,o,a,{isSelected:this.isSelected,classes:e+" ML__close",mode:this.mode,style:this.style})))}let c="mleft...mright"===this.variant,u=this.leftSibling;u&&(!c&&u.isFunction&&(c=!0),!c&&"subsup"===u.type&&null!=(r=u.leftSibling)&&r.isFunction&&(c=!0));let h=new kn(l,{type:c?"close":"inner",classes:"ML__left-right"});return h.setStyle("margin-top",-s.depth+"em"),h.setStyle("height",`${s.height+s.depth}em`),this.caret&&(h.caret=this.caret),this.bind(i,h.wrap(i))}};function jo(e,t,r,i,a){if(e)for(let s=0;s<e.length;s++){let n=e[s];"middle"===n.type?(e[s]=t.bind(r,po("inner",n.value,i,a,r,{isSelected:t.isSelected})),e[s].caret=n.caret,e[s].isSelected=n.isSelected,e[s].cssId=n.cssId,e[s].htmlData=n.htmlData,e[s].htmlStyle=n.htmlStyle,e[s].attributes=n.attributes,e[s].cssProperties=n.cssProperties):n.children&&jo(n.children,t,r,i,a)}}var Wo=class e extends Wn{constructor(e,t){var r;super({type:"macro",command:e,style:t.style,isImplicitArg:t.isImplicitArg}),this.body=t.body,void 0===t.captureSelection?t.args?this.captureSelection=!1:this.captureSelection=!0:this.captureSelection=t.captureSelection,this.macroArgs=t.args,this.expand=null!=(r=t.expand)&&r,this.argsMapping=t.argsMapping||{}}static fromJson(t){return new e(t.command,t)}toJson(){let e=super.toJson();return this.expand&&(e.expand=!0),void 0!==this.captureSelection&&(e.captureSelection=this.captureSelection),this.macroArgs&&(e.args=this.macroArgs),e}_serialize(e){var t;return e.expandMacro&&this.expand?this.bodyToLatex(e):this.command+(null!=(t=this.macroArgs)?t:"")}render(e){let t=Wn.createBox(e,this.body,{type:"lift"});return t?(this.caret&&(t.caret=this.caret),this.bind(e,t)):null}},Go=class e extends Wn{constructor(){super({type:"macro-argument"})}static fromJson(t){return new e}toJson(){return super.toJson()}_serialize(e){return""}render(e){return null}},Jo=class e extends Wn{constructor(e,t,r=!1,i,a){var s;super({type:"prompt",mode:null!=(s=a?.mode)?s:"math",style:a?.style,command:"\\placeholder"}),this.body=i,this.correctness=t,this.placeholderId=e,this.locked=r,this.captureSelection=this.locked}static fromJson(t){return new e(t.placeholderId,t.correctness,t.locked,t.body,t)}toJson(){let e=super.toJson();return this.placeholderId&&(e.placeholderId=this.placeholderId),this.body||delete e.body,this.body&&(e.body=this.body.filter((e=>"first"!==e.type)).map((e=>e.toJson()))),this.correctness&&(e.correctness=this.correctness),e.locked=this.locked,e}render(e){let t=new Nn({parent:e}),r=t.getRegisterAsEm("fboxsep"),i=r,a=r,s=Wn.createBox(e,this.body);if(!s)return null;s.height||(s.height=t.metrics.xHeight),s.setStyle("vertical-align",-s.height,"em"),"correct"===this.correctness?s.setStyle("color","var(--correct-color, var(--ML__correct-color))"):"incorrect"===this.correctness&&s.setStyle("color","var(--incorrect-color, var(--ML__incorrect-color))");let n=new kn(s,{type:"ord"});n.setStyle("display","inline-block"),n.setStyle("height",s.height+s.depth,"em"),n.setStyle("vertical-align",-a,"em");let o="ML__prompt ";this.locked?o+=" ML__lockedPromptBox ":o+=" ML__editablePromptBox ","correct"===this.correctness?o+=" ML__correctPromptBox ":"incorrect"===this.correctness&&(o+=" ML__incorrectPromptBox "),this.containsCaret&&(o+=" ML__focusedPromptBox ");let l=new kn(null,{classes:o,attributes:{part:"prompt"}});l.height=n.height+a,l.depth=n.depth+a,l.width=n.width+2*i,l.setStyle("position","absolute"),l.setStyle("height",`calc(${n.height+n.depth+2*a}em - 2px)`),0===i&&l.setStyle("width","100%"),0!==i&&(l.setStyle("width",`calc(100% + ${2*i}em)`),l.setStyle("top",r,"em"),l.setStyle("left",-i,"em")),(!this.body||1===this.body.length)&&(l.width=3*i,l.setStyle("width",`calc(100% + ${3*i}em)`),l.setStyle("left",-1.5*i,"em"));let c="";"incorrect"===this.correctness&&(c+='<line x1="3%"  y1="97%" x2="97%" y2="3%" stroke-width="0.5" stroke="var(--incorrect-color, var(--ML__incorrect-color))" stroke-linecap="round" />'),c&&(l.svgOverlay=c);let u=new kn([l,n],{classes:"ML__prompt-atom"});return n.setStyle("line-height",1),u.setStyle("position","relative"),u.setStyle("display","inline-block"),u.setStyle("line-height",0),u.height=n.height+a+.2,u.depth=n.depth+a,u.left=i,u.right=i,u.setStyle("height",n.height+a,"em"),u.setStyle("top",n.depth-n.height,"em"),u.setStyle("vertical-align",n.depth+a,"em"),u.setStyle("margin-left",.5,"em"),u.setStyle("margin-right",.5,"em"),this.caret&&(u.caret=this.caret),this.bind(t,this.attachSupsub(e,{base:u}))}_serialize(e){var t;let r=null!=(t=this.bodyToLatex(e))?t:"";if(e.skipPlaceholders)return r;let i="\\placeholder";return this.placeholderId&&(i+=`[${this.placeholderId}]`),"correct"===this.correctness?i+="[correct]":"incorrect"===this.correctness&&(i+="[incorrect]"),this.locked&&(i+="[locked]"),hn(i,r)}},Xo=class e extends Wn{constructor(e){super({type:"subsup",style:e?.style}),this.subsupPlacement="auto"}static fromJson(t){let r=new e(t);for(let e of Un)t[e]&&r.setChildren(t[e],e);return r}render(e){var t;let r=new Nn({parent:e,isPhantom:!0}),i=this.leftSibling,a=null!=(t=i.render(r))?t:new kn(null),s=new kn(null);return s.height=a.height,s.depth=a.depth,this.attachSupsub(e,{base:s,isCharacterBox:i.isCharacterBox(),type:"ignore"})}_serialize(e){return this.supsubToLatex(e)}},Zo=class e extends Wn{constructor(e,t,r){super({type:"text",command:e,mode:"text",displayContainsHighlight:!0}),this.value=t,this.verbatimLatex=t,this.applyStyle(r)}static fromJson(t){return new e(t.command,t.value,t.style)}render(e){let t=this.createBox(e);return this.caret&&(t.caret=this.caret),t}_serialize(e){var t;return null!=(t=this.verbatimLatex)?t:Qs("text",this.value.codePointAt(0))}};function Ko(e){return!!e&&!/^(<$$>|<$>|<space>|<{>|<}>|#[0-9\?]|\\.+)$/.test(e)}var Qo=class{constructor(e,t,r){var i,a,s,n;this.errors=[],this.index=0,this.endCount=0,null!=r||(r={}),this.tokens=e,this.context=!(t instanceof Nn)||null!=r&&r.parseMode||r.mathstyle?new Nn({from:t,mathstyle:r.mathstyle},r.style):t,this.args=null!=(i=r.args)?i:void 0,this.smartFence=this.context.smartFence,this.parsingContext={parent:void 0,mathlist:[],style:null!=(a=r.style)?a:{},parseMode:null!=(s=r.parseMode)?s:"math",mathstyle:null!=(n=r.mathstyle)?n:"displaystyle",tabular:!1}}beginContext(e){var t,r,i;let a=this.parsingContext,s={parent:a,mathlist:[],style:w({},a.style),parseMode:null!=(t=e?.mode)?t:a.parseMode,mathstyle:null!=(r=e?.mathstyle)?r:a.mathstyle,tabular:null!=(i=e?.tabular)&&i};this.parsingContext=s}endContext(){this.parsingContext=this.parsingContext.parent}onError(e){this.errors.push(w({before:dn(this.tokens.slice(this.index,this.index+10)),after:dn(this.tokens.slice(Math.max(0,this.index-10),this.index))},e))}get mathlist(){return this.parsingContext.mathlist}set mathlist(e){this.parsingContext.mathlist=e}get parseMode(){return this.parsingContext.parseMode}set parseMode(e){this.parsingContext.parseMode=e}get tabularMode(){return this.parsingContext.tabular}get style(){let e=this.parsingContext;for(;e;){if(e.style)return w({},e.style);e=e.parent}return{}}set style(e){this.parsingContext.style=e}end(){return this.endCount++,this.index>=this.tokens.length||this.endCount>1e3}next(){this.index+=1}get(){return this.endCount=0,this.index<this.tokens.length?this.tokens[this.index++]:""}peek(){return this.tokens[this.index]}expandUnicode(){if(!this.peek()||"math"!==this.parseMode)return;let e=Cs(this.peek());e&&this.tokens.splice(this.index,1,...cn(e))}match(e){return this.tokens[this.index]===e&&(this.index++,!0)}lastSubsupAtom(){let e;return this.mathlist.length>0&&(e=this.mathlist[this.mathlist.length-1],"subsup"===e.type||void 0!==e.subsupPlacement)||(e=new Xo({style:this.style}),this.mathlist.push(e)),e}hasPattern(e){return e.test(this.tokens[this.index])}hasInfixCommand(){var e;let{index:t}=this;if(t<this.tokens.length&&this.tokens[t].startsWith("\\")){let r=Zs(this.tokens[t],this.parseMode);return!(!r||"symbol"===r.definitionType||r.ifMode&&!r.ifMode.includes(this.parseMode))&&(null!=(e=r.infix)&&e)}return!1}matchColumnSeparator(){return!(!this.tabularMode||"&"!==this.peek())&&(this.index++,!0)}matchRowSeparator(){if(!this.tabularMode)return!1;let e=this.peek();return("\\\\"===e||"\\cr"===e||"\\tabularnewline"===e)&&(this.index++,!0)}placeholder(){var e;let t=null==(e=this.args)?void 0:e.call(this,"?");return t?el(t,{parseMode:this.parseMode,mathstyle:"textstyle"}):[new _o({mode:this.parseMode,style:this.style})]}skipWhitespace(){for(;this.match("<space>"););}skipUntilToken(e){let t=this.tokens[this.index];for(;t&&t!==e;)t=this.tokens[++this.index];t===e&&this.index++}skipFiller(){for(;this.match("\\relax")||this.match("<space>"););}matchKeyword(e){let t=this.index,r=this.end(),i="";for(;!r;){let t=this.get();Ko(t)?(i+=t,r=this.end()||i.length>=e.length):r=!0}let a=e.toUpperCase()===i.toUpperCase();return a||(this.index=t),a}scanString(){let e="";for(;!this.end();){let t=this.peek();if("]"===t)return e;if("<space>"===t)e+=" ";else if(t.startsWith("\\"))this.onError({code:"unexpected-command-in-string"}),e+=t.substring(1);else{if(!Ko(t))return e;e+=t}this.next()}return e}scanBalancedString(){let e="",t=this.end(),r=1;for(;!t;){let i=this.get();"<space>"===i?e+=" ":"<{>"===i?(e+="{",r+=1):"<}>"===i?(r-=1,r>0?e+="}":this.index-=1):e+="<$>"===i?"$":"<$$>"===i?"$$":i,t=0===r||this.end()}return e}scanLiteralGroup(){var e;if(!this.match("<{>"))return"";let t="",r=1;for(;r>0&&!this.end();){let i=this.get();"<}>"===i?(r-=1,r>0&&(t+="}")):"<{>"===i?(r+=1,t+="{"):(/\\[a-zA-Z]+$/.test(t)&&/^[a-zA-Z]/.test(i)&&(t+=" "),t+=null!=(e={"<space>":" ","<$$>":"$$","<$>":"$"}[i])?e:i)}return t}scanNumber(e=!0){var t,r;let i=!1,a=this.peek();for(;"<space>"===a||"+"===a||"-"===a;)this.get(),"-"===a&&(i=!i),a=this.peek();e=!!e;let s=10,n=/\d/;if(this.match("'"))s=8,n=/[0-7]/,e=!0;else if(this.match('"'))s=16,n=/[\dA-F]/,e=!0;else if(this.match("x"))s=16,n=/[\dA-Fa-f]/,e=!0;else if(this.match("`"))return a=this.get(),a?2===a.length&&a.startsWith("\\")?{number:(i?-1:1)*(null!=(t=a.codePointAt(1))?t:0),base:"alpha"}:{number:(i?-1:1)*(null!=(r=a.codePointAt(0))?r:0),base:"alpha"}:null;let o="";for(;this.hasPattern(n);)o+=this.get();if(!e&&(this.match(".")||this.match(",")))for(o+=".";this.hasPattern(n);)o+=this.get();let l=e?Number.parseInt(o,s):Number.parseFloat(o);return Number.isNaN(l)?null:{number:i?-l:l,base:16===s?"hexadecimal":8===s?"octal":"decimal"}}scanRegister(){var e;let t=this.index,r=this.scanNumber(!1);if(this.skipWhitespace(),this.match("\\relax"))return r;let i=!1;if(null===r)for(;;){let e=this.peek();if("-"===e)i=!i;else if("+"!==e)break;this.next(),this.skipWhitespace()}if(this.match("\\global")){this.skipWhitespace();let e=this.get();return e.startsWith("\\")?r?{register:e,global:!0,factor:(i?-1:1)*r.number}:i?{register:e,global:!0,factor:-1}:{register:e,global:!0}:(this.index=t,null)}let a=this.get();return null!=a&&a.startsWith("\\")?(a=a.substring(1),this.context.registers[a]?i&&null===r?{register:a}:{register:a,factor:(i?-1:1)*(null!=(e=r?.number)?e:1)}:(this.index=t,null)):(this.index=t,null)}scanValue(){let e=this.scanRegister();if(e)return e;let t=this.index,r=this.scanGlueOrDimen();if(r&&("unit"in r||"glue"in r&&"unit"in r.glue))return r;this.index=t;let i=this.scanNumber();if(i)return i;if(this.end()||!Ko(this.peek()))return null;let a=this.scanString();return a.length>0?{string:a}:null}scanDimen(){let e=this.scanNumber(!1);if(null===e)return null;let t,r=e.number;return this.skipWhitespace(),this.matchKeyword("true"),this.skipWhitespace(),this.matchKeyword("pt")?t="pt":this.matchKeyword("mm")?t="mm":this.matchKeyword("cm")?t="cm":this.matchKeyword("ex")?t="ex":this.matchKeyword("px")?t="px":this.matchKeyword("em")?t="em":this.matchKeyword("bp")?t="bp":this.matchKeyword("dd")?t="dd":this.matchKeyword("pc")?t="pc":this.matchKeyword("in")?t="in":this.matchKeyword("mu")&&(t="mu"),t?{dimension:r,unit:t}:{dimension:r}}scanGlueOrDimen(){let e=this.scanDimen();if(null===e)return null;if(this.skipWhitespace(),this.match("\\relax"))return e;let t={glue:e};if(this.matchKeyword("plus")){let e=this.scanDimen();if(!e)return t;t.grow=e}if(this.skipWhitespace(),this.match("\\relax"))return t;if(this.skipWhitespace(),this.matchKeyword("minus")){let e=this.scanDimen();if(!e)return t;t.shrink=e}return t.grow||t.shrink?t:e}scanColspec(){this.skipWhitespace();let e=[];for(;!this.end()&&"<}>"!==this.peek()&&"]"!==this.peek();){let t=this.get();"c"===t||"r"===t||"l"===t?e.push({align:t}):"|"===t?e.push({separator:"solid"}):":"===t?e.push({separator:"dashed"}):"@"===t&&(this.match("<{>")&&(this.beginContext({mode:"math"}),e.push({gap:this.scan((e=>"<}>"===e))}),this.endContext()),this.match("<}>")||this.onError({code:"unbalanced-braces"}))}return e}scanModeSet(){let e;if(this.match("\\(")&&(e="textstyle"),!e&&this.match("\\[")&&(e="displaystyle"),!e)return null;this.beginContext({mode:"math",mathstyle:e});let t=this.scan((t=>t===("displaystyle"===e?"\\]":"\\)")));return this.match("displaystyle"===e?"\\]":"\\)")||this.onError({code:"unbalanced-mode-shift"}),this.endContext(),t}scanModeShift(){let e="";if(this.match("<$>")&&(e="<$>"),!e&&this.match("<$$>")&&(e="<$$>"),!e)return null;this.beginContext({mode:"math",mathstyle:"textstyle"});let t=this.scan((t=>t===e));return this.match(e)||this.onError({code:"unbalanced-mode-shift"}),this.endContext(),t}scanEnvironment(){if(!this.match("\\begin"))return null;let e=this.scanArgument("string");if(!e)return null;let t=function(e){var t;return null!=(t=Bs[e])?t:null}(e);if(!t)return this.onError({code:"unknown-environment",arg:e}),null;let r=[];if(t.params)for(let i of t.params)if(i.isOptional)r.push(this.scanOptionalArgument(i.type));else{let t=this.scanArgument(i.type);t||this.onError({code:"missing-argument",arg:e}),r.push(t)}this.beginContext({tabular:t.tabular});let i=[],a=[],s=[],n=!1;do{if(this.end()&&(this.onError({code:"unbalanced-environment",arg:e}),n=!0),!n&&this.match("\\end")&&(this.scanArgument("string")!==e&&this.onError({code:"unbalanced-environment",arg:e}),n=!0),!n)if(this.matchColumnSeparator())s.push(this.mathlist),this.mathlist=[];else if(this.matchRowSeparator()){s.push(this.mathlist),this.mathlist=[];let e=null;this.skipWhitespace(),this.match("[")&&(e=this.scanDimen(),this.skipWhitespace(),this.match("]")),a.push(e??{dimension:0}),i.push(s),s=[]}else this.mathlist.push(...this.scan((e=>["<}>","&","\\end","\\cr","\\\\","\\tabularnewline"].includes(e))))}while(!n);return s.push(this.mathlist),s.length>0&&i.push(s),this.endContext(),t.createAtom(e,i,a,r,this.context.maxMatrixCols)}scanExpression(){let e=this.mathlist;if(this.mathlist=[],this.parseExpression()){let t=this.mathlist;return this.mathlist=e,t}return this.mathlist=e,null}scan(e){this.beginContext(),e||(e=e=>"<}>"===e);let t,r="",i=null,a=[],s=null;for(;!this.end()&&!e(this.peek());)this.hasInfixCommand()&&!r?(r=this.get(),i=Zs(r,"math"),i&&(a=this.scanArguments(i)[1]),s=this.mathlist,this.mathlist=[]):this.parseExpression();return r?(a.unshift(this.mathlist),s&&a.unshift(s),t=[i.createAtom({command:r,args:a,style:this.style,mode:this.parseMode})]):t=this.mathlist,this.endContext(),t}scanGroup(){let e=this.index;if(!this.match("<{>"))return null;let t=this.scan((e=>"<}>"===e));if(this.match("<}>")||this.onError({code:"unbalanced-braces"}),1===t.length&&"placeholder"===t[0].type)return t[0];let r=new Uo(t,this.parseMode);return r.verbatimLatex=dn(this.tokens.slice(e,this.index)),r}scanSmartFence(){if(this.skipWhitespace(),!this.match("("))return null;this.beginContext();let e=1;for(;!this.end()&&0!==e;)this.match("(")&&(e+=1),this.match(")")&&(e-=1),0!==e&&this.parseExpression();let t=new Yo("",this.mathlist,{leftDelim:"(",rightDelim:0===e?")":"?"});return this.endContext(),t}scanDelim(){this.skipWhitespace();let e=this.peek();if(!e)return this.onError({code:"unexpected-end-of-string"}),null;if(!Ko(e)&&!e.startsWith("\\"))return null;this.next();let t=Zs(e,"math");return t?"function"===t.definitionType&&t.ifMode&&!t.ifMode.includes(this.parseMode)?(this.onError({code:"unexpected-delimiter",arg:e}),null):"symbol"===t.definitionType&&("mopen"===t.type||"mclose"===t.type)||/^(\.|\?|\||<|>|\\vert|\\Vert|\\\||\\surd|\\uparrow|\\downarrow|\\Uparrow|\\Downarrow|\\updownarrow|\\Updownarrow|\\mid|\\mvert|\\mVert)$/.test(e)?e:(this.onError({code:"unexpected-delimiter",arg:e}),null):(this.onError({code:"unknown-command",arg:e}),null)}scanLeftRight(){var e;if(this.match("\\right"))return this.onError({code:"unbalanced-braces"}),new No("\\right");if(this.match("\\mright"))return this.onError({code:"unbalanced-braces"}),new No("\\mright");let t="\\right";if(!this.match("\\left")){if(!this.match("\\mleft"))return null;t="\\mright"}let r=this.scanDelim();if(!r)return this.onError({code:"unexpected-delimiter"}),new No("\\right"===t?"\\left":"\\mleft");for(this.beginContext();!this.end()&&!this.match(t);)this.parseExpression();let i=this.mathlist;this.endContext();let a=null!=(e=this.scanDelim())?e:".";return new Yo("\\right"===t?"left...right":"mleft...mright",i,{leftDelim:r,rightDelim:a,style:this.style})}parseSupSub(){if("math"!==this.parseMode)return!1;let e=this.peek();if("^"!==e&&"_"!==e&&"'"!==e)return!1;let t=this.lastSubsupAtom();for(;"^"===e||"_"===e||"'"===e;)this.match("'")?this.match("'")?t.addChild(new Wn({type:"mord",command:"\\doubleprime",mode:"math",value:""}),"superscript"):t.addChild(new Wn({type:"mord",command:"\\prime",mode:"math",value:""}),"superscript"):(this.match("^")||this.match("_"))&&t.addChildren(Es(this.scanArgument("expression")),"_"===e?"subscript":"superscript"),e=this.peek();return!0}parseLimits(){if("math"!==this.parseMode)return!1;let e=this.match("\\limits"),t=!e&&this.match("\\nolimits"),r=!t&&!e&&this.match("\\displaylimits");if(!e&&!t&&!r)return!1;let i=this.mathlist.length>0?this.mathlist[this.mathlist.length-1]:null;return null!==i&&(i.explicitSubsupPlacement=!0,e&&(i.subsupPlacement="over-under"),t&&(i.subsupPlacement="adjacent"),r&&(i.subsupPlacement="auto"),!0)}scanArguments(e){if(null==e||!e.params)return[void 0,[]];let t,r=[],i=e.infix?2:0;for(;i<e.params.length;){let a=e.params[i];"rest"===a.type?r.push(this.scan((e=>["<}>","&","\\end","\\cr","\\\\","\\tabularnewline","\\right"].includes(e)))):a.isOptional?r.push(this.scanOptionalArgument(a.type)):a.type.endsWith("*")?t=a.type.slice(0,-1):r.push(this.scanArgument(a.type)),i+=1}return[t,r]}scanSymbolOrLiteral(){let e,t=this.peek();if(!t)return null;if(this.next(),Ko(t)){let e=pn.createAtom(this.parseMode,t,w({},this.style));return e?[e]:null}if(e=this.scanMacro(t),e)return[e];if(t.startsWith("\\")){let r=Zs(t,this.parseMode);if(!r)return this.onError({code:"unknown-command",arg:t}),[new No(t)];if("symbol"===r.definitionType){let i=w({},this.style);r.variant&&(i.variant=r.variant),e=new Wn({type:r.type,command:t,style:i,value:String.fromCodePoint(r.codepoint),mode:this.parseMode,verbatimLatex:t})}else{if(r.applyMode||r.applyStyle||r.infix)return this.onError({code:"invalid-command",arg:t}),[new No(t)];r.createAtom&&(e=r.createAtom({command:t,args:[],style:this.style,mode:this.parseMode}))}}return e?[e]:null}scanArgument(e){var t;this.skipFiller();let r=this.parseMode;if("auto"===e&&(e=r),!this.match("<{>")){if("string"===e)return this.scanString();if("value"===e)return this.scanValue();if("delim"===e)return null!=(t=this.scanDelim())?t:".";if("expression"===e)return this.scanExpression();if("math"===e){e!==r&&this.beginContext({mode:"math"});let t=this.scanSymbolOrLiteral();return e!==r&&this.endContext(),t}if("text"===e){e!==r&&this.beginContext({mode:"text"});let t=this.scanSymbolOrLiteral();return e!==r&&this.endContext(),t}return"balanced-string"===e?null:"rest"===e?this.scan((e=>["<}>","&","\\end","\\cr","\\\\","\\tabularnewline","\\right"].includes(e))):null}if("text"===e){this.beginContext({mode:"text"});do{this.mathlist.push(...this.scan())}while(!this.match("<}>")&&!this.end());let e=this.mathlist;return this.endContext(),{group:e}}if("math"===e){this.beginContext({mode:"math"});do{this.mathlist.push(...this.scan())}while(!this.match("<}>")&&!this.end());let e=this.mathlist;return this.endContext(),{group:e}}let i=null;if("expression"===e){this.beginContext({mode:"math"});do{this.mathlist.push(...this.scan())}while(!this.match("<}>")&&!this.end());let e=this.mathlist;return this.endContext(),{group:e}}return"string"===e?i=this.scanString():"balanced-string"===e?i=this.scanBalancedString():"colspec"===e?i=this.scanColspec():"value"===e&&(i=this.scanValue()),this.skipUntilToken("<}>"),i}scanOptionalArgument(e){if(e="auto"===e?this.parseMode:e,this.skipFiller(),!this.match("["))return null;let t=null;for(;!this.end()&&!this.match("]");)if("string"===e)t=this.scanString();else if("value"===e)t=this.scanValue();else if("colspec"===e)t=this.scanColspec();else if("bbox"===e){let e={},r=this.scanString().toLowerCase().trim().split(/,(?![^(]*\)(?:(?:[^(]*\)){2})*[^"]*$)/);for(let t of r){let r=t.match(/^\s*([\d.]+)\s*([a-z]{2})/);if(r)e.padding={dimension:parseInt(r[1]),unit:r[2]};else{let r=t.match(/^\s*border\s*:\s*(.*)/);r?e.border=r[1]:e.backgroundcolor={string:t}}}t=e}else"math"===e&&(this.beginContext({mode:"math"}),t=this.mathlist.concat(this.scan((e=>"]"===e))),this.endContext());return t}scanSymbolOrCommand(e){var t,r,i;if("\\placeholder"===e){let e,t=this.scanOptionalArgument("string"),r=this.scanOptionalArgument("math"),i=Wn.serialize(r,{defaultMode:"math"}),a=[];e||"correct"!==i?e||"incorrect"!==i?""!==i&&(a=r):e="incorrect":e="correct";let s,n="locked"===this.scanOptionalArgument("string"),o=this.scanArgument("auto");return s=o&&Array.isArray(o)&&o.length>0?o:o&&"object"==typeof o&&"group"in o?o.group:a,t?[new Jo(t,e,n,s??a,{mode:this.parseMode,style:this.style})]:[new _o({mode:this.parseMode,style:this.style})]}if("\\renewcommand"===e||"\\newcommand"===e||"\\providecommand"===e||"\\def"===e){let t=this.index,r=this.scanLiteralGroup()||this.next();if(!r)return null;if(this.context.registers[r.substring(1)]){let i=this.scanArgument("string");null!==i&&(this.context.registers[r.substring(1)]=i);let a=un([e,dn(this.tokens.slice(t,this.index))]);return[new Wn({type:"text",value:"",verbatimLatex:a})]}}let a=this.scanMacro(e);if(a)return[a];let s=Zs(e,this.parseMode);if(!s)return"text"===this.parseMode?(/[a-zA-Z]/.test(null!=(t=this.peek())?t:"")&&(e+=" "),[...e].map((e=>new Wn({type:"text",value:e,mode:"text",style:this.style})))):(this.onError({code:"unknown-command",arg:e}),[new No(e)]);let n=this.index;if("symbol"===s.definitionType){let t=w({},this.style);s.variant&&(t.variant=s.variant),a=new Wn({type:s.type,command:e,style:t,value:String.fromCodePoint(s.codepoint),mode:this.parseMode})}else{if(s.ifMode&&!s.ifMode.includes(this.parseMode))return[];let t=this.parseMode;s.applyMode&&(this.parseMode=s.applyMode);let n,o=[];if(s.parse?o=s.parse(this):[n,o]=this.scanArguments(s),this.parseMode=t,s.applyMode&&!s.applyStyle&&!s.createAtom)return Es(o[0]);if(s.infix)return this.onError({code:"too-many-infix-commands",arg:e}),null;if("function"==typeof s.createAtom)a=s.createAtom({command:e,args:o,style:this.style,mode:this.parseMode}),n&&(a.body=Es(this.scanArgument(n)));else if("function"==typeof s.applyStyle){let t=s.applyStyle(this.style,e,o,this.context),r=this.parseMode;if(s.applyMode&&(this.parseMode=s.applyMode),n){let e=this.style;this.style=t;let i=this.scanArgument(n);return this.style=e,this.parseMode=r,Es(i)}this.style=t}else a=new Wn({type:"mord",command:null!=(r=s.command)?r:e,style:w({},this.style),value:e,mode:null!=(i=s.applyMode)?i:this.parseMode})}if(!a)return null;if(a instanceof Wn&&void 0===a.verbatimLatex&&!/^\\(llap|rlap|class|cssId|htmlData)$/.test(e)){let t=un([e,dn(this.tokens.slice(n,this.index))]);t&&(a.verbatimLatex=t)}if(null===a.verbatimLatex&&(a.verbatimLatex=void 0),a.isFunction&&this.smartFence){let e=this.scanSmartFence();if(e)return[a,e]}return[a]}scanSymbolCommandOrLiteral(){this.expandUnicode();let e=this.get();if(!e)return null;if(Ko(e)){let t=pn.createAtom(this.parseMode,e,w({},this.style));if(!t)return null;if(t.isFunction&&this.smartFence){let e=this.scanSmartFence();if(e)return[t,e]}return[t]}return e.startsWith("\\")?this.scanSymbolOrCommand(e):"<space>"===e?"text"===this.parseMode?[new Zo(" "," ",this.style)]:null:("<}>"===e?this.onError({latex:"",code:"unbalanced-braces"}):this.onError({latex:"",code:"unexpected-token",arg:e}),null)}scanMacro(e){var t,r;let i=this.context.getMacro(e);if(!i)return null;let a=this.index,s=i.args,n={"?":null==(t=this.args)?void 0:t.call(this,"?")};for(let e=1;e<=s;e++){let t=this.scanLiteralGroup();if(!t){let e=this.index;this.scanExpression(),t=dn(this.tokens.slice(e,this.index))}n[e]=(null==(r=i.argsMapping)?void 0:r[t])||t}return new Wo(e,{expand:i.expand,captureSelection:i.captureSelection,args:a===this.index?null:dn(this.tokens.slice(a,this.index)),style:this.parsingContext.style,body:el(i.def,{context:this.context,parseMode:this.parseMode,args:e=>n[e],mathstyle:this.parsingContext.mathstyle,style:this.parsingContext.style}),isImplicitArg:i.isImplicitArg})}parseExpression(){var e,t,r,i;let a=null!=(i=null!=(r=null!=(t=null!=(e=this.scanEnvironment())?e:this.scanModeShift())?t:this.scanModeSet())?r:this.scanGroup())?i:this.scanLeftRight();if(null===a){if(this.parseSupSub()||this.parseLimits())return!0;a=this.scanSymbolCommandOrLiteral()}return!!a&&(ls(a)?this.mathlist.push(...a):this.mathlist.push(a),!0)}};function el(e,t){var r,i,a,s;let n=null!=(r=t?.args)?r:void 0,o=new Qo(cn(e,n),t?.context,{args:n,mathstyle:null!=(i=t?.mathstyle)?i:"displaystyle",parseMode:null!=(a=t?.parseMode)?a:"math",style:null!=(s=t?.style)?s:{}}),l=[];for(;!o.end();)l.push(...o.scan((()=>!1)));return l}var tl=class e extends Wn{constructor(e,t){super({type:"chem"},{command:e,mode:"math"});let r=il.go(rl.go(t,"\\pu"===e?"pu":"ce"),!1);this.body=el(r),this._verbatimLatex=e+"{"+t+"}",this.arg=t,this.captureSelection=!0}static fromJson(t){return new e(t.command,t.arg)}set verbatimLatex(e){}get verbatimLatex(){return this._verbatimLatex}toJson(){return _(w({},super.toJson()),{arg:this.arg})}render(e){let t=Wn.createBox(e,this.body,{type:"inner"});return this.caret&&(t.caret=this.caret),this.bind(e,t)}_serialize(e){return this.verbatimLatex,this.verbatimLatex}};Ws(["ce","pu"],"{chemformula:balanced-string}",{createAtom:e=>{var t;return new tl(e.command,null!=(t=e.args[0])?t:"")}});var rl={go:function(e,t){if(!e)return[];void 0===t&&(t="ce");var r="0",i={parenthesisLevel:0};e=(e=(e=e.replace(/\n/g," ")).replace(/[\u2212\u2013\u2014\u2010]/g,"-")).replace(/[\u2026]/g,"...");for(var a,s=10,n=[];;){a!==e?(s=10,a=e):s--;var o=rl.stateMachines[t],l=o.transitions[r]||o.transitions["*"];e:for(var c=0;c<l.length;c++){var u=rl.patterns.match_(l[c].pattern,e);if(u){for(var h=l[c].task,d=0;d<h.action_.length;d++){var m;if(o.actions[h.action_[d].type_])m=o.actions[h.action_[d].type_](i,u.match_,h.action_[d].option);else{if(!rl.actions[h.action_[d].type_])throw["MhchemBugA","mhchem bug A. Please report. ("+h.action_[d].type_+")"];m=rl.actions[h.action_[d].type_](i,u.match_,h.action_[d].option)}rl.concatArray(n,m)}if(r=h.nextState||r,!(e.length>0))return n;if(h.revisit||(e=u.remainder),!h.toContinue)break e}}if(s<=0)throw["MhchemBugU","mhchem bug U. Please report."]}},concatArray:function(e,t){if(t)if("[object Array]"===Object.prototype.toString.call(t))for(var r=0;r<t.length;r++)e.push(t[r]);else e.push(t)},patterns:{patterns:{empty:/^$/,else:/^./,else2:/^./,space:/^\s/,"space A":/^\s(?=[A-Z\\$])/,space$:/^\s$/,"a-z":/^[a-z]/,x:/^x/,x$:/^x$/,i$:/^i$/,letters:/^(?:[a-zA-Z\u03B1-\u03C9\u0391-\u03A9?@]|(?:\\(?:alpha|beta|gamma|delta|epsilon|zeta|eta|theta|iota|kappa|lambda|mu|nu|xi|omicron|pi|rho|sigma|tau|upsilon|phi|chi|psi|omega|Gamma|Delta|Theta|Lambda|Xi|Pi|Sigma|Upsilon|Phi|Psi|Omega)(?:\s+|\{\}|(?![a-zA-Z]))))+/,"\\greek":/^\\(?:alpha|beta|gamma|delta|epsilon|zeta|eta|theta|iota|kappa|lambda|mu|nu|xi|omicron|pi|rho|sigma|tau|upsilon|phi|chi|psi|omega|Gamma|Delta|Theta|Lambda|Xi|Pi|Sigma|Upsilon|Phi|Psi|Omega)(?:\s+|\{\}|(?![a-zA-Z]))/,"one lowercase latin letter $":/^(?:([a-z])(?:$|[^a-zA-Z]))$/,"$one lowercase latin letter$ $":/^\$(?:([a-z])(?:$|[^a-zA-Z]))\$$/,"one lowercase greek letter $":/^(?:\$?[\u03B1-\u03C9]\$?|\$?\\(?:alpha|beta|gamma|delta|epsilon|zeta|eta|theta|iota|kappa|lambda|mu|nu|xi|omicron|pi|rho|sigma|tau|upsilon|phi|chi|psi|omega)\s*\$?)(?:\s+|\{\}|(?![a-zA-Z]))$/,digits:/^[0-9]+/,"-9.,9":/^[+\-]?(?:[0-9]+(?:[,.][0-9]+)?|[0-9]*(?:\.[0-9]+))/,"-9.,9 no missing 0":/^[+\-]?[0-9]+(?:[.,][0-9]+)?/,"(-)(9.,9)(e)(99)":function(e){var t=e.match(/^(\+\-|\+\/\-|\+|\-|\\pm\s?)?([0-9]+(?:[,.][0-9]+)?|[0-9]*(?:\.[0-9]+))?(\((?:[0-9]+(?:[,.][0-9]+)?|[0-9]*(?:\.[0-9]+))\))?(?:(?:([eE])|\s*(\*|x|\\times|\u00D7)\s*10\^)([+\-]?[0-9]+|\{[+\-]?[0-9]+\}))?/);return t&&t[0]?{match_:t.slice(1),remainder:e.substr(t[0].length)}:null},"(-)(9)^(-9)":function(e){var t=e.match(/^(\+\-|\+\/\-|\+|\-|\\pm\s?)?([0-9]+(?:[,.][0-9]+)?|[0-9]*(?:\.[0-9]+)?)\^([+\-]?[0-9]+|\{[+\-]?[0-9]+\})/);return t&&t[0]?{match_:t.slice(1),remainder:e.substr(t[0].length)}:null},"state of aggregation $":function(e){var t=rl.patterns.findObserveGroups(e,"",/^\([a-z]{1,3}(?=[\),])/,")","");if(t&&t.remainder.match(/^($|[\s,;\)\]\}])/))return t;var r=e.match(/^(?:\((?:\\ca\s?)?\$[amothc]\$\))/);return r?{match_:r[0],remainder:e.substr(r[0].length)}:null},"_{(state of aggregation)}$":/^_\{(\([a-z]{1,3}\))\}/,"{[(":/^(?:\\\{|\[|\()/,")]}":/^(?:\)|\]|\\\})/,", ":/^[,;]\s*/,",":/^[,;]/,".":/^[.]/,". ":/^([.\u22C5\u00B7\u2022])\s*/,"...":/^\.\.\.(?=$|[^.])/,"* ":/^([*])\s*/,"^{(...)}":function(e){return rl.patterns.findObserveGroups(e,"^{","","","}")},"^($...$)":function(e){return rl.patterns.findObserveGroups(e,"^","$","$","")},"^a":/^\^([0-9]+|[^\\_])/,"^\\x{}{}":function(e){return rl.patterns.findObserveGroups(e,"^",/^\\[a-zA-Z]+\{/,"}","","","{","}","",!0)},"^\\x{}":function(e){return rl.patterns.findObserveGroups(e,"^",/^\\[a-zA-Z]+\{/,"}","")},"^\\x":/^\^(\\[a-zA-Z]+)\s*/,"^(-1)":/^\^(-?\d+)/,"'":/^'/,"_{(...)}":function(e){return rl.patterns.findObserveGroups(e,"_{","","","}")},"_($...$)":function(e){return rl.patterns.findObserveGroups(e,"_","$","$","")},_9:/^_([+\-]?[0-9]+|[^\\])/,"_\\x{}{}":function(e){return rl.patterns.findObserveGroups(e,"_",/^\\[a-zA-Z]+\{/,"}","","","{","}","",!0)},"_\\x{}":function(e){return rl.patterns.findObserveGroups(e,"_",/^\\[a-zA-Z]+\{/,"}","")},"_\\x":/^_(\\[a-zA-Z]+)\s*/,"^_":/^(?:\^(?=_)|\_(?=\^)|[\^_]$)/,"{}":/^\{\}/,"{...}":function(e){return rl.patterns.findObserveGroups(e,"","{","}","")},"{(...)}":function(e){return rl.patterns.findObserveGroups(e,"{","","","}")},"$...$":function(e){return rl.patterns.findObserveGroups(e,"","$","$","")},"${(...)}$":function(e){return rl.patterns.findObserveGroups(e,"${","","","}$")},"$(...)$":function(e){return rl.patterns.findObserveGroups(e,"$","","","$")},"=<>":/^[=<>]/,"#":/^[#\u2261]/,"+":/^\+/,"-$":/^-(?=[\s_},;\]/]|$|\([a-z]+\))/,"-9":/^-(?=[0-9])/,"- orbital overlap":/^-(?=(?:[spd]|sp)(?:$|[\s,;\)\]\}]))/,"-":/^-/,"pm-operator":/^(?:\\pm|\$\\pm\$|\+-|\+\/-)/,operator:/^(?:\+|(?:[\-=<>]|<<|>>|\\approx|\$\\approx\$)(?=\s|$|-?[0-9]))/,arrowUpDown:/^(?:v|\(v\)|\^|\(\^\))(?=$|[\s,;\)\]\}])/,"\\bond{(...)}":function(e){return rl.patterns.findObserveGroups(e,"\\bond{","","","}")},"->":/^(?:<->|<-->|->|<-|<=>>|<<=>|<=>|[\u2192\u27F6\u21CC])/,CMT:/^[CMT](?=\[)/,"[(...)]":function(e){return rl.patterns.findObserveGroups(e,"[","","","]")},"1st-level escape":/^(&|\\\\|\\hline)\s*/,"\\,":/^(?:\\[,\ ;:])/,"\\x{}{}":function(e){return rl.patterns.findObserveGroups(e,"",/^\\[a-zA-Z]+\{/,"}","","","{","}","",!0)},"\\x{}":function(e){return rl.patterns.findObserveGroups(e,"",/^\\[a-zA-Z]+\{/,"}","")},"\\ca":/^\\ca(?:\s+|(?![a-zA-Z]))/,"\\x":/^(?:\\[a-zA-Z]+\s*|\\[_&{}%])/,orbital:/^(?:[0-9]{1,2}[spdfgh]|[0-9]{0,2}sp)(?=$|[^a-zA-Z])/,others:/^[\/~|]/,"\\frac{(...)}":function(e){return rl.patterns.findObserveGroups(e,"\\frac{","","","}","{","","","}")},"\\overset{(...)}":function(e){return rl.patterns.findObserveGroups(e,"\\overset{","","","}","{","","","}")},"\\underset{(...)}":function(e){return rl.patterns.findObserveGroups(e,"\\underset{","","","}","{","","","}")},"\\underbrace{(...)}":function(e){return rl.patterns.findObserveGroups(e,"\\underbrace{","","","}_","{","","","}")},"\\color{(...)}0":function(e){return rl.patterns.findObserveGroups(e,"\\color{","","","}")},"\\color{(...)}{(...)}1":function(e){return rl.patterns.findObserveGroups(e,"\\color{","","","}","{","","","}")},"\\color(...){(...)}2":function(e){return rl.patterns.findObserveGroups(e,"\\color","\\","",/^(?=\{)/,"{","","","}")},"\\ce{(...)}":function(e){return rl.patterns.findObserveGroups(e,"\\ce{","","","}")},oxidation$:/^(?:[+-][IVX]+|\\pm\s*0|\$\\pm\$\s*0)$/,"d-oxidation$":/^(?:[+-]?\s?[IVX]+|\\pm\s*0|\$\\pm\$\s*0)$/,"roman numeral":/^[IVX]+/,"1/2$":/^[+\-]?(?:[0-9]+|\$[a-z]\$|[a-z])\/[0-9]+(?:\$[a-z]\$|[a-z])?$/,amount:function(e){var t;if(t=e.match(/^(?:(?:(?:\([+\-]?[0-9]+\/[0-9]+\)|[+\-]?(?:[0-9]+|\$[a-z]\$|[a-z])\/[0-9]+|[+\-]?[0-9]+[.,][0-9]+|[+\-]?\.[0-9]+|[+\-]?[0-9]+)(?:[a-z](?=\s*[A-Z]))?)|[+\-]?[a-z](?=\s*[A-Z])|\+(?!\s))/))return{match_:t[0],remainder:e.substr(t[0].length)};var r=rl.patterns.findObserveGroups(e,"","$","$","");return r&&(t=r.match_.match(/^\$(?:\(?[+\-]?(?:[0-9]*[a-z]?[+\-])?[0-9]*[a-z](?:[+\-][0-9]*[a-z]?)?\)?|\+|-)\$$/))?{match_:t[0],remainder:e.substr(t[0].length)}:null},amount2:function(e){return this.amount(e)},"(KV letters),":/^(?:[A-Z][a-z]{0,2}|i)(?=,)/,formula$:function(e){if(e.match(/^\([a-z]+\)$/))return null;var t=e.match(/^(?:[a-z]|(?:[0-9\ \+\-\,\.\(\)]+[a-z])+[0-9\ \+\-\,\.\(\)]*|(?:[a-z][0-9\ \+\-\,\.\(\)]+)+[a-z]?)$/);return t?{match_:t[0],remainder:e.substr(t[0].length)}:null},uprightEntities:/^(?:pH|pOH|pC|pK|iPr|iBu)(?=$|[^a-zA-Z])/,"/":/^\s*(\/)\s*/,"//":/^\s*(\/\/)\s*/,"*":/^\s*[*.]\s*/},findObserveGroups:function(e,t,r,i,a,s,n,o,l,c){var u=function(e,t){if("string"==typeof t)return 0!==e.indexOf(t)?null:t;var r=e.match(t);return r?r[0]:null},h=u(e,t);if(null===h||(e=e.substr(h.length),null===(h=u(e,r))))return null;var d=function(e,t,r){for(var i=0;t<e.length;){var a=e.charAt(t),s=u(e.substr(t),r);if(null!==s&&0===i)return{endMatchBegin:t,endMatchEnd:t+s.length};if("{"===a)i++;else if("}"===a){if(0===i)throw["ExtraCloseMissingOpen","Extra close brace or missing open brace"];i--}t++}return null}(e,h.length,i||a);if(null===d)return null;var m=e.substring(0,i?d.endMatchEnd:d.endMatchBegin);if(s||n){var p=this.findObserveGroups(e.substr(d.endMatchEnd),s,n,o,l);if(null===p)return null;var g=[m,p.match_];return{match_:c?g.join(""):g,remainder:p.remainder}}return{match_:m,remainder:e.substr(d.endMatchEnd)}},match_:function(e,t){var r=rl.patterns.patterns[e];if(void 0===r)throw["MhchemBugP","mhchem bug P. Please report. ("+e+")"];if("function"==typeof r)return rl.patterns.patterns[e](t);var i=t.match(r);return i?{match_:i[2]?[i[1],i[2]]:i[1]?i[1]:i[0],remainder:t.substr(i[0].length)}:null}},actions:{"a=":function(e,t){e.a=(e.a||"")+t},"b=":function(e,t){e.b=(e.b||"")+t},"p=":function(e,t){e.p=(e.p||"")+t},"o=":function(e,t){e.o=(e.o||"")+t},"q=":function(e,t){e.q=(e.q||"")+t},"d=":function(e,t){e.d=(e.d||"")+t},"rm=":function(e,t){e.rm=(e.rm||"")+t},"text=":function(e,t){e.text_=(e.text_||"")+t},insert:function(e,t,r){return{type_:r}},"insert+p1":function(e,t,r){return{type_:r,p1:t}},"insert+p1+p2":function(e,t,r){return{type_:r,p1:t[0],p2:t[1]}},copy:function(e,t){return t},rm:function(e,t){return{type_:"rm",p1:t||""}},text:function(e,t){return rl.go(t,"text")},"{text}":function(e,t){var r=["{"];return rl.concatArray(r,rl.go(t,"text")),r.push("}"),r},"tex-math":function(e,t){return rl.go(t,"tex-math")},"tex-math tight":function(e,t){return rl.go(t,"tex-math tight")},bond:function(e,t,r){return{type_:"bond",kind_:r||t}},"color0-output":function(e,t){return{type_:"color0",color:t[0]}},ce:function(e,t){return rl.go(t)},"1/2":function(e,t){var r=[];t.match(/^[+\-]/)&&(r.push(t.substr(0,1)),t=t.substr(1));var i=t.match(/^([0-9]+|\$[a-z]\$|[a-z])\/([0-9]+)(\$[a-z]\$|[a-z])?$/);return i[1]=i[1].replace(/\$/g,""),r.push({type_:"frac",p1:i[1],p2:i[2]}),i[3]&&(i[3]=i[3].replace(/\$/g,""),r.push({type_:"tex-math",p1:i[3]})),r},"9,9":function(e,t){return rl.go(t,"9,9")}},createTransitions:function(e){var t,r,i,a,s={};for(t in e)for(r in e[t])for(i=r.split("|"),e[t][r].stateArray=i,a=0;a<i.length;a++)s[i[a]]=[];for(t in e)for(r in e[t])for(i=e[t][r].stateArray||[],a=0;a<i.length;a++){var n=e[t][r];if(n.action_){n.action_=[].concat(n.action_);for(var o=0;o<n.action_.length;o++)"string"==typeof n.action_[o]&&(n.action_[o]={type_:n.action_[o]})}else n.action_=[];for(var l=t.split("|"),c=0;c<l.length;c++)if("*"===i[a])for(var u in s)s[u].push({pattern:l[c],task:n});else s[i[a]].push({pattern:l[c],task:n})}return s},stateMachines:{}};rl.stateMachines={ce:{transitions:rl.createTransitions({empty:{"*":{action_:"output"}},else:{"0|1|2":{action_:"beginsWithBond=false",revisit:!0,toContinue:!0}},oxidation$:{0:{action_:"oxidation-output"}},CMT:{r:{action_:"rdt=",nextState:"rt"},rd:{action_:"rqt=",nextState:"rdt"}},arrowUpDown:{"0|1|2|as":{action_:["sb=false","output","operator"],nextState:"1"}},uprightEntities:{"0|1|2":{action_:["o=","output"],nextState:"1"}},orbital:{"0|1|2|3":{action_:"o=",nextState:"o"}},"->":{"0|1|2|3":{action_:"r=",nextState:"r"},"a|as":{action_:["output","r="],nextState:"r"},"*":{action_:["output","r="],nextState:"r"}},"+":{o:{action_:"d= kv",nextState:"d"},"d|D":{action_:"d=",nextState:"d"},q:{action_:"d=",nextState:"qd"},"qd|qD":{action_:"d=",nextState:"qd"},dq:{action_:["output","d="],nextState:"d"},3:{action_:["sb=false","output","operator"],nextState:"0"}},amount:{"0|2":{action_:"a=",nextState:"a"}},"pm-operator":{"0|1|2|a|as":{action_:["sb=false","output",{type_:"operator",option:"\\pm"}],nextState:"0"}},operator:{"0|1|2|a|as":{action_:["sb=false","output","operator"],nextState:"0"}},"-$":{"o|q":{action_:["charge or bond","output"],nextState:"qd"},d:{action_:"d=",nextState:"d"},D:{action_:["output",{type_:"bond",option:"-"}],nextState:"3"},q:{action_:"d=",nextState:"qd"},qd:{action_:"d=",nextState:"qd"},"qD|dq":{action_:["output",{type_:"bond",option:"-"}],nextState:"3"}},"-9":{"3|o":{action_:["output",{type_:"insert",option:"hyphen"}],nextState:"3"}},"- orbital overlap":{o:{action_:["output",{type_:"insert",option:"hyphen"}],nextState:"2"},d:{action_:["output",{type_:"insert",option:"hyphen"}],nextState:"2"}},"-":{"0|1|2":{action_:[{type_:"output",option:1},"beginsWithBond=true",{type_:"bond",option:"-"}],nextState:"3"},3:{action_:{type_:"bond",option:"-"}},a:{action_:["output",{type_:"insert",option:"hyphen"}],nextState:"2"},as:{action_:[{type_:"output",option:2},{type_:"bond",option:"-"}],nextState:"3"},b:{action_:"b="},o:{action_:{type_:"- after o/d",option:!1},nextState:"2"},q:{action_:{type_:"- after o/d",option:!1},nextState:"2"},"d|qd|dq":{action_:{type_:"- after o/d",option:!0},nextState:"2"},"D|qD|p":{action_:["output",{type_:"bond",option:"-"}],nextState:"3"}},amount2:{"1|3":{action_:"a=",nextState:"a"}},letters:{"0|1|2|3|a|as|b|p|bp|o":{action_:"o=",nextState:"o"},"q|dq":{action_:["output","o="],nextState:"o"},"d|D|qd|qD":{action_:"o after d",nextState:"o"}},digits:{o:{action_:"q=",nextState:"q"},"d|D":{action_:"q=",nextState:"dq"},q:{action_:["output","o="],nextState:"o"},a:{action_:"o=",nextState:"o"}},"space A":{"b|p|bp":{}},space:{a:{nextState:"as"},0:{action_:"sb=false"},"1|2":{action_:"sb=true"},"r|rt|rd|rdt|rdq":{action_:"output",nextState:"0"},"*":{action_:["output","sb=true"],nextState:"1"}},"1st-level escape":{"1|2":{action_:["output",{type_:"insert+p1",option:"1st-level escape"}]},"*":{action_:["output",{type_:"insert+p1",option:"1st-level escape"}],nextState:"0"}},"[(...)]":{"r|rt":{action_:"rd=",nextState:"rd"},"rd|rdt":{action_:"rq=",nextState:"rdq"}},"...":{"o|d|D|dq|qd|qD":{action_:["output",{type_:"bond",option:"..."}],nextState:"3"},"*":{action_:[{type_:"output",option:1},{type_:"insert",option:"ellipsis"}],nextState:"1"}},". |* ":{"*":{action_:["output",{type_:"insert",option:"addition compound"}],nextState:"1"}},"state of aggregation $":{"*":{action_:["output","state of aggregation"],nextState:"1"}},"{[(":{"a|as|o":{action_:["o=","output","parenthesisLevel++"],nextState:"2"},"0|1|2|3":{action_:["o=","output","parenthesisLevel++"],nextState:"2"},"*":{action_:["output","o=","output","parenthesisLevel++"],nextState:"2"}},")]}":{"0|1|2|3|b|p|bp|o":{action_:["o=","parenthesisLevel--"],nextState:"o"},"a|as|d|D|q|qd|qD|dq":{action_:["output","o=","parenthesisLevel--"],nextState:"o"}},", ":{"*":{action_:["output","comma"],nextState:"0"}},"^_":{"*":{}},"^{(...)}|^($...$)":{"0|1|2|as":{action_:"b=",nextState:"b"},p:{action_:"b=",nextState:"bp"},"3|o":{action_:"d= kv",nextState:"D"},q:{action_:"d=",nextState:"qD"},"d|D|qd|qD|dq":{action_:["output","d="],nextState:"D"}},"^a|^\\x{}{}|^\\x{}|^\\x|'":{"0|1|2|as":{action_:"b=",nextState:"b"},p:{action_:"b=",nextState:"bp"},"3|o":{action_:"d= kv",nextState:"d"},q:{action_:"d=",nextState:"qd"},"d|qd|D|qD":{action_:"d="},dq:{action_:["output","d="],nextState:"d"}},"_{(state of aggregation)}$":{"d|D|q|qd|qD|dq":{action_:["output","q="],nextState:"q"}},"_{(...)}|_($...$)|_9|_\\x{}{}|_\\x{}|_\\x":{"0|1|2|as":{action_:"p=",nextState:"p"},b:{action_:"p=",nextState:"bp"},"3|o":{action_:"q=",nextState:"q"},"d|D":{action_:"q=",nextState:"dq"},"q|qd|qD|dq":{action_:["output","q="],nextState:"q"}},"=<>":{"0|1|2|3|a|as|o|q|d|D|qd|qD|dq":{action_:[{type_:"output",option:2},"bond"],nextState:"3"}},"#":{"0|1|2|3|a|as|o":{action_:[{type_:"output",option:2},{type_:"bond",option:"#"}],nextState:"3"}},"{}":{"*":{action_:{type_:"output",option:1},nextState:"1"}},"{...}":{"0|1|2|3|a|as|b|p|bp":{action_:"o=",nextState:"o"},"o|d|D|q|qd|qD|dq":{action_:["output","o="],nextState:"o"}},"$...$":{a:{action_:"a="},"0|1|2|3|as|b|p|bp|o":{action_:"o=",nextState:"o"},"as|o":{action_:"o="},"q|d|D|qd|qD|dq":{action_:["output","o="],nextState:"o"}},"\\bond{(...)}":{"*":{action_:[{type_:"output",option:2},"bond"],nextState:"3"}},"\\frac{(...)}":{"*":{action_:[{type_:"output",option:1},"frac-output"],nextState:"3"}},"\\overset{(...)}":{"*":{action_:[{type_:"output",option:2},"overset-output"],nextState:"3"}},"\\underset{(...)}":{"*":{action_:[{type_:"output",option:2},"underset-output"],nextState:"3"}},"\\underbrace{(...)}":{"*":{action_:[{type_:"output",option:2},"underbrace-output"],nextState:"3"}},"\\color{(...)}{(...)}1|\\color(...){(...)}2":{"*":{action_:[{type_:"output",option:2},"color-output"],nextState:"3"}},"\\color{(...)}0":{"*":{action_:[{type_:"output",option:2},"color0-output"]}},"\\ce{(...)}":{"*":{action_:[{type_:"output",option:2},"ce"],nextState:"3"}},"\\,":{"*":{action_:[{type_:"output",option:1},"copy"],nextState:"1"}},"\\x{}{}|\\x{}|\\x":{"0|1|2|3|a|as|b|p|bp|o|c0":{action_:["o=","output"],nextState:"3"},"*":{action_:["output","o=","output"],nextState:"3"}},others:{"*":{action_:[{type_:"output",option:1},"copy"],nextState:"3"}},else2:{a:{action_:"a to o",nextState:"o",revisit:!0},as:{action_:["output","sb=true"],nextState:"1",revisit:!0},"r|rt|rd|rdt|rdq":{action_:["output"],nextState:"0",revisit:!0},"*":{action_:["output","copy"],nextState:"3"}}}),actions:{"o after d":function(e,t){var r;if((e.d||"").match(/^[0-9]+$/)){var i=e.d;e.d=void 0,r=this.output(e),e.b=i}else r=this.output(e);return rl.actions["o="](e,t),r},"d= kv":function(e,t){e.d=t,e.dType="kv"},"charge or bond":function(e,t){if(e.beginsWithBond){var r=[];return rl.concatArray(r,this.output(e)),rl.concatArray(r,rl.actions.bond(e,t,"-")),r}e.d=t},"- after o/d":function(e,t,r){var i=rl.patterns.match_("orbital",e.o||""),a=rl.patterns.match_("one lowercase greek letter $",e.o||""),s=rl.patterns.match_("one lowercase latin letter $",e.o||""),n=rl.patterns.match_("$one lowercase latin letter$ $",e.o||""),o="-"===t&&(i&&""===i.remainder||a||s||n);o&&!e.a&&!e.b&&!e.p&&!e.d&&!e.q&&!i&&s&&(e.o="$"+e.o+"$");var l=[];return o?(rl.concatArray(l,this.output(e)),l.push({type_:"hyphen"})):(i=rl.patterns.match_("digits",e.d||""),r&&i&&""===i.remainder?(rl.concatArray(l,rl.actions["d="](e,t)),rl.concatArray(l,this.output(e))):(rl.concatArray(l,this.output(e)),rl.concatArray(l,rl.actions.bond(e,t,"-")))),l},"a to o":function(e){e.o=e.a,e.a=void 0},"sb=true":function(e){e.sb=!0},"sb=false":function(e){e.sb=!1},"beginsWithBond=true":function(e){e.beginsWithBond=!0},"beginsWithBond=false":function(e){e.beginsWithBond=!1},"parenthesisLevel++":function(e){e.parenthesisLevel++},"parenthesisLevel--":function(e){e.parenthesisLevel--},"state of aggregation":function(e,t){return{type_:"state of aggregation",p1:rl.go(t,"o")}},comma:function(e,t){var r=t.replace(/\s*$/,"");return r!==t&&0===e.parenthesisLevel?{type_:"comma enumeration L",p1:r}:{type_:"comma enumeration M",p1:r}},output:function(e,t,r){var i,a,s;e.r?(a="M"===e.rdt?rl.go(e.rd,"tex-math"):"T"===e.rdt?[{type_:"text",p1:e.rd||""}]:rl.go(e.rd),s="M"===e.rqt?rl.go(e.rq,"tex-math"):"T"===e.rqt?[{type_:"text",p1:e.rq||""}]:rl.go(e.rq),i={type_:"arrow",r:e.r,rd:a,rq:s}):(i=[],!e.a&&!e.b&&!e.p&&!e.o&&!e.q&&!e.d&&!r||(e.sb&&i.push({type_:"entitySkip"}),e.o||e.q||e.d||e.b||e.p||2===r?e.o||e.q||e.d||!e.b&&!e.p?e.o&&"kv"===e.dType&&rl.patterns.match_("d-oxidation$",e.d||"")?e.dType="oxidation":e.o&&"kv"===e.dType&&!e.q&&(e.dType=void 0):(e.o=e.a,e.d=e.b,e.q=e.p,e.a=e.b=e.p=void 0):(e.o=e.a,e.a=void 0),i.push({type_:"chemfive",a:rl.go(e.a,"a"),b:rl.go(e.b,"bd"),p:rl.go(e.p,"pq"),o:rl.go(e.o,"o"),q:rl.go(e.q,"pq"),d:rl.go(e.d,"oxidation"===e.dType?"oxidation":"bd"),dType:e.dType})));for(var n in e)"parenthesisLevel"!==n&&"beginsWithBond"!==n&&delete e[n];return i},"oxidation-output":function(e,t){var r=["{"];return rl.concatArray(r,rl.go(t,"oxidation")),r.push("}"),r},"frac-output":function(e,t){return{type_:"frac-ce",p1:rl.go(t[0]),p2:rl.go(t[1])}},"overset-output":function(e,t){return{type_:"overset",p1:rl.go(t[0]),p2:rl.go(t[1])}},"underset-output":function(e,t){return{type_:"underset",p1:rl.go(t[0]),p2:rl.go(t[1])}},"underbrace-output":function(e,t){return{type_:"underbrace",p1:rl.go(t[0]),p2:rl.go(t[1])}},"color-output":function(e,t){return{type_:"color",color1:t[0],color2:rl.go(t[1])}},"r=":function(e,t){e.r=t},"rdt=":function(e,t){e.rdt=t},"rd=":function(e,t){e.rd=t},"rqt=":function(e,t){e.rqt=t},"rq=":function(e,t){e.rq=t},operator:function(e,t,r){return{type_:"operator",kind_:r||t}}}},a:{transitions:rl.createTransitions({empty:{"*":{}},"1/2$":{0:{action_:"1/2"}},else:{0:{nextState:"1",revisit:!0}},"$(...)$":{"*":{action_:"tex-math tight",nextState:"1"}},",":{"*":{action_:{type_:"insert",option:"commaDecimal"}}},else2:{"*":{action_:"copy"}}}),actions:{}},o:{transitions:rl.createTransitions({empty:{"*":{}},"1/2$":{0:{action_:"1/2"}},else:{0:{nextState:"1",revisit:!0}},letters:{"*":{action_:"rm"}},"\\ca":{"*":{action_:{type_:"insert",option:"circa"}}},"\\x{}{}|\\x{}|\\x":{"*":{action_:"copy"}},"${(...)}$|$(...)$":{"*":{action_:"tex-math"}},"{(...)}":{"*":{action_:"{text}"}},else2:{"*":{action_:"copy"}}}),actions:{}},text:{transitions:rl.createTransitions({empty:{"*":{action_:"output"}},"{...}":{"*":{action_:"text="}},"${(...)}$|$(...)$":{"*":{action_:"tex-math"}},"\\greek":{"*":{action_:["output","rm"]}},"\\,|\\x{}{}|\\x{}|\\x":{"*":{action_:["output","copy"]}},else:{"*":{action_:"text="}}}),actions:{output:function(e){if(e.text_){var t={type_:"text",p1:e.text_};for(var r in e)delete e[r];return t}}}},pq:{transitions:rl.createTransitions({empty:{"*":{}},"state of aggregation $":{"*":{action_:"state of aggregation"}},i$:{0:{nextState:"!f",revisit:!0}},"(KV letters),":{0:{action_:"rm",nextState:"0"}},formula$:{0:{nextState:"f",revisit:!0}},"1/2$":{0:{action_:"1/2"}},else:{0:{nextState:"!f",revisit:!0}},"${(...)}$|$(...)$":{"*":{action_:"tex-math"}},"{(...)}":{"*":{action_:"text"}},"a-z":{f:{action_:"tex-math"}},letters:{"*":{action_:"rm"}},"-9.,9":{"*":{action_:"9,9"}},",":{"*":{action_:{type_:"insert+p1",option:"comma enumeration S"}}},"\\color{(...)}{(...)}1|\\color(...){(...)}2":{"*":{action_:"color-output"}},"\\color{(...)}0":{"*":{action_:"color0-output"}},"\\ce{(...)}":{"*":{action_:"ce"}},"\\,|\\x{}{}|\\x{}|\\x":{"*":{action_:"copy"}},else2:{"*":{action_:"copy"}}}),actions:{"state of aggregation":function(e,t){return{type_:"state of aggregation subscript",p1:rl.go(t,"o")}},"color-output":function(e,t){return{type_:"color",color1:t[0],color2:rl.go(t[1],"pq")}}}},bd:{transitions:rl.createTransitions({empty:{"*":{}},x$:{0:{nextState:"!f",revisit:!0}},formula$:{0:{nextState:"f",revisit:!0}},else:{0:{nextState:"!f",revisit:!0}},"-9.,9 no missing 0":{"*":{action_:"9,9"}},".":{"*":{action_:{type_:"insert",option:"electron dot"}}},"a-z":{f:{action_:"tex-math"}},x:{"*":{action_:{type_:"insert",option:"KV x"}}},letters:{"*":{action_:"rm"}},"'":{"*":{action_:{type_:"insert",option:"prime"}}},"${(...)}$|$(...)$":{"*":{action_:"tex-math"}},"{(...)}":{"*":{action_:"text"}},"\\color{(...)}{(...)}1|\\color(...){(...)}2":{"*":{action_:"color-output"}},"\\color{(...)}0":{"*":{action_:"color0-output"}},"\\ce{(...)}":{"*":{action_:"ce"}},"\\,|\\x{}{}|\\x{}|\\x":{"*":{action_:"copy"}},else2:{"*":{action_:"copy"}}}),actions:{"color-output":function(e,t){return{type_:"color",color1:t[0],color2:rl.go(t[1],"bd")}}}},oxidation:{transitions:rl.createTransitions({empty:{"*":{}},"roman numeral":{"*":{action_:"roman-numeral"}},"${(...)}$|$(...)$":{"*":{action_:"tex-math"}},else:{"*":{action_:"copy"}}}),actions:{"roman-numeral":function(e,t){return{type_:"roman numeral",p1:t||""}}}},"tex-math":{transitions:rl.createTransitions({empty:{"*":{action_:"output"}},"\\ce{(...)}":{"*":{action_:["output","ce"]}},"{...}|\\,|\\x{}{}|\\x{}|\\x":{"*":{action_:"o="}},else:{"*":{action_:"o="}}}),actions:{output:function(e){if(e.o){var t={type_:"tex-math",p1:e.o};for(var r in e)delete e[r];return t}}}},"tex-math tight":{transitions:rl.createTransitions({empty:{"*":{action_:"output"}},"\\ce{(...)}":{"*":{action_:["output","ce"]}},"{...}|\\,|\\x{}{}|\\x{}|\\x":{"*":{action_:"o="}},"-|+":{"*":{action_:"tight operator"}},else:{"*":{action_:"o="}}}),actions:{"tight operator":function(e,t){e.o=(e.o||"")+"{"+t+"}"},output:function(e){if(e.o){var t={type_:"tex-math",p1:e.o};for(var r in e)delete e[r];return t}}}},"9,9":{transitions:rl.createTransitions({empty:{"*":{}},",":{"*":{action_:"comma"}},else:{"*":{action_:"copy"}}}),actions:{comma:function(){return{type_:"commaDecimal"}}}},pu:{transitions:rl.createTransitions({empty:{"*":{action_:"output"}},space$:{"*":{action_:["output","space"]}},"{[(|)]}":{"0|a":{action_:"copy"}},"(-)(9)^(-9)":{0:{action_:"number^",nextState:"a"}},"(-)(9.,9)(e)(99)":{0:{action_:"enumber",nextState:"a"}},space:{"0|a":{}},"pm-operator":{"0|a":{action_:{type_:"operator",option:"\\pm"},nextState:"0"}},operator:{"0|a":{action_:"copy",nextState:"0"}},"//":{d:{action_:"o=",nextState:"/"}},"/":{d:{action_:"o=",nextState:"/"}},"{...}|else":{"0|d":{action_:"d=",nextState:"d"},a:{action_:["space","d="],nextState:"d"},"/|q":{action_:"q=",nextState:"q"}}}),actions:{enumber:function(e,t){var r=[];return"+-"===t[0]||"+/-"===t[0]?r.push("\\pm "):t[0]&&r.push(t[0]),t[1]&&(rl.concatArray(r,rl.go(t[1],"pu-9,9")),t[2]&&(t[2].match(/[,.]/)?rl.concatArray(r,rl.go(t[2],"pu-9,9")):r.push(t[2])),(t[3]||t[4])&&("e"===t[3]||"*"===t[4]?r.push({type_:"cdot"}):r.push({type_:"times"}))),t[5]&&r.push("10^{"+t[5]+"}"),r},"number^":function(e,t){var r=[];return"+-"===t[0]||"+/-"===t[0]?r.push("\\pm "):t[0]&&r.push(t[0]),rl.concatArray(r,rl.go(t[1],"pu-9,9")),r.push("^{"+t[2]+"}"),r},operator:function(e,t,r){return{type_:"operator",kind_:r||t}},space:function(){return{type_:"pu-space-1"}},output:function(e){var t,r=rl.patterns.match_("{(...)}",e.d||"");r&&""===r.remainder&&(e.d=r.match_);var i=rl.patterns.match_("{(...)}",e.q||"");if(i&&""===i.remainder&&(e.q=i.match_),e.d&&(e.d=e.d.replace(/\u00B0C|\^oC|\^{o}C/g,"{}^{\\circ}C"),e.d=e.d.replace(/\u00B0F|\^oF|\^{o}F/g,"{}^{\\circ}F")),e.q){e.q=e.q.replace(/\u00B0C|\^oC|\^{o}C/g,"{}^{\\circ}C"),e.q=e.q.replace(/\u00B0F|\^oF|\^{o}F/g,"{}^{\\circ}F");var a={d:rl.go(e.d,"pu"),q:rl.go(e.q,"pu")};"//"===e.o?t={type_:"pu-frac",p1:a.d,p2:a.q}:(t=a.d,a.d.length>1||a.q.length>1?t.push({type_:" / "}):t.push({type_:"/"}),rl.concatArray(t,a.q))}else t=rl.go(e.d,"pu-2");for(var s in e)delete e[s];return t}}},"pu-2":{transitions:rl.createTransitions({empty:{"*":{action_:"output"}},"*":{"*":{action_:["output","cdot"],nextState:"0"}},"\\x":{"*":{action_:"rm="}},space:{"*":{action_:["output","space"],nextState:"0"}},"^{(...)}|^(-1)":{1:{action_:"^(-1)"}},"-9.,9":{0:{action_:"rm=",nextState:"0"},1:{action_:"^(-1)",nextState:"0"}},"{...}|else":{"*":{action_:"rm=",nextState:"1"}}}),actions:{cdot:function(){return{type_:"tight cdot"}},"^(-1)":function(e,t){e.rm+="^{"+t+"}"},space:function(){return{type_:"pu-space-2"}},output:function(e){var t=[];if(e.rm){var r=rl.patterns.match_("{(...)}",e.rm||"");t=r&&""===r.remainder?rl.go(r.match_,"pu"):{type_:"rm",p1:e.rm}}for(var i in e)delete e[i];return t}}},"pu-9,9":{transitions:rl.createTransitions({empty:{0:{action_:"output-0"},o:{action_:"output-o"}},",":{0:{action_:["output-0","comma"],nextState:"o"}},".":{0:{action_:["output-0","copy"],nextState:"o"}},else:{"*":{action_:"text="}}}),actions:{comma:function(){return{type_:"commaDecimal"}},"output-0":function(e){var t=[];if(e.text_=e.text_||"",e.text_.length>4){var r=e.text_.length%3;0===r&&(r=3);for(var i=e.text_.length-3;i>0;i-=3)t.push(e.text_.substr(i,3)),t.push({type_:"1000 separator"});t.push(e.text_.substr(0,r)),t.reverse()}else t.push(e.text_);for(var a in e)delete e[a];return t},"output-o":function(e){var t=[];if(e.text_=e.text_||"",e.text_.length>4){for(var r=e.text_.length-3,i=0;i<r;i+=3)t.push(e.text_.substr(i,3)),t.push({type_:"1000 separator"});t.push(e.text_.substr(i))}else t.push(e.text_);for(var a in e)delete e[a];return t}}}};var il={go:function(e,t){if(!e)return"";for(var r="",i=!1,a=0;a<e.length;a++){var s=e[a];"string"==typeof s?r+=s:(r+=il._go2(s),"1st-level escape"===s.type_&&(i=!0))}return!t&&!i&&r&&(r="{"+r+"}"),r},_goInner:function(e){return e&&il.go(e,!0)},_go2:function(e){var t;switch(e.type_){case"chemfive":t="";var r={a:il._goInner(e.a),b:il._goInner(e.b),p:il._goInner(e.p),o:il._goInner(e.o),q:il._goInner(e.q),d:il._goInner(e.d)};r.a&&(r.a.match(/^[+\-]/)&&(r.a="{"+r.a+"}"),t+=r.a+"\\,"),(r.b||r.p)&&(t+="{\\vphantom{X}}",t+="^{\\hphantom{"+(r.b||"")+"}}_{\\hphantom{"+(r.p||"")+"}}",t+="{\\vphantom{X}}",t+="^{\\smash[t]{\\vphantom{2}}\\llap{"+(r.b||"")+"}}",t+="_{\\vphantom{2}\\llap{\\smash[t]{"+(r.p||"")+"}}}"),r.o&&(r.o.match(/^[+\-]/)&&(r.o="{"+r.o+"}"),t+=r.o),"kv"===e.dType?((r.d||r.q)&&(t+="{\\vphantom{X}}"),r.d&&(t+="^{"+r.d+"}"),r.q&&(t+="_{\\smash[t]{"+r.q+"}}")):"oxidation"===e.dType?(r.d&&(t+="{\\vphantom{X}}",t+="^{"+r.d+"}"),r.q&&(t+="{\\vphantom{X}}",t+="_{\\smash[t]{"+r.q+"}}")):(r.q&&(t+="{\\vphantom{X}}",t+="_{\\smash[t]{"+r.q+"}}"),r.d&&(t+="{\\vphantom{X}}",t+="^{"+r.d+"}"));break;case"rm":case"roman numeral":t="\\mathrm{"+e.p1+"}";break;case"text":e.p1.match(/[\^_]/)?(e.p1=e.p1.replace(" ","~").replace("-","\\text{-}"),t="\\mathrm{"+e.p1+"}"):t="\\text{"+e.p1+"}";break;case"state of aggregation":t="\\mskip2mu "+il._goInner(e.p1);break;case"state of aggregation subscript":t="\\mskip1mu "+il._goInner(e.p1);break;case"bond":if(!(t=il._getBond(e.kind_)))throw["MhchemErrorBond","mhchem Error. Unknown bond type ("+e.kind_+")"];break;case"frac":var i="\\frac{"+e.p1+"}{"+e.p2+"}";t="\\mathchoice{\\textstyle"+i+"}{"+i+"}{"+i+"}{"+i+"}";break;case"pu-frac":var a="\\frac{"+il._goInner(e.p1)+"}{"+il._goInner(e.p2)+"}";t="\\mathchoice{\\textstyle"+a+"}{"+a+"}{"+a+"}{"+a+"}";break;case"tex-math":case"1st-level escape":t=e.p1+" ";break;case"frac-ce":t="\\frac{"+il._goInner(e.p1)+"}{"+il._goInner(e.p2)+"}";break;case"overset":t="\\overset{"+il._goInner(e.p1)+"}{"+il._goInner(e.p2)+"}";break;case"underset":t="\\underset{"+il._goInner(e.p1)+"}{"+il._goInner(e.p2)+"}";break;case"underbrace":t="\\underbrace{"+il._goInner(e.p1)+"}_{"+il._goInner(e.p2)+"}";break;case"color":t="{\\color{"+e.color1+"}{"+il._goInner(e.color2)+"}}";break;case"color0":t="\\color{"+e.color+"}";break;case"arrow":var s={rd:il._goInner(e.rd),rq:il._goInner(e.rq)},n=il._getArrow(e.r);s.rd||s.rq?"<=>"===e.r||"<=>>"===e.r||"<<=>"===e.r||"<--\x3e"===e.r?(n="\\long"+n,s.rd&&(n="\\overset{"+s.rd+"}{"+n+"}"),s.rq&&(n="<--\x3e"===e.r?"\\underset{\\lower2mu{"+s.rq+"}}{"+n+"}":"\\underset{\\lower6mu{"+s.rq+"}}{"+n+"}"),n=" {}\\mathrel{"+n+"}{} "):(s.rq&&(n+="[{"+s.rq+"}]"),n=" {}\\mathrel{\\x"+(n+="{"+s.rd+"}")+"}{} "):n=" {}\\mathrel{\\long"+n+"}{} ",t=n;break;case"operator":t=il._getOperator(e.kind_);break;case"space":t=" ";break;case"entitySkip":case"pu-space-1":t="~";break;case"pu-space-2":t="\\mkern3mu ";break;case"1000 separator":t="\\mkern2mu ";break;case"commaDecimal":t="{,}";break;case"comma enumeration L":t="{"+e.p1+"}\\mkern6mu ";break;case"comma enumeration M":t="{"+e.p1+"}\\mkern3mu ";break;case"comma enumeration S":t="{"+e.p1+"}\\mkern1mu ";break;case"hyphen":t="\\text{-}";break;case"addition compound":t="\\,{\\cdot}\\,";break;case"electron dot":t="\\mkern1mu \\bullet\\mkern1mu ";break;case"KV x":t="{\\times}";break;case"prime":t="\\prime ";break;case"cdot":t="\\cdot ";break;case"tight cdot":t="\\mkern1mu{\\cdot}\\mkern1mu ";break;case"times":t="\\times ";break;case"circa":t="{\\sim}";break;case"^":t="uparrow";break;case"v":t="downarrow";break;case"ellipsis":t="\\ldots ";break;case"/":t="/";break;case" / ":t="\\,/\\,";break;default:throw["MhchemBugT","mhchem bug T. Please report."]}return t},_getArrow:function(e){switch(e){case"->":case"":case"":return"rightarrow";case"<-":return"leftarrow";case"<->":return"leftrightarrow";case"<--\x3e":return"leftrightarrows";case"<=>":case"":return"rightleftharpoons";case"<=>>":return"Rightleftharpoons";case"<<=>":return"Leftrightharpoons";default:throw["MhchemBugT","mhchem bug T. Please report."]}},_getBond:function(e){switch(e){case"-":case"1":return"{-}";case"=":case"2":return"{=}";case"#":case"3":return"{\\equiv}";case"~":return"{\\tripledash}";case"~-":return"{\\rlap{\\lower.1em{-}}\\raise.1em{\\tripledash}}";case"~=":case"~--":return"{\\rlap{\\lower.2em{-}}\\rlap{\\raise.2em{\\tripledash}}-}";case"-~-":return"{\\rlap{\\lower.2em{-}}\\rlap{\\raise.2em{-}}\\tripledash}";case"...":return"{{\\cdot}{\\cdot}{\\cdot}}";case"....":return"{{\\cdot}{\\cdot}{\\cdot}{\\cdot}}";case"->":return"{\\rightarrow}";case"<-":return"{\\leftarrow}";case"<":return"{<}";case">":return"{>}";default:throw["MhchemBugT","mhchem bug T. Please report."]}},_getOperator:function(e){switch(e){case"+":return" {}+{} ";case"-":return" {}-{} ";case"=":return" {}={} ";case"<":return" {}<{} ";case">":return" {}>{} ";case"<<":return" {}\\ll{} ";case">>":return" {}\\gg{} ";case"\\pm":return" {}\\pm{} ";case"\\approx":case"$\\approx$":return" {}\\approx{} ";case"v":case"(v)":return" \\downarrow{} ";case"^":case"(^)":return" \\uparrow{} ";default:throw["MhchemBugT","mhchem bug T. Please report."]}}},al=class e extends Wn{constructor(e){super({mode:e.mode,command:e.command,style:e.style,body:e.body,type:"box"}),this.framecolor=e.framecolor,this.backgroundcolor=e.backgroundcolor,this.padding=e.padding,this.offset=e.offset,this.border=e.border}static fromJson(t){return new e(t)}toJson(){return _(w({},super.toJson()),{framecolor:this.framecolor,backgroundcolor:this.backgroundcolor,padding:this.padding,offset:this.offset,border:this.border})}render(e){var t,r,i,a;let s=Wn.createBox(e,this.body,{type:"lift"});if(!s)return null;let n=e.toEm(null!=(t=this.offset)?t:{dimension:0});s.depth+=n,s.setStyle("display","inline-block"),s.setStyle("position","relative"),s.setStyle("height",Math.floor(100*s.height+s.depth)/100,"em"),s.setStyle("vertical-align",-Math.floor(100*s.height)/100,"em");let o=new Nn({parent:e},this.style),l=o.toEm(null!=(r=this.padding)?r:{register:"fboxsep"}),c=new kn(null,{classes:"ML__box"});c.height=s.height+l,c.depth=s.depth+l,c.setStyle("box-sizing","border-box"),c.setStyle("position","absolute"),c.setStyle("top",.3-l,"em"),c.setStyle("left",0),c.setStyle("height",c.height+c.depth,"em"),c.setStyle("width","100%"),this.backgroundcolor&&c.setStyle("background-color",null!=(i=o.toColor(this.backgroundcolor))?i:"transparent"),this.framecolor&&c.setStyle("border",`${o.getRegisterAsEm("fboxrule",2)}em solid ${null!=(a=o.toColor(this.framecolor))?a:"black"}`),this.border&&c.setStyle("border",this.border);let u=new kn([c,s],{type:"lift"});return u.setStyle("display","inline-block"),u.setStyle("position","relative"),u.setStyle("line-height",0),u.height=s.height+l+(n>0?n:0),u.depth=s.depth+l+(n<0?-n:0),u.setStyle("padding-left",l,"em"),u.setStyle("padding-right",l,"em"),u.setStyle("height",Math.floor(100*(s.height+s.depth+2*l+Math.abs(n)))/100,"em"),u.setStyle("margin-top",-l,"em"),u.setStyle("top",Math.floor(100*(s.depth-s.height+2*l-n))/100,"em"),u.setStyle("vertical-align",Math.floor(100*(s.depth+2*l))/100,"em"),this.caret&&(u.caret=this.caret),this.attachSupsub(e,{base:u})}_serialize(e){return e.skipStyles?un([this.bodyToLatex(e),this.supsubToLatex(e)]):super._serialize(e)}},sl=class e extends Wn{constructor(e){var t,r,i,a;super(_(w({},e),{type:"phantom"})),this.captureSelection=!0,this.isInvisible=null!=(t=e.isInvisible)&&t,this.smashDepth=null!=(r=e.smashDepth)&&r,this.smashHeight=null!=(i=e.smashHeight)&&i,this.smashWidth=null!=(a=e.smashWidth)&&a}static fromJson(t){return new e(t)}toJson(){let e={};return this.isInvisible&&(e.isInvisible=!0),this.smashDepth&&(e.smashDepth=!0),this.smashHeight&&(e.smashHeight=!0),this.smashWidth&&(e.smashWidth=!0),w(w({},super.toJson()),e)}render(e){let t=new Nn({parent:e,isPhantom:!0});if(!this.smashDepth&&!this.smashHeight&&!this.smashWidth)return this.isInvisible,Wn.createBox(t,this.body,{classes:"ML__inner"});let r=Wn.createBox(this.isInvisible?t:e,this.body);if(!r)return null;if(this.smashWidth){let t=new kn(null,{classes:"ML__fix"});return new kn([r,t],{classes:"ML__rlap"}).wrap(e)}if(!this.smashHeight&&!this.smashDepth)return r;if(this.smashHeight&&(r.height=0),this.smashDepth&&(r.depth=0),r.children)for(let e of r.children)this.smashHeight&&(e.height=0),this.smashDepth&&(e.depth=0);return new Dn({firstBaseline:[{box:r}]},{type:r.type}).wrap(e)}},nl=class e extends Wn{constructor(e){var t;super(w({type:"spacing"},e)),this.width=e?.width,this._braced=null!=(t=e?.braced)&&t}static fromJson(t){return new e(t)}toJson(){let e=super.toJson();return void 0!==this.width&&(e.width=this.width),this._braced&&(e.braced=!0),e}render(e){var t;if("space"===this.command)return new kn("math"===this.mode?null:" ");let r;if(void 0!==this.width)r=new kn(null,{classes:"ML__mspace"}),r.left=e.toEm(this.width);else{let e=null!=(t={"\\qquad":"ML__qquad","\\quad":"ML__quad","\\enspace":"ML__enspace","\\;":"ML__thickspace","\\:":"ML__mediumspace","\\>":"ML__mediumspace","\\,":"ML__thinspace","\\!":"ML__negativethinspace"}[this.command])?t:"ML__mediumspace";r=new kn(null,{classes:e})}return r=this.bind(e,r),this.caret&&(r.caret=this.caret),r}_serialize(e){var t;if(!e.expandMacro&&"string"==typeof this.verbatimLatex)return this.verbatimLatex;let r=Zs(this.command,this.mode);if(null!=r&&r.serialize)return r.serialize(this,e);let i=null!=(t=this.command)?t:"";return void 0===this.width?i:this._braced&&!("register"in this.width)?`${i}{${On(this.width)}}`:`${i}${On(this.width)}`}},ol=class e extends Wn{constructor(e){let t=e.body;super(_(w({},e),{type:"overlap",body:"string"==typeof t?[new Wn({value:t})]:t,style:e?.style})),this.skipBoundary=!0,this.align=e?.align,this.boxType=e?.boxType}static fromJson(t){return new e(t)}toJson(){let e={};return this.align&&(e.align=this.align),this.boxType&&(e.boxType=this.boxType),w(w({},super.toJson()),e)}render(e){let t=Wn.createBox(e,this.body,{classes:"ML__inner"});return t?(this.caret&&(t.caret=this.caret),this.bind(e,new kn([t,new kn(null,{classes:"ML__fix"})],{classes:"right"===this.align?"ML__rlap":"ML__llap",type:this.boxType}))):null}},ll=class e extends Wn{constructor(e,t){var r;super({type:"composition",mode:null!=(r=t?.mode)?r:"math",value:e})}static fromJson(t){return new e(t.value,t)}toJson(){return super.toJson()}render(e){let t=new kn(this.value,{classes:"ML__composition",type:"composition"});return this.bind(e,t),this.caret&&(t.caret=this.caret),t}_serialize(e){return""}},cl=class e extends Wn{constructor(e,t){var r;super({type:"latex",value:e,mode:"latex"}),this.isSuggestion=null!=(r=t?.isSuggestion)&&r,this.isError=!1}static fromJson(t){let r=new e(t.value);return t.isSuggestion&&(r.isSuggestion=!0),t.isError&&(r.isError=!0),r}toJson(){let e={};return this.isSuggestion&&(e.isSuggestion=!0),this.isError&&(e.isError=!0),w({type:"latex",value:this.value},e)}render(e){let t=new kn(this.value,{classes:this.isSuggestion?"ML__suggestion":this.isError?"ML__error":"",type:"latex",maxFontSize:1});return t?(this.caret&&(t.caret=this.caret),this.bind(e,t)):null}},ul=class e extends Wn{constructor(e=""){super({type:"latexgroup",mode:"latex"}),this.body=[...e].map((e=>new cl(e))),this.skipBoundary=!0}static fromJson(t){return new e}toJson(){return super.toJson()}render(e){let t=Wn.createBox(e,this.body);return t?(this.caret&&(t.caret=this.caret),this.bind(e,t)):null}_serialize(e){var t,r;return null!=(r=null==(t=this.body)?void 0:t.map((e=>e.value)).join(""))?r:""}};function hl(e){if(ls(e))return e.map((e=>hl(e)));if("string"==typeof e)return Wn.fromJson(e);e=w({},e);for(let t of Un)e[t]&&(e[t]=hl(e[t]));e.args&&(e.args=function(e){if(e&&Array.isArray(e))return e.map((e=>"<null>"===e?null:"object"==typeof e&&"group"in e?{group:e.group.map((e=>hl(e)))}:"object"==typeof e&&"atoms"in e?e.atoms.map((e=>hl(e))):e))}(e.args)),e.array&&(e.array=hl(e.array));let t,r=e.type;"accent"===r&&(t=Zn.fromJson(e)),"array"===r&&(t=xo.fromJson(e)),"box"===r&&(t=al.fromJson(e)),"chem"===r&&(t=tl.fromJson(e)),"composition"===r&&(t=ll.fromJson(e)),"delim"===r&&(t=Po.fromJson(e)),"enclose"===r&&(t=bo.fromJson(e)),"error"===r&&(t=No.fromJson(e)),"extensible-symbol"===r&&(t=Do.fromJson(e)),"genfrac"===r&&(t=Fo.fromJson(e)),"genmixfraction"===r&&(t=Oo.fromJson(e)),"group"===r&&(t=Uo.fromJson(e)),"latex"===r&&(t=cl.fromJson(e)),"latexgroup"===r&&(t=ul.fromJson(e)),"leftright"===r&&(t=Yo.fromJson(e)),"macro"===r&&(t=Wo.fromJson(e)),"macro-argument"===r&&(t=Go.fromJson(e)),"operator"===r&&(t=Bo.fromJson(e)),"overlap"===r&&(t=ol.fromJson(e)),"overunder"===r&&(t=fo.fromJson(e)),"placeholder"===r&&(t=_o.fromJson(e)),"prompt"===r&&(t=Jo.fromJson(e)),"phantom"===r&&(t=sl.fromJson(e)),"sizeddelim"===r&&(t=zo.fromJson(e)),"spacing"===r&&(t=nl.fromJson(e)),"subsup"===r&&(t=Xo.fromJson(e)),"surd"===r&&(t=Eo.fromJson(e)),"text"===r&&(t=Zo.fromJson(e)),"tooltip"===r&&(t=bl.fromJson(e)),"variable"===r&&(t=Vo.fromJson(e)),"constant"===r&&(t=Vo.fromJson(e)),"conversion"===r&&(t=Vo.fromJson(e)),t||(t=Wn.fromJson(e));for(let r of Un)e[r]&&t.setChildren(e[r],r);return void 0!==e.verbatimLatex&&(t.verbatimLatex=e.verbatimLatex),e.subsupPlacement&&(t.subsupPlacement=e.subsupPlacement),e.explicitSubsupPlacement&&(t.explicitSubsupPlacement=!0),e.isFunction&&(t.isFunction=!0),e.skipBoundary&&(t.skipBoundary=!0),e.captureSelection&&(t.captureSelection=!0),t}var dl=class extends kn{constructor(e){super(null,{type:"skip"}),this._width=e}toMarkup(){return`<span style="display:inline-block;width:${Math.ceil(100*this.width)/100}em"></span>`}};function ml(e,t){if(!e.parent)return;let r=e.parent.children,i=r.indexOf(e),a=i-1;for(;a>=0&&"ignore"===r[a].type;)a-=1;a<0&&e.parent.parent&&"lift"===e.parent.type?ml(e.parent,t):i>0&&"skip"===r[i-1].type?r[i-1].width+=t:r.splice(i,0,new dl(t))}var pl={ord:{op:3,bin:4,rel:5,inner:3},op:{ord:3,op:3,rel:5,inner:3},bin:{ord:4,op:4,open:4,inner:4},rel:{ord:5,op:5,open:5,inner:5},close:{op:3,bin:4,rel:5,inner:3},punct:{ord:3,op:3,rel:3,open:3,punct:3,inner:3},inner:{ord:3,op:3,bin:4,rel:5,open:3,punct:3,inner:3}},gl={ord:{op:3},op:{ord:3,op:3},close:{op:3},inner:{op:3}};function fl(e,t){if(!e.children)return e;let r=e.children;!function(e){yl(e,((e,t)=>{"bin"===t.type&&(!e||/^(middle|bin|op|rel|open|punct)$/.test(e.type))&&(t.type="ord"),"bin"===e?.type&&/^(rel|close|punct)$/.test(t.type)&&(e.type="ord"),"ignore"!==t.type&&(e=t)}))}(r);let i=t.getRegisterAsEm("thinmuskip"),a=t.getRegisterAsEm("medmuskip"),s=t.getRegisterAsEm("thickmuskip");return yl(r,((e,t)=>{var r,n,o;if(!e)return;let l=e.type,c=t.isTight?null!=(r=gl[l])?r:null:null!=(n=pl[l])?n:null,u=null!=(o=c?.[t.type])?o:null;3===u&&ml(t,i),4===u&&ml(t,a),5===u&&ml(t,s)})),e}function yl(e,t,r=void 0){if(!e)return r;e=[...e];for(let i of e)"lift"===i.type?r=yl(i.children,t,r):"ignore"===i.type?yl(i.children,t):(t(r,i),yl(i.children,t),r=i);return r}var bl=class e extends Wn{constructor(e){super({type:"tooltip",command:e.command,mode:e.mode,style:e.style,body:e.body,displayContainsHighlight:!0}),this.tooltip=new Wn({type:"root",mode:e.content,body:e.tooltip,style:{}}),this.skipBoundary=!0,this.captureSelection=!1}static fromJson(t){return new e(_(w({},t),{tooltip:hl(t.tooltip)}))}toJson(){var e;let t=null==(e=this.tooltip.body)?void 0:e.filter((e=>"first"!==e.type)).map((e=>e.toJson()));return _(w({},super.toJson()),{tooltip:t})}render(e){let t=Wn.createBox(new Nn,this.body);if(!t)return null;let r=new Nn({parent:e,mathstyle:"displaystyle"},{fontSize:5}),i=An(fl(new kn(this.tooltip.render(r),{classes:"ML__tooltip-content"}),r)),a=new kn([i,t],{classes:"ML__tooltip-container"});return this.caret&&(a.caret=this.caret),this.bind(e,a)}};function vl(e){return{up:"up",bold:"bold",italic:void 0,bolditalic:"bold","":void 0}[e??""]}Ws("mathtip","{:auto}{:math}",{createAtom:e=>new bl(_(w({},e),{body:Es(e.args[0]),tooltip:Es(e.args[1]),content:"math"})),serialize:(e,t)=>t.skipStyles?e.bodyToLatex(t):`\\texttip{${e.bodyToLatex(t)}}{${Wn.serialize([e.tooltip],_(w({},t),{defaultMode:"math"}))}}`}),Ws("texttip","{:auto}{:text}",{createAtom:e=>new bl(_(w({},e),{body:Es(e.args[0]),tooltip:Es(e.args[1]),content:"text"})),serialize:(e,t)=>t.skipStyles?e.bodyToLatex(t):`\\texttip{${e.bodyToLatex(t)}}{${Wn.serialize([e.tooltip],_(w({},t),{defaultMode:"text"}))}}`}),Ws("error","{:math}",{createAtom:e=>new Wn(_(w({},e),{body:Es(e.args[0])})),serialize:(e,t)=>`\\error{${e.bodyToLatex(t)}}`,render:(e,t)=>e.createBox(t,{classes:"ML__error"})}),Ws("ensuremath","{:math}",{createAtom:e=>new Wn(_(w({},e),{body:Es(e.args[0])})),serialize:(e,t)=>`${e.command}{${e.bodyToLatex(_(w({},t),{defaultMode:"math"}))}}`}),Ws("color","{:value}",{applyStyle:(e,t,r,i)=>{var a,s;return _(w({},e),{verbatimColor:null!=(a=On(r[0]))?a:void 0,color:i.toColor(null!=(s=r[0])?s:{string:"red"})})}}),Ws("textcolor","{:value}{content:auto*}",{applyStyle:(e,t,r,i)=>{var a,s;return _(w({},e),{verbatimColor:null!=(a=On(r[0]))?a:void 0,color:i.toColor(null!=(s=r[0])?s:{string:"red"})})}}),Ws("boxed","{content:math}",{createAtom:e=>new al(_(w({},e),{body:Es(e.args[0]),framecolor:{string:"black"}}))}),Ws("colorbox","{:value}{:text*}",{applyStyle:(e,t,r,i)=>{var a,s;return _(w({},e),{verbatimBackgroundColor:null!=(a=On(r[0]))?a:void 0,backgroundColor:i.toBackgroundColor(null!=(s=r[0])?s:{string:"yellow"})})}}),Ws("fcolorbox","{frame-color:value}{background-color:value}{content:text}",{applyMode:"text",createAtom:e=>{var t,r;return new al(_(w({},e),{body:Es(e.args[2]),framecolor:null!=(t=e.args[0])?t:{string:"blue"},backgroundcolor:null!=(r=e.args[1])?r:{string:"yellow"}}))},serialize:(e,t)=>{var r,i;return t.skipStyles?e.bodyToLatex(_(w({},t),{defaultMode:"text"})):hn(e.command,null!=(r=On(e.framecolor))?r:"",null!=(i=On(e.backgroundcolor))?i:"",e.bodyToLatex(_(w({},t),{defaultMode:"text"})))}}),Ws("bbox","[:bbox]{body:auto}",{createAtom:e=>{var t;let r=e.args[0],i=Es(e.args[1]);return new al(_(w({},e),r?{body:i,padding:r.padding,border:r.border,backgroundcolor:null!=(t=r.backgroundcolor)?t:void 0}:{body:i}))},serialize:(e,t)=>{var r,i;if(t.skipStyles)return e.bodyToLatex(t);let a=e.command;if(Number.isFinite(e.padding)||void 0!==e.border||void 0!==e.backgroundcolor){let t=[];e.padding&&t.push(null!=(r=On(e.padding))?r:""),e.border&&t.push(`border: ${e.border}`),e.backgroundcolor&&t.push(null!=(i=On(e.backgroundcolor))?i:""),a+=`[${t.join(",")}]`}return hn(a,e.bodyToLatex(t))}}),Ws(["displaystyle","textstyle","scriptstyle","scriptscriptstyle"],"{:rest}",{createAtom:e=>new Wn(_(w({},e),{body:Es(e.args[0])})),render:(e,t)=>{let r=new Nn({parent:t,mathstyle:e.command.slice(1)},e.style),i=Wn.createBox(r,e.body,{type:"lift"});return e.caret&&(i.caret=e.caret),e.bind(t,i)},serialize:(e,t)=>t.skipStyles?e.bodyToLatex(t):`{${un([e.command,e.bodyToLatex(t)])}}`}),Ws(["tiny","scriptsize","footnotesize","small","normalsize","large","Large","LARGE","huge","Huge"],"",{applyStyle:(e,t)=>_(w({},e),{fontSize:{"\\tiny":1,"\\scriptsize":2,"\\footnotesize":3,"\\small":4,"\\normalsize":5,"\\large":6,"\\Large":7,"\\LARGE":8,"\\huge":9,"\\Huge":10}[t]})}),Ws("fontseries","{:string}",{ifMode:"text",applyStyle:(e,t,r)=>{var i;return _(w({},e),{fontSeries:null!=(i=r[0])?i:"auto"})}}),Ws("fontshape","{:string}",{ifMode:"text",applyStyle:(e,t,r)=>{var i;return _(w({},e),{fontShape:null!=(i=r[0])?i:"auto"})}}),Ws("fontfamily","{:string}",{ifMode:"text",applyStyle:(e,t,r)=>{var i;return _(w({},e),{fontFamily:null!=(i=r[0])?i:"roman"})}}),Ws("selectfont","",{ifMode:"text",applyStyle:e=>e}),Ws("bf","{:rest*}",{applyStyle:e=>_(w({},e),{fontSeries:"b",fontShape:"n",fontFamily:"roman"})}),Ws(["boldsymbol","bm","bold"],"{:math*}",{applyMode:"math",applyStyle:e=>_(w({},e),{variantStyle:"bold"})}),Ws("bfseries","{:rest*}",{applyMode:"text",applyStyle:e=>_(w({},e),{fontSeries:"b"})}),Ws("mdseries","{:rest*}",{applyMode:"text",applyStyle:e=>_(w({},e),{fontSeries:"m"})}),Ws("upshape","{:rest*}",{applyMode:"text",applyStyle:e=>_(w({},e),{fontShape:"n"})}),Ws("slshape","{:rest*}",{applyMode:"text",applyStyle:e=>_(w({},e),{fontShape:"sl"})}),Ws("scshape","{:rest*}",{applyMode:"text",applyStyle:e=>_(w({},e),{fontShape:"sc"})}),Ws("textbf","{:text*}",{applyMode:"text",applyStyle:e=>_(w({},e),{fontSeries:"b"})}),Ws("textmd","{:text*}",{applyMode:"text",applyStyle:e=>_(w({},e),{fontSeries:"m"})}),Ws("textup","{:text*}",{applyMode:"text",applyStyle:e=>_(w({},e),{fontShape:"n"})}),Ws("textnormal","{:text*}",{applyMode:"text",applyStyle:e=>_(w({},e),{fontShape:"n",fontSeries:"m"})}),Ws("textsl","{:text*}",{applyMode:"text",applyStyle:e=>_(w({},e),{fontShape:"sl"})}),Ws("textit","{:text*}",{applyMode:"text",applyStyle:e=>_(w({},e),{fontShape:"it"})}),Ws("textsc","{:text*}",{applyMode:"text",applyStyle:e=>_(w({},e),{fontShape:"sc"})}),Ws("textrm","{:text*}",{applyMode:"text",applyStyle:e=>_(w({},e),{fontFamily:"roman"})}),Ws("textsf","{:text*}",{applyMode:"text",applyStyle:e=>_(w({},e),{fontFamily:"sans-serif"})}),Ws("texttt","{:text*}",{applyMode:"text",applyStyle:e=>_(w({},e),{fontFamily:"monospace"})}),Ws("mathbf","{:math*}",{applyMode:"math",applyStyle:e=>_(w({},e),{variant:"normal",variantStyle:"bold"})}),Ws("mathit","{:math*}",{applyMode:"math",applyStyle:e=>_(w({},e),{variant:"main",variantStyle:"italic"})}),Ws("mathnormal","{:math*}",{applyMode:"math",applyStyle:e=>_(w({},e),{variant:"normal",variantStyle:"italic"})}),Ws("mathbfit","{:math*}",{applyMode:"math",applyStyle:e=>_(w({},e),{variant:"main",variantStyle:"bolditalic"})}),Ws("mathrm","{:math*}",{applyMode:"math",applyStyle:e=>_(w({},e),{variant:"normal",variantStyle:"up"})}),Ws("mathsf","{:math*}",{applyMode:"math",applyStyle:e=>_(w({},e),{variant:"sans-serif",variantStyle:"up"})}),Ws("mathtt","{:math*}",{applyMode:"math",applyStyle:e=>_(w({},e),{variant:"monospace",variantStyle:"up"})}),Ws("it","{:rest*}",{applyStyle:e=>_(w({},e),{fontSeries:"m",fontShape:"it",fontFamily:"roman",variantStyle:"italic"})}),Ws("rmfamily","{:rest*}",{applyStyle:e=>_(w({},e),{fontFamily:"roman"})}),Ws("sffamily","{:rest*}",{applyStyle:e=>_(w({},e),{fontFamily:"sans-serif"})}),Ws("ttfamily","{:rest*}",{applyStyle:e=>_(w({},e),{fontFamily:"monospace"})}),Ws(["Bbb","mathbb"],"{:math*}",{applyStyle:e=>_(w({},e),{variant:"double-struck",variantStyle:vl(e.variantStyle)})}),Ws(["frak","mathfrak"],"{:math*}",{applyStyle:e=>_(w({},e),{variant:"fraktur",variantStyle:vl(e.variantStyle)})}),Ws("mathcal","{:math*}",{applyStyle:e=>_(w({},e),{variant:"calligraphic",variantStyle:vl(e.variantStyle)})}),Ws("mathscr","{:math*}",{applyStyle:e=>_(w({},e),{variant:"script",variantStyle:vl(e.variantStyle)})}),Ws("mbox","{:text}",{ifMode:"math",createAtom:e=>new Wn(_(w({},e),{type:"mord",body:Es(e.args[0]),mode:"math"})),serialize:(e,t)=>hn("\\mbox",e.bodyToLatex(_(w({},t),{defaultMode:"text"})))}),Ws("text","{:text}",{ifMode:"math",applyMode:"text"}),Ws(["class","htmlClass"],"{name:string}{content:auto}",{createAtom:e=>new Wn(_(w({},e),{body:Es(e.args[1])})),serialize:(e,t)=>!e.args[0]||t.skipStyles?e.bodyToLatex(t):`${e.command}{${e.args[0]}}{${e.bodyToLatex(t)}}`,render:(e,t)=>{var r;return e.createBox(t,{classes:null!=(r=e.args[0])?r:""})}}),Ws(["cssId","htmlId"],"{id:string}{content:auto}",{createAtom:e=>new Wn(_(w({},e),{body:Es(e.args[1])})),serialize:(e,t)=>{var r;return null==(r=e.args)||!r[0]||t.skipStyles?e.bodyToLatex(t):`${e.command}{${e.args[0]}}{${e.bodyToLatex(t)}}`},render:(e,t)=>{var r;let i=e.createBox(t);return i.cssId=null!=(r=e.args[0])?r:"",i}}),Ws("htmlData","{data:string}{content:auto}",{createAtom:e=>new Wn(_(w({},e),{body:Es(e.args[1])})),serialize:(e,t)=>{var r;return null==(r=e.args)||!r[0]||t.skipStyles?e.bodyToLatex(t):`\\htmlData{${e.args[0]}}{${e.bodyToLatex(t)}}`},render:(e,t)=>{var r;let i=e.createBox(t);return i.htmlData=null!=(r=e.args[0])?r:"",i}}),Ws(["style","htmlStyle"],"{data:string}{content:auto}",{createAtom:e=>new Wn(_(w({},e),{body:Es(e.args[1])})),serialize:(e,t)=>{var r;return null==(r=e.args)||!r[0]||t.skipStyles?e.bodyToLatex(t):`${e.command}{${e.args[0]}}{${e.bodyToLatex(t)}}`},render:(e,t)=>{var r;let i=e.createBox(t);return i.htmlStyle=null!=(r=e.args[0])?r:"",i}}),Ws("href","{url:string}{content:auto}",{createAtom:e=>new Wn(_(w({},e),{body:Es(e.args[1])})),render:(e,t)=>{var r;let i=e.createBox(t),a=null!=(r=e.args[0])?r:"";return a&&(i.htmlData=`href=${a}`),i}}),Ws("em","{:rest}",{createAtom:e=>new Wn(_(w({},e),{body:Es(e.args[0])})),serialize:(e,t)=>t.skipStyles?e.bodyToLatex(t):`{\\em ${e.bodyToLatex(t)}}`,render:(e,t)=>e.createBox(t,{classes:"ML__emph",boxType:"lift"})}),Ws("emph","{:auto}",{createAtom:e=>new Wn(_(w({},e),{body:Es(e.args[1])})),serialize:(e,t)=>t.skipStyles?e.bodyToLatex(t):`\\emph{${e.bodyToLatex(t)}}`,render:(e,t)=>e.createBox(t,{classes:"ML__emph",boxType:"lift"})});var wl={"\\bigl":{mclass:"mopen",size:1},"\\Bigl":{mclass:"mopen",size:2},"\\biggl":{mclass:"mopen",size:3},"\\Biggl":{mclass:"mopen",size:4},"\\bigr":{mclass:"mclose",size:1},"\\Bigr":{mclass:"mclose",size:2},"\\biggr":{mclass:"mclose",size:3},"\\Biggr":{mclass:"mclose",size:4},"\\bigm":{mclass:"mrel",size:1},"\\Bigm":{mclass:"mrel",size:2},"\\biggm":{mclass:"mrel",size:3},"\\Biggm":{mclass:"mrel",size:4},"\\big":{mclass:"mord",size:1},"\\Big":{mclass:"mord",size:2},"\\bigg":{mclass:"mord",size:3},"\\Bigg":{mclass:"mord",size:4}};Ws(["bigl","Bigl","biggl","Biggl","bigr","Bigr","biggr","Biggr","bigm","Bigm","biggm","Biggm","big","Big","bigg","Bigg"],"{:delim}",{createAtom:e=>{var t;return new zo(_(w({},e),{delim:null!=(t=e.args[0])?t:".",size:wl[e.command].size,delimType:wl[e.command].mclass}))}}),Ws(["hspace","hspace*"],"{width:value}",{createAtom:e=>{var t;return new nl(_(w({},e),{width:null!=(t=e.args[0])?t:{dimension:0}}))}}),Ws(["mkern","kern","mskip","hskip","mspace"],"{width:value}",{createAtom:e=>{var t;return new nl(_(w({},e),{width:null!=(t=e.args[0])?t:{dimension:0}}))}}),Ws("mathchoice","{:math}{:math}{:math}{:math}",{createAtom:e=>new Wn(e),render:(e,t)=>{let r=0,i=t.mathstyle.id;(5===i||4===i)&&(r=1),(3===i||2===i)&&(r=2),(1===i||0===i)&&(r=3);let a=Es(e.args[r]);return Wn.createBox(t,a)},serialize:(e,t)=>`\\mathchoice{${Wn.serialize(e.args[0],t)}}{${Wn.serialize(e.args[1],t)}}{${Wn.serialize(e.args[2],t)}}{${Wn.serialize(e.args[3],t)}}`}),Ws("mathop","{:auto}",{createAtom:e=>new Wn(_(w({},e),{type:"mop",body:Es(e.args[0]),limits:"over-under",isFunction:!0,captureSelection:!0})),render:(e,t)=>{var r;let i=Wn.createBox(t,e.body);if(e.superscript||e.subscript){let a=null!=(r=e.subsupPlacement)?r:"auto";i="over-under"===a||"auto"===a&&t.isDisplayStyle?e.attachLimits(t,{base:i}):e.attachSupsub(t,{base:i})}return new kn(e.bind(t,i),{type:"op",isSelected:e.isSelected,classes:"ML__op-group"})},serialize:(e,t)=>{let r=[hn(e.command,e.bodyToLatex(t))];return e.explicitSubsupPlacement&&("over-under"===e.subsupPlacement&&r.push("\\limits"),"adjacent"===e.subsupPlacement&&r.push("\\nolimits"),"auto"===e.subsupPlacement&&r.push("\\displaylimits")),r.push(e.supsubToLatex(t)),un(r)}}),Ws(["mathbin","mathrel","mathopen","mathclose","mathpunct","mathord","mathinner"],"{:auto}",{createAtom:e=>new Wn(_(w({},e),{type:{"\\mathbin":"mbin","\\mathrel":"mrel","\\mathopen":"mopen","\\mathclose":"mclose","\\mathpunct":"mpunct","\\mathord":"mord","\\mathinner":"minner"}[e.command],body:Es(e.args[0])}))}),Ws(["operatorname","operatorname*"],"{operator:math}",{createAtom:e=>{let t=Es(e.args[0]).map((e=>{var t;return"first"!==e.type&&(e.type="mord",e.value=null!=(t={"":"*","":"-"}[e.value])?t:e.value,e.isFunction=!1,!e.style.variant&&!e.style.variantStyle&&(e.style.variant="main",e.style.variantStyle="up")),e}));return new Wn(_(w({},e),{type:"mop",body:t,isFunction:!0,limits:"\\operatorname"===e.command?"adjacent":"over-under",captureSelection:!0,skipBoundary:!0,displayContainsHighlight:!0}))},render:(e,t)=>{var r;let i=Wn.createBox(t,e.body);if(e.superscript||e.subscript){let a=null!=(r=e.subsupPlacement)?r:"auto";i="over-under"===a||"auto"===a&&t.isDisplayStyle?e.attachLimits(t,{base:i}):e.attachSupsub(t,{base:i})}return e.caret&&(i.caret=e.caret),new kn(e.bind(t,i),{type:"op",isSelected:e.isSelected,classes:"ML__op-group"})},serialize:(e,t)=>{let r=[hn(e.command,e.bodyToLatex(t))];return e.explicitSubsupPlacement&&("over-under"===e.subsupPlacement&&r.push("\\limits"),"adjacent"===e.subsupPlacement&&r.push("\\nolimits"),"auto"===e.subsupPlacement&&r.push("\\displaylimits")),r.push(e.supsubToLatex(t)),un(r)}}),Ws(["char","unicode"],"{charcode:value}",{createAtom:e=>new Wn(_(w({},e),{type:"text"===e.mode?"text":"mord"})),serialize:e=>{var t;return`${e.command}${On(null!=(t=e.args[0])?t:{number:10067,base:"hexadecimal"})}`},render:(e,t)=>{let r=t.evaluate(e.args[0]);return(!r||!("number"in r))&&(r={number:10067,base:"hexadecimal"}),e.value=String.fromCodePoint(r.number),e.createBox(t)}}),Ws("rule","[raise:value]{width:value}{thickness:value}",{createAtom:e=>new Wn(e),render:(e,t)=>{var r,i,a;let s=new Nn({parent:t,mathstyle:"textstyle"},e.style),n=s.toEm(null!=(r=e.args[0])?r:{dimension:0}),o=s.toEm(null!=(i=e.args[1])?i:{dimension:10}),l=s.toEm(null!=(a=e.args[2])?a:{dimension:10}),c=new kn(null,{classes:"ML__rule",type:"ord"});return c.width=o,c.height=l+n,c.depth=-n,c.setStyle("border-right-width",o,"em"),c.setStyle("border-top-width",l,"em"),c.setStyle("border-color",e.style.color),c.setStyle("vertical-align",n,"em"),e.isSelected&&c.setStyle("opacity","50%"),e.bind(s,c),e.caret&&(c.caret=e.caret),c.wrap(t)},serialize:e=>`\\rule${e.args[0]?`[${On(e.args[0])}]`:""}{${On(e.args[1])}}{${On(e.args[2])}}`}),Ws(["overline","underline"],"{:auto}",{createAtom:e=>new Wn(_(w({},e),{body:Es(e.args[0])})),render:(e,t)=>{let r=e.command.substring(1),i=new Nn({parent:t,mathstyle:"cramp"},e.style),a=Wn.createBox(i,e.body);if(!a)return null;let s,n=i.metrics.defaultRuleThickness/i.scalingFactor,o=new kn(null,{classes:r+"-line"});return o.height=n,o.maxFontSize=1.125*n*i.scalingFactor,s=new Dn("overline"===r?{shift:0,children:[{box:a},3*n,{box:o},n]}:{top:a.height,children:[n,{box:o},3*n,{box:a}]}),e.caret&&(s.caret=e.caret),new kn(s,{classes:r,type:"ignore"})}}),Ws(["repeatingpart"],"{:auto}",{createAtom:e=>new Wn(_(w({},e),{body:Es(e.args[0])})),render:(e,t)=>{let r=e.command.substring(1),i=new Nn({parent:t,mathstyle:"cramp"},e.style),a=Wn.createBox(i,e.body);if(!a)return null;let s,n=i.metrics.defaultRuleThickness/i.scalingFactor,o=new kn(null,{classes:r+"-line"});return o.height=n,o.maxFontSize=1.125*n*i.scalingFactor,s=new Dn({shift:0,children:[{box:a},3*n,{box:o},n]}),e.caret&&(s.caret=e.caret),new kn(s,{classes:r,type:"ignore"})}}),Ws("overset","{:auto}{base:auto}",{createAtom:e=>{let t=Es(e.args[1]);return new fo(_(w({},e),{above:Es(e.args[0]),body:t,skipBoundary:!1,boxType:xn(t)}))},serialize:(e,t)=>hn(e.command,e.aboveToLatex(t),e.bodyToLatex(t))}),Ws("underset","{:auto}{base:auto}",{createAtom:e=>{let t=Es(e.args[1]);return new fo(_(w({},e),{below:Es(e.args[0]),body:t,skipBoundary:!1,boxType:xn(t)}))},serialize:(e,t)=>hn(e.command,e.belowToLatex(t),e.bodyToLatex(t))}),Ws("overunderset","{above:auto}{below:auto}{base:auto}",{createAtom:e=>{let t=Es(e.args[2]);return new fo(_(w({},e),{above:Es(e.args[0]),below:Es(e.args[1]),body:t,skipBoundary:!1,boxType:xn(t)}))},serialize:(e,t)=>hn(e.command,e.belowToLatex(t),e.bodyToLatex(t))}),Ws(["stackrel","stackbin"],"[below:auto]{above:auto}{base:auto}",{createAtom:e=>new fo(_(w({},e),{body:Es(e.args[2]),above:Es(e.args[1]),below:Es(e.args[0]),skipBoundary:!1,boxType:"\\stackrel"===e.command?"rel":"bin"})),serialize:(e,t)=>hn(e.command,e.aboveToLatex(t),e.bodyToLatex(t))}),Ws("smash","[:string]{:auto}",{createAtom:e=>{var t,r,i,a;return new sl(_(w({},e),{body:Es(e.args[1]),smashHeight:null==(r=null==(t=e.args[0])?void 0:t.includes("t"))||r,smashDepth:null==(a=null==(i=e.args[0])?void 0:i.includes("b"))||a}))}}),Ws(["vphantom"],"{:auto}",{createAtom:e=>new sl(_(w({},e),{body:Es(e.args[0]),isInvisible:!0,smashWidth:!0}))}),Ws(["hphantom"],"{:auto}",{createAtom:e=>new sl(_(w({},e),{body:Es(e.args[0]),isInvisible:!0,smashHeight:!0,smashDepth:!0}))}),Ws(["phantom"],"{:auto}",{createAtom:e=>new sl(_(w({},e),{body:Es(e.args[0]),isInvisible:!0}))}),Ws("not","{:math}",{createAtom:e=>{let t=Es(e.args[0]);return 0===t.length?new Wn(_(w({},e),{type:"mrel",value:""})):new Wn(_(w({},e),{body:[new ol(_(w({},e),{body:"",align:"right"})),...t],captureSelection:!0}))},serialize:(e,t)=>{let r=e.args[0],i=r&&"object"==typeof r&&"group"in r;return""!==e.value?i?`\\not{${Wn.serialize(r.group,t)}}`:`\\not${Wn.serialize(r,t)}`:i?"\\not{}":"\\not"},render:(e,t)=>{if(e.value)return e.createBox(t);let r=e.args[0]&&"object"==typeof e.args[0]&&"group"in e.args[0]?"ord":xn(Es(e.args[0])),i=Wn.createBox(t,e.body,{type:r});return e.caret&&(i.caret=e.caret),e.bind(t,i)}}),Ws(["ne","neq"],"",{createAtom:e=>new Wn(_(w({},e),{type:"mrel",body:[new ol(_(w({},e),{body:"",align:"right",boxType:"rel"})),new Wn(_(w({},e),{value:"="}))],captureSelection:!0})),serialize:e=>e.command}),Ws("rlap","{:auto}",{createAtom:e=>new ol(_(w({},e),{body:Es(e.args[0]),align:"right"}))}),Ws("llap","{:auto}",{createAtom:e=>new ol(_(w({},e),{body:Es(e.args[0]),align:"left"}))}),Ws("mathrlap","{:math}",{createAtom:e=>new ol(_(w({},e),{body:Es(e.args[0]),align:"right"}))}),Ws("mathllap","{:math}",{createAtom:e=>new ol(_(w({},e),{body:Es(e.args[0]),align:"left"}))}),Ws("raisebox","{:value}{:text}",{createAtom:e=>{var t;return new al(_(w({},e),{body:Es(e.args[1]),padding:{dimension:0},offset:null!=(t=e.args[0])?t:{dimension:0}}))},serialize:(e,t)=>{var r;return hn("\\raisebox",null!=(r=On(e.offset))?r:"0pt",e.bodyToLatex(t))}}),Ws("raise","{:value}{:auto}",{createAtom:e=>{var t;return new al(_(w({},e),{body:Es(e.args[1]),padding:{dimension:0},offset:null!=(t=e.args[0])?t:{dimension:0}}))},serialize:(e,t)=>{var r;return hn("\\raise",null!=(r=On(e.offset))?r:"0pt",e.bodyToLatex(t))}}),Ws("lower","{:value}{:auto}",{createAtom:e=>{var t;return new al(_(w({},e),{body:Es(e.args[1]),padding:{dimension:0},offset:null!=(t=Rn(e.args[0],-1))?t:{dimension:0}}))},serialize:(e,t)=>{var r,i;return hn("\\lower",null!=(i=On(Rn(null!=(r=e.offset)?r:{dimension:0},-1)))?i:"0pt",e.bodyToLatex(t))}}),$s("0123456789/@.?!"),Vs(65,90),Vs(97,122),$s([["\\forall",8704],["\\exists",8707],["\\nexists",8708,"mord","ams"],["\\mid",8739,"mrel"],["\\top",8868],["\\bot",8869]]),$s([["\\#",35],["\\&",38],["\\parallelogram",9649],["\\spadesuit",9824],["\\heartsuit",9825],["\\diamondsuit",9826],["\\clubsuit",9827],["\\flat",9837],["\\natural",9838],["\\sharp",9839]]),$s([["\\backslash",92],["\\nabla",8711],["\\partial",8706],["\\ell",8467],["\\hbar",8463],["\\Q",81,"mord","double-struck"],["\\C",67,"mord","double-struck"],["\\P",80,"mord","double-struck"],["\\pounds",163],["\\euro",8364]]),$s([["\\rightarrow",8594],["\\to",8594],["\\leftarrow",8592],["\\gets",8592],["\\Rightarrow",8658],["\\Leftarrow",8656],["\\longrightarrow",10230],["\\longleftarrow",10229],["\\Longrightarrow",10233],["\\implies",10233],["\\Longleftarrow",10232],["\\impliedby",10232],["\\longleftrightarrow",10231],["\\biconditional",10231],["\\Longleftrightarrow",10234],["\\mapsto",8614],["\\longmapsto",10236],["\\uparrow",8593],["\\downarrow",8595],["\\Uparrow",8657],["\\Downarrow",8659],["\\updownarrow",8597],["\\Updownarrow",8661],["\\hookrightarrow",8618],["\\hookleftarrow",8617],["\\rightharpoonup",8640],["\\leftharpoonup",8636],["\\rightharpoondown",8641],["\\leftharpoondown",8637],["\\searrow",8600],["\\nearrow",8599],["\\swarrow",8601],["\\nwarrow",8598],["\\originalof",8886],["\\laplace",8886],["\\imageof",8887],["\\Laplace",8887]],"mrel"),$s([["\\mapsfrom",8612,"mrel"],["\\Mapsfrom",10502,"mrel"],["\\MapsTo",10503,"mrel"],["\\Yup",8516,"mord"],["\\lightning",8623,"mrel"],["\\leftarrowtriangle",8701,"mrel"],["\\rightarrowtriangle",8702,"mrel"],["\\leftrightarrowtriangle",8703,"mrel"],["\\boxdot",8865,"mbin"],["\\bigtriangleup",9651,"mbin"],["\\bigtriangledown",9661,"mbin"],["\\boxbar",9707,"mbin"],["\\Lbag",10181,"mopen"],["\\Rbag",10182,"mclose"],["\\llbracket",10214,"mopen"],["\\rrbracket",10215,"mclose"],["\\longmapsfrom",10235,"mrel"],["\\Longmapsfrom",10237,"mrel"],["\\Longmapsto",10238,"mrel"],["\\boxslash",10692,"mbin"],["\\boxbslash",10693,"mbin"],["\\boxast",10694,"mbin"],["\\boxcircle",10695,"mbin"],["\\boxbox",10696,"mbin"],["\\fatsemi",10783,"mop"],["\\leftslice",10918,"mrel"],["\\rightslice",10919,"mrel"],["\\interleave",10996,"mbin"],["\\biginterleave",11004,"mop"],["\\sslash",11005,"mbin"],["\\talloblong",11006,"mbin"]]),$s([["\\lbrace",123,"mopen"],["\\rbrace",125,"mclose"],["\\lparen",40,"mopen"],["\\rparen",41,"mclose"],["\\langle",10216,"mopen"],["\\rangle",10217,"mclose"],["\\lfloor",8970,"mopen"],["\\rfloor",8971,"mclose"],["\\lceil",8968,"mopen"],["\\rceil",8969,"mclose"],["\\vert",8739],["\\lvert",8739,"mopen"],["\\rvert",8739,"mclose"],["\\|",8741],["\\Vert",8741],["\\mVert",8741],["\\lVert",8741,"mopen"],["\\rVert",8741,"mclose"],["\\lbrack",91,"mopen"],["\\rbrack",93,"mclose"],["\\{",123,"mopen"],["\\}",125,"mclose"],["(",40,"mopen"],[")",41,"mclose"],["[",91,"mopen"],["]",93,"mclose"],["\\ulcorner",9484,"mopen","ams"],["\\urcorner",9488,"mclose","ams"],["\\llcorner",9492,"mopen","ams"],["\\lrcorner",9496,"mclose","ams"],["\\lgroup",10222,"mopen"],["\\rgroup",10223,"mclose"],["\\lmoustache",9136,"mopen"],["\\rmoustache",9137,"mclose"]]),$s([["\\dashrightarrow",8674],["\\dashleftarrow",8672],["\\Rrightarrow",8667],["\\Lleftarrow",8666],["\\leftrightarrows",8646],["\\rightleftarrows",8644],["\\curvearrowright",8631],["\\curvearrowleft",8630],["\\rightrightarrows",8649],["\\leftleftarrows",8647],["\\upuparrows",8648],["\\downdownarrows",8650],["\\vartriangle",9651],["\\triangleq",8796],["\\vartriangleleft",8882],["\\trianglelefteq",8884],["\\ntriangleleft",8938],["\\ntrianglelefteq",8940],["\\vartriangleright",8883],["\\trianglerighteq",8885],["\\ntriangleright",8939],["\\ntrianglerighteq",8941],["\\blacktriangleleft",9664],["\\blacktriangleright",9654],["\\leftarrowtail",8610],["\\rightarrowtail",8611],["\\looparrowright",8620],["\\looparrowleft",8619],["\\twoheadleftarrow",8606],["\\twoheadrightarrow",8608],["\\twoheadrightarrowtail",10518],["\\rightleftharpoons",8652],["\\leftrightharpoons",8651],["\\Rsh",8625],["\\Lsh",8624],["\\circlearrowright",8635],["\\circlearrowleft",8634],["\\restriction",8638],["\\upharpoonright",8638],["\\upharpoonleft",8639],["\\downharpoonright",8642],["\\downharpoonleft",8643],["\\rightsquigarrow",8669],["\\leadsto",8669],["\\leftrightsquigarrow",8621],["\\multimap",8888],["\\nleftarrow",8602],["\\nrightarrow",8603],["\\nRightarrow",8655],["\\nLeftarrow",8653],["\\nleftrightarrow",8622],["\\nLeftrightarrow",8654],["\\nvrightarrow",8696],["\\nvtwoheadrightarrow",10496],["\\nvrightarrowtail",10516],["\\nvtwoheadrightarrowtail",10519],["\\shortparallel",8741],["\\nless",8814],["\\nleqslant",57360],["\\lneq",10887],["\\lneqq",8808],["\\nleqq",57361],["\\lvertneqq",57356],["\\lnsim",8934],["\\lnapprox",10889],["\\nprec",8832],["\\npreceq",8928],["\\precnsim",8936],["\\precnapprox",10937],["\\nsim",8769],["\\nshortmid",57350],["\\nmid",8740],["\\nvdash",8876],["\\nvDash",8877],["\\ngtr",8815],["\\ngeqslant",57359],["\\ngeqq",57358],["\\gneq",10888],["\\gneqq",8809],["\\gvertneqq",57357],["\\gnsim",8935],["\\gnapprox",10890],["\\nsucc",8833],["\\nsucceq",8929],["\\succnsim",8937],["\\succnapprox",10938],["\\ncong",8774],["\\nshortparallel",57351],["\\nparallel",8742],["\\nVDash",8879],["\\nsupseteqq",57368],["\\supsetneq",8843],["\\varsupsetneq",57371],["\\supsetneqq",10956],["\\varsupsetneqq",57369],["\\nVdash",8878],["\\precneqq",10933],["\\succneqq",10934],["\\nsubseteqq",57366],["\\leqslant",10877],["\\geqslant",10878],["\\gtrsim",8819],["\\approxeq",8778],["\\thickapprox",8776],["\\lessapprox",10885],["\\gtrapprox",10886],["\\precapprox",10935],["\\succapprox",10936],["\\thicksim",8764],["\\succsim",8831],["\\precsim",8830],["\\backsim",8765],["\\eqsim",8770],["\\backsimeq",8909],["\\lesssim",8818],["\\nleq",8816],["\\ngeq",8817],["\\smallsmile",8995],["\\smallfrown",8994],["\\leqq",8806],["\\eqslantless",10901],["\\lll",8920],["\\lessgtr",8822],["\\lesseqgtr",8922],["\\lesseqqgtr",10891],["\\risingdotseq",8787],["\\fallingdotseq",8786],["\\subseteqq",10949],["\\Subset",8912],["\\sqsubset",8847],["\\preccurlyeq",8828],["\\curlyeqprec",8926],["\\vDash",8872],["\\Vvdash",8874],["\\bumpeq",8783],["\\Bumpeq",8782],["\\geqq",8807],["\\eqslantgtr",10902],["\\ggg",8921],["\\gtrless",8823],["\\gtreqless",8923],["\\gtreqqless",10892],["\\supseteqq",10950],["\\Supset",8913],["\\sqsupset",8848],["\\succcurlyeq",8829],["\\curlyeqsucc",8927],["\\Vdash",8873],["\\shortmid",8739],["\\between",8812],["\\pitchfork",8916],["\\varpropto",8733],["\\backepsilon",8717],["\\llless",8920],["\\gggtr",8921],["\\doteqdot",8785],["\\Doteq",8785],["\\eqcirc",8790],["\\circeq",8791],["\\therefore",8756],["\\because",8757]],"mrel","ams"),$s([["+",43],["-",8722],["",8722],["\\pm",177],["\\mp",8723],["*",8727],["\\times",215],["\\div",247],["\\divides",8739],["\\cdot",8901],["\\cap",8745],["\\cup",8746],["\\setminus",8726],["\\land",8743],["\\wedge",8743],["\\lor",8744],["\\vee",8744],["\\circ",8728],["\\bigcirc",9711],["\\bullet",8729],["\\oplus",8853],["\\ominus",8854],["\\otimes",8855],["\\odot",8857],["\\oslash",8856],["\\bigtriangleup",9651],["\\bigtriangledown",9661],["\\triangleleft",9667],["\\triangleright",9657],["\\And",38],["\\dagger",8224],["\\dag",8224],["\\ddag",8225],["\\ddagger",8225],["\\ast",8727],["\\star",8902],["\\bigstar",9733],["\\diamond",8900]],"mbin"),$s([["\\lhd",8882],["\\rhd",8883],["\\lessdot",8918],["\\gtrdot",8919],["\\ltimes",8905],["\\rtimes",8906],["\\leftthreetimes",8907],["\\rightthreetimes",8908],["\\intercal",8890],["\\dotplus",8724],["\\doublebarwedge",10846],["\\divideontimes",8903],["\\centerdot",8901],["\\smallsetminus",8726],["\\barwedge",8892],["\\veebar",8891],["\\nor",8891],["\\curlywedge",8911],["\\curlyvee",8910],["\\boxminus",8863],["\\boxplus",8862],["\\boxtimes",8864],["\\boxdot",8865],["\\circleddash",8861],["\\circledast",8859],["\\circledcirc",8858],["\\unlhd",8884],["\\unrhd",8885]],"mbin","ams"),$s([["\\surd",8730],["\\infty",8734],["\\prime",8242],["\\doubleprime",8243],["\\angle",8736],["`",8216],["\\$",36],["\\%",37],["\\_",95],["\\alpha",945],["\\beta",946],["\\gamma",947],["\\delta",948],["\\epsilon",1013],["\\varepsilon",949],["\\zeta",950],["\\eta",951],["\\theta",952],["\\vartheta",977],["\\iota",953],["\\kappa",954],["\\varkappa",1008,"mord","ams"],["\\lambda",955],["\\mu",956],["\\nu",957],["\\xi",958],["\\omicron",111],["\\pi",960],["\\varpi",982],["\\rho",961],["\\varrho",1009],["\\sigma",963],["\\varsigma",962],["\\tau",964],["\\phi",981],["\\varphi",966],["\\upsilon",965],["\\chi",967],["\\psi",968],["\\omega",969],["\\Gamma",915],["\\Delta",916],["\\Theta",920],["\\Lambda",923],["\\Xi",926],["\\Pi",928],["\\Sigma",931],["\\Upsilon",933],["\\Phi",934],["\\Psi",936],["\\Omega",937],["\\digamma",989,"mord","ams"],["\\emptyset",8709]]),$s([["=",61],["<",60],["\\lt",60],[">",62],["\\gt",62],["\\le",8804],["\\leq",8804],["\\ge",8805],["\\geq",8805],["\\ll",8810],["\\gg",8811],["\\coloneq",8788],["\\coloneqq",8788],["\\colonequals",8788],["\\measeq",8797],["\\eqdef",8798],["\\questeq",8799],[":",58],["\\cong",8773],["\\equiv",8801],["\\prec",8826],["\\preceq",10927],["\\succ",8827],["\\succeq",10928],["\\perp",8869],["\\propto",8733],["\\Colon",8759],["\\smile",8995],["\\frown",8994],["\\sim",8764],["\\doteq",8784],["\\bowtie",8904],["\\Join",8904],["\\asymp",8781],["\\sqsubseteq",8849],["\\sqsupseteq",8850],["\\approx",8776],["\\~",126],["\\leftrightarrow",8596],["\\Leftrightarrow",8660],["\\models",8872],["\\vdash",8866],["\\dashv",8867],["\\roundimplies",10608],["\\in",8712],["\\notin",8713],["\\ni",8715],["\\owns",8715],["\\subset",8834],["\\supset",8835],["\\subseteq",8838],["\\supseteq",8839],["\\differencedelta",8710],["\\mvert",8739],["\\parallel",8741],["\\simeq",8771]],"mrel"),$s([["\\lnot",172],["\\neg",172],["\\triangle",9651],["\\subsetneq",8842],["\\varsubsetneq",57370],["\\subsetneqq",10955],["\\varsubsetneqq",57367],["\\nsubset",8836],["\\nsupset",8837],["\\nsubseteq",8840],["\\nsupseteq",8841]],"mrel","ams"),$s([["\\wp",8472],["\\aleph",8501]]),$s([["\\blacktriangle",9650],["\\hslash",8463],["\\Finv",8498],["\\Game",8513],["\\eth",240],["\\mho",8487],["\\Bbbk",107],["\\yen",165],["\\square",9633],["\\Box",9633],["\\blacksquare",9632],["\\circledS",9416],["\\circledR",174],["\\triangledown",9661],["\\blacktriangledown",9660],["\\checkmark",10003],["\\diagup",9585],["\\measuredangle",8737],["\\sphericalangle",8738],["\\backprime",8245],["\\backdoubleprime",8246],["\\Diamond",9674],["\\lozenge",9674],["\\blacklozenge",10731],["\\varnothing",8709],["\\complement",8705],["\\maltese",10016],["\\beth",8502],["\\daleth",8504],["\\gimel",8503]],"mord","ams"),$s([["\\ ",160],["~",160]],"space"),Ws(["!",",",":",";",">","enskip","enspace","quad","qquad"],"",{createAtom:e=>new nl(e)}),Ws("space","",{createAtom:e=>new nl(e)}),$s([["\\colon",58],["\\cdotp",8901],["\\vdots",8942,"mord"],["\\ldotp",46],[",",44],[";",59]],"mpunct"),$s([["\\cdots",8943],["\\ddots",8945],["\\ldots",8230],["\\mathellipsis",8230]],"minner"),$s([["\\/",47],["|",8739,"mord"],["\\imath",305],["\\jmath",567],["\\degree",176],["'",8242],['"',8221]]);var _l={main:["Main-Regular","ML__cmr"],"main-italic":["Main-Italic","ML__cmr ML__it"],"main-bold":["Main-Bold","ML__cmr ML__bold"],"main-bolditalic":["Main-BoldItalic","ML__cmr ML__bold ML__it"],normal:["Main-Regular","ML__cmr"],"normal-bold":["Main-Bold","ML__mathbf"],"normal-italic":["Math-Italic","ML__mathit"],"normal-bolditalic":["Math-BoldItalic","ML__mathbfit"],ams:["AMS-Regular","ML__ams"],"ams-bold":["AMS-Regular","ML__ams ML__bold"],"ams-italic":["AMS-Regular","ML__ams ML__it"],"ams-bolditalic":["AMS-Regular","ML__ams ML__bold ML__it"],"sans-serif":["SansSerif-Regular","ML__sans"],"sans-serif-bold":["SansSerif-Regular","ML__sans ML__bold"],"sans-serif-italic":["SansSerif-Regular","ML__sans ML__it"],"sans-serif-bolditalic":["SansSerif-Regular","ML__sans ML__bold ML__it"],calligraphic:["Caligraphic-Regular","ML__cal"],"calligraphic-bold":["Caligraphic-Regular","ML__cal ML__bold"],"calligraphic-italic":["Caligraphic-Regular","ML__cal ML__it"],"calligraphic-bolditalic":["Caligraphic-Regular","ML__cal ML__bold ML__it"],script:["Script-Regular","ML__script"],"script-bold":["Script-Regular","ML__script ML__bold"],"script-italic":["Script-Regular","ML__script ML__it"],"script-bolditalic":["Script-Regular","ML__script ML__bold ML__it"],fraktur:["Fraktur-Regular","ML__frak"],"fraktur-bold":["Fraktur-Regular","ML__frak ML__bold"],"fraktur-italic":["Fraktur-Regular","ML__frak ML__it"],"fraktur-bolditalic":["Fraktur-Regular","ML__frak ML__bold ML__it"],monospace:["Typewriter-Regular","ML__tt"],"monospace-bold":["Typewriter-Regular","ML__tt ML__bold"],"monospace-italic":["Typewriter-Regular","ML__tt ML__it"],"monospace-bolditalic":["Typewriter-Regular","ML__tt ML__bold ML__it"],"double-struck":["AMS-Regular","ML__bb"],"double-struck-bold":["AMS-Regular","ML__bb ML__bold"],"double-struck-italic":["AMS-Regular","ML__bb ML_italic"],"double-struck-bolditalic":["AMS-Regular","ML__bb ML_bolditalic"]},Sl={"double-struck":/^[A-Z ]$/,script:/^[A-Z ]$/,calligraphic:/^[\dA-Z ]$/,fraktur:/^[\dA-Za-z ]$|^[!"#$%&'()*+,\-./:;=?[]^]$/,monospace:/^[\dA-Za-z ]$|^[!"&'()*+,\-./:;=?@[\]^_~\u0131\u0237\u0393\u0394\u0398\u039B\u039E\u03A0\u03A3\u03A5\u03A8\u03A9]$/,"sans-serif":/^[\dA-Za-z ]$|^[!"&'()*+,\-./:;=?@[\]^_~\u0131\u0237\u0393\u0394\u0398\u039B\u039E\u03A0\u03A3\u03A5\u03A8\u03A9]$/},xl=/^[\u03B1-\u03C9]|\u03D1|\u03D5|\u03D6|\u03F1|\u03F5]$/,Ml=[/^[a-z]$/,/^[A-Z]$/,xl,/^[\u0393|\u0394\u0398\u039B\u039E\u03A0\u03A3\u03A5\u03A6\u03A8\u03A9]$/],kl={iso:["it","it","it","it"],tex:["it","it","it","up"],french:["it","up","up","up"],upright:["up","up","up","up"]};function Ll(e,t){let{parent:r}=e[0],i=yn(r);return vn(e,"variant").map((e=>{let r=yn(e[0]),a="";r&&r!==i&&(a={calligraphic:"\\mathcal","calligraphic-uo":"\\mathcal",fraktur:"\\mathfrak","fraktur-uo":"\\mathfrak","double-struck":"\\mathbb","double-struck-uo":"\\mathbb",script:"\\mathscr","script-uo":"\\mathscr",monospace:"\\mathtt","monospace-uo":"\\mathtt","sans-serif":"\\mathsf","sans-serif-uo":"\\mathsf",normal:"","normal-up":"\\mathrm","normal-italic":"\\mathnormal","normal-bold":"","normal-bolditalic":"\\mathbfit",ams:"","ams-up":"\\mathrm","ams-italic":"\\mathit","ams-bold":"","ams-bolditalic":"\\mathbfit",main:"","main-up":"\\mathrm","main-italic":"\\mathit","main-bold":"","main-bolditalic":"\\mathbfit"}[r]);let s=un(e.map((e=>e._serialize(t))));return a?hn(a,s):s}))}function Al(e,t){return vn(e,"fontSeries").map((e=>{let r=function(e,t){return vn(e,"fontShape").map((e=>{let r=function(e,t){return e.map((e=>e._serialize(t)))}(e,t),{fontShape:i}=e[0].style,a="";return"it"===i&&(a="\\textit"),"sl"===i&&(a="\\textsl"),"sc"===i&&(a="\\textsc"),"n"===i&&(a="\\textup"),!a&&i?`{${hn("\\fontshape",i)}${un(r)}}`:a?hn(a,un(r)):un(r)}))}(e,t),{fontSeries:i}=e[0].style,a="";return"b"===i&&(a="\\textbf"),"l"===i&&(a="\\textlf"),"m"===i&&(a="\\textmd"),i&&!a?`{${hn("\\fontseries",i)}${un(r)}}`:a?hn(a,un(r)):un(r)}))}function Cl(e,t,r){return vn(e,"fontFamily").map((e=>{var i;r=r&&!e.every((e=>e.style.fontFamily||e.style.fontShape||e.style.fontSeries||e.style.fontSize));let a=function(e,t){return vn(e,"fontSize").map((e=>{var r,i;let a=Al(e,t),s=null!=(i=["","\\tiny","\\scriptsize","\\footnotesize","\\small","\\normalsize","\\large","\\Large","\\LARGE","\\huge","\\Huge"][null!=(r=e[0].style.fontSize)?r:""])?i:"";return s?`${s} ${un(a)}`:un(a)}))}(e,t),{fontFamily:s}=e[0].style,n=null!=(i={roman:"textrm",monospace:"texttt","sans-serif":"textsf"}[s??""])?i:"";return n?`\\${n}{${un(a)}}`:s?`{\\fontfamily{${e[0].style.fontFamily}} ${un(a)}}`:r?`\\text{${un(a)}}`:un(a)}))}new class extends pn{constructor(){super("math")}createAtom(e,t,r){var i,a,s,n,o,l;if(null===t)return new Wn({type:"mord",mode:"math",command:e,value:e,style:r});let c=null!=(s=null==(a=globalThis.MathfieldElement)?void 0:a.isFunction(null!=(i=t.command)?i:e))&&s;if("symbol"===t.definitionType){let i=new Wn({type:null!=(n=t.type)?n:"mord",mode:"math",command:null!=(o=t.command)?o:e,value:String.fromCodePoint(t.codepoint),style:r});return c&&(i.isFunction=!0),e.startsWith("\\")&&(i.verbatimLatex=e),i}let u=new Wn({type:"mord",mode:"math",command:null!=(l=t.command)?l:e,value:e,style:r});return c&&(u.isFunction=!0),e.startsWith("\\")&&(u.verbatimLatex=e),u}serialize(e,t){let r=function(e,t){return vn(e,"bold").map((e=>{if("bold"!==fn(e[0])||"bold"===fn(e[0].parent))return un(Ll(e,t));let r=un(e.map((e=>{var t;return null!=(t=e.value)?t:""})));return/^[a-zA-Z0-9]+$/.test(r)?hn("\\mathbf",un(Ll(e,t))):hn("\\bm",un(Ll(e,t)))}))}(e,_(w({},t),{defaultMode:"math"}));return 0===r.length||"text"!==t.defaultMode?r:["$ ",...r," $"]}getFont(e,t){var r,i;if(t.variant,t.fontFamily){let[r,i]=_l[t.fontFamily];return i&&(e.classes+=" "+i),r}let{variant:a}=t,{variantStyle:s}=t;if("normal"===a&&!s&&/[\u00A3\u0131\u0237]/.test(e.value)&&(a="main",s="italic"),"normal"===a&&!s&&1===e.value.length){let r=!1;Ml.forEach(((i,a)=>{var s;i.test(e.value)&&"it"===kl[null!=(s=t.letterShapeStyle)?s:"tex"][a]&&(r=!0)})),r&&(s=function(e){return{up:"italic",bold:"bolditalic",italic:"italic",bolditalic:"bolditalic","":"italic"}[e??""]}(s))}"up"===s&&(s=void 0);let n=s?a+"-"+s:a,[o,l]=_l[n];if(Sl[a]&&!Sl[a].test(e.value)){let t=As(e.value,a,s);return t||(t=null!=(r=As(e.value,a))?r:e.value,e.classes+=null!=(i={bold:" ML__bold",italic:" ML__it","bold-italic":" ML__bold ML__it"}[s??""])?i:""),e.value=t,null}return xl.test(e.value)&&(e.classes+=" lcGreek"),l&&(e.classes+=" "+l),o}};var Tl={roman:"","sans-serif":"ML__sans",monospace:"ML__tt"};new class extends pn{constructor(){super("text")}createAtom(e,t,r){return t&&"symbol"===t.definitionType?new Zo(e,String.fromCodePoint(t.codepoint),r??{}):null}serialize(e,t){return Cl(e,_(w({},t),{defaultMode:"text"}),"text"!==t.defaultMode)}getFont(e,t){var r,i,a,s,n;let{fontFamily:o}=t;if(Tl[o]?e.classes+=" "+Tl[o]:o&&e.setStyle("font-family",o),t.fontShape&&(e.classes+=" ",e.classes+=null!=(r={it:"ML__it",sl:"ML__shape_sl",sc:"ML__shape_sc",ol:"ML__shape_ol"}[t.fontShape])?r:""),t.fontSeries){let r=t.fontSeries.match(/(.?[lbm])?(.?[cx])?/);r&&(e.classes+=" ",e.classes+=null!=(a={ul:"ML__series_ul",el:"ML__series_el",l:"ML__series_l",sl:"ML__series_sl",m:"",sb:"ML__series_sb",b:"ML__bold",eb:"ML__series_eb",ub:"ML__series_ub"}[null!=(i=r[1])?i:""])?a:"",e.classes+=" ",e.classes+=null!=(n={uc:"ML__series_uc",ec:"ML__series_ec",c:"ML__series_c",sc:"ML__series_sc",n:"",sx:"ML__series_sx",x:"ML__series_x",ex:"ML__series_ex",ux:"ML__series_ux"}[null!=(s=r[2])?s:""])?n:"")}return"Main-Regular"}};function Dl(e,t){let r=w({},Hn());if(null!=t&&t.letterShapeStyle&&"auto"!==t?.letterShapeStyle&&(r.letterShapeStyle=t.letterShapeStyle),null!=t&&t.macros){let e=Xs(t?.macros);r.getMacro=t=>Ks(t,e)}null!=t&&t.registers&&(r.registers=t.registers);let i,a="math";"inline-math"===t?.defaultMode?i="textstyle":"math"===t?.defaultMode?i="displaystyle":(i="textstyle",a="text"),r.ansValue=null!=t&&t.ansValue?{latex:t?.ansValue,atoms:el(t?.ansValue,{parseMode:"math"})}:void 0;let s=new Nn({from:r}),n=new Wn({type:"root",mode:"math",body:el(e,{context:s,parseMode:a,mathstyle:i})}).render(s);return n?(An(fl(n,s)),function(e,t){if(!e)return new kn(null,t);let r=new kn(null,{classes:"ML__strut",type:"ignore"});r.setStyle("height",Math.max(0,e.height),"em");let i=[r];if(0!==e.depth){let t=new kn(null,{classes:"ML__strut--bottom",type:"ignore"});t.setStyle("height",e.height+e.depth,"em"),t.setStyle("vertical-align",-e.depth,"em"),i.push(t)}return i.push(e),new kn(i,_(w({},t),{type:"lift"}))}(n,{classes:"ML__latex"}).toMarkup()):""}new class extends pn{constructor(){super("latex")}createAtom(e){return new cl(e)}serialize(e,t){return e.filter((e=>e instanceof cl&&!e.isSuggestion)).map((e=>e.value))}getFont(){return null}};var El,Fl=((El=Fl||{}).START="START",El.END="END",El.LEFT="LEFT",El.RIGHT="RIGHT",El);const Il="data-latex";class Pl extends HTMLElement{displayElement;debounceUpdateScrollStateFn=ai.debounce((()=>this.updateScrollState()),50);constructor(){super(),this.displayElement=this.querySelector('[data-type="display"]'),this.value=this.getAttribute(Il);let e=this.querySelector('[data-scroll-direction="left"]'),t=this.querySelector('[data-scroll-direction="right"]');t.addEventListener("pointerdown",(e=>{this.scrollToNextPage(Fl.RIGHT),e.preventDefault()})),e.addEventListener("pointerdown",(e=>{this.scrollToNextPage(Fl.LEFT),e.preventDefault()})),e.addEventListener("click",(e=>{e.preventDefault(),e.stopPropagation()})),t.addEventListener("click",(e=>{e.preventDefault(),e.stopPropagation()})),this.displayElement||(this.innerHTML=this.innerHTML+'\n            <div data-type="display" class="peer overflow-y-hidden hide-scrollbar py-1">\n           \n            </div>',this.displayElement=this.querySelector('[data-type="display"]')),this.displayElement.addEventListener("scroll",(()=>{this.debounceUpdateScrollStateFn()})),this.bindingDragScrollEvent(this.displayElement)}_value;get value(){return this._value}set value(e){e=e||"",this._value=e,this.render(),this.debounceUpdateScrollStateFn()}_ansValue=void 0;set ansValue(e){let t;t=null==e||"string"==typeof e?e:e.latex,this._ansValue!==t&&(this._ansValue=t,e?.rerender&&this.render())}_resultObject;get resultObject(){return this._resultObject}set resultObject(e){this._resultObject=e;let t=this.querySelector('[data-type="result-object"]');this.resultObject?t.textContent=this._resultObject:t.textContent=""}get latexValue(){return null!=this.value?"$$"+this.value+"$$":""}updateScrollState(){let e=function(e){let t={left:!1,right:!1};return!e||!(e.scrollWidth>e.clientWidth)||(t.left=e.scrollLeft>3,t.right=e.scrollWidth-e.clientWidth-e.scrollLeft>3),t}(this.displayElement);e.right?this.setAttribute("data-overflow-right","true"):this.removeAttribute("data-overflow-right"),e.left?this.setAttribute("data-overflow-left","true"):this.removeAttribute("data-overflow-left")}hide(){this.setAttribute("data-visibility","hide"),this.style.display="none"}show(){this.setAttribute("data-visibility","show"),this.style.display="block"}clear(){this.value="",this.resultObject=void 0}scrollToNextPage(e){let t=this.displayElement.clientWidth-64-8;switch(e){case Fl.LEFT:t=-t;break;case Fl.RIGHT:break;default:throw new Error("Scroll direction not implement yet!: ")}this.displayElement.scrollTo({left:this.displayElement.scrollLeft+t,behavior:"smooth"}),this.debounceUpdateScrollStateFn()}render(){this.displayElement=this.querySelector('[data-type="display"]'),this.value?this.setAttribute(Il,this.value):this.removeAttribute(Il);let e=Dl(this.latexValue,{ansValue:this._ansValue});if(this.displayElement)this.displayElement.innerHTML=e;else{let t=`\n            <div data-type="display" class="peer overflow-y-hidden hide-scrollbar py-1">\n               ${e}\n            </div>\n            `;this.innerHTML=this.innerHTML+t}this.style.visibility="visible"}bindingDragScrollEvent(e){let t={left:0,x:0};const r=function(r){let i=e;const a=r.clientX-t.x;i.scrollLeft=t.left-a},i=function(){let t=e;document.removeEventListener("mousemove",r),document.removeEventListener("mouseup",i),t.style.cursor="grab",t.style.removeProperty("user-select")};e.addEventListener("mousedown",(function(a){if(2==a.button)return;let s=e;s.style.cursor="grabbing",s.style.userSelect="none",t={left:s.scrollLeft,x:a.clientX},document.addEventListener("mousemove",r),document.addEventListener("mouseup",i)}))}}var zl,Bl,Ol=(e=>(e.FOCUS_IN="FOCUS_IN",e.FOCUS_OUT="FOCUS_OUT",e.FOCUS_PROGRAMMATICALLY="FOCUS_PROGRAMMATICALLY",e.BLUR_PROGRAMMATICALLY="BLUR_PROGRAMMATICALLY",e))(Ol||{});class Rl extends HTMLElement{debounceUpdateScrollStateFn=ai.debounce((()=>this.updateScrollState()),50);_editor;_lastHasFocus;constructor(){super();let e=this.querySelector("math-field");this._editor=e,this._editor.registers.arraystretch=1.3,this.updateScrollState(),e.addEventListener("input",(()=>{this.onInputChange()})),e.getField().addEventListener("scroll",(()=>{this.debounceUpdateScrollStateFn()})),window.addEventListener("resize",(()=>{this.debounceUpdateScrollStateFn()})),this._editor.addEventListener("click",(()=>{let e=new CustomEvent("editor-click",{});this.dispatchEvent(e)})),this._editor.addEventListener("focusin",(e=>{this.onFocusChange(),this.clearInNextInsert&&(this.clearInNextInsert=!1),this.debounceUpdateScrollStateFn()})),this._editor.addEventListener("focusout",(e=>{this.onFocusChange(),this.debounceUpdateScrollStateFn()}));let t=this.querySelector('[data-scroll-direction="left"]');this.querySelector('[data-scroll-direction="right"]').addEventListener("pointerdown",(e=>{this.scrollToNextPage(Fl.RIGHT),e.preventDefault()})),t.addEventListener("pointerdown",(e=>{this.scrollToNextPage(Fl.LEFT),e.preventDefault()})),console.log("Init","Math Input",this._editor.id),this.addEventListener("contextmenu",(e=>{let t=ar.getCalculator();if(!t)return;let r=t.mathContextMenu;r.bindingData({elementType:"math-input",targetElement:this}),r.show(e)}))}_value;get value(){return this._editor.value}get selectedValue(){return this._editor.getValue(this._editor.selection,"latex")}set value(e){this._value=e,this._editor.setValue(e),this.onInputChange(),this.debounceUpdateScrollStateFn()}_ansValue=void 0;set ansValue(e){this._ansValue!==e&&(this._ansValue=e,this._editor.setAnsValue(e))}get hasFocus(){return this._editor.hasFocus()}get isEmpty(){return""==this._editor.value.trim()}_clearInNextInsert=!1;get clearInNextInsert(){return this._clearInNextInsert}set clearInNextInsert(e){console.log("CLEAR IN NEXT INPUT: ",e,this.id),e&&this.blur(),this._clearInNextInsert=e}get inputElement(){return this._editor.getField()}get readOnly(){return this._editor.readOnly}set readOnly(e){this._editor.readOnly=e||e}_focusElementName;get focusElementName(){return this._focusElementName}set focusElementName(e){this._focusElementName=e}moveCursor(e){if(this.clearInNextInsert)this.clearInNextInsert=!1;else switch(e){case Ci.LEFT:this._editor?.executeCommand("moveToPreviousChar");break;case Ci.RIGHT:this._editor?.executeCommand("moveToNextChar");break;case Ci.UP:this._editor?.executeCommand("moveUp");break;case Ci.DOWN:this._editor?.executeCommand("moveDown")}}clear(){this._editor.executeCommand("deleteAll"),this.focus()}delete(){this._editor.executeCommand("deleteBackward"),this.focus()}insert(e){void 0!==e&&this._editor.insert(e,{scrollIntoCaret:!0})}focus(){console.log("Input focus change FOCUS by code: ",this._editor.id);try{this._editor.focus()}catch(e){console.error("focus() error",e,this._editor.id)}this.onFocusStateChange(Ol.FOCUS_PROGRAMMATICALLY)}blur(){console.log("Input focus change BLUR by code: ",this._editor.id),this._editor.blur(),this.onFocusStateChange(Ol.BLUR_PROGRAMMATICALLY)}selectAll(){this._editor.executeCommand("selectAll")}undo(){this._editor.executeCommand("undo")}redo(){this._editor.executeCommand("redo")}get canUndo(){return this._editor.canUndo()}get canRedo(){return this._editor.canRedo()}hide(){this.style.display="none"}show(){this.style.display="block",this.debounceUpdateScrollStateFn()}scrollToNextPage(e){let t=0;switch(t=this.inputElement.clientWidth-64-8,e){case Fl.LEFT:t=-t,this._editor.executeCommand(["scroll",t,"smooth"]);break;case Fl.RIGHT:this._editor.executeCommand(["scroll",t,"smooth"]);break;default:throw new Error("Scroll direction not implement yet!: ")}this.debounceUpdateScrollStateFn()}onFocusChange(){if(this._lastHasFocus==this.hasFocus)return;this._lastHasFocus=this.hasFocus;let e=new CustomEvent("focus",{detail:{focus:this.hasFocus}});this.dispatchEvent(e)}onFocusStateChange(e){let t=new CustomEvent("focus-state",{detail:{state:e}});this.dispatchEvent(t)}onInputChange(){this._value=this._editor.value;let e=new CustomEvent("input",{detail:{value:this.value}});this.debounceUpdateScrollStateFn(),this.dispatchEvent(e)}updateScrollState(){try{let e=function(e){let t={left:!1,right:!1};return!e||!(e.scrollWidth>e.clientWidth)||(t.left=e.scrollLeft>1,t.right=e.scrollWidth-e.clientWidth-e.scrollLeft>=3),t},t=this.inputElement,r=this;if(!t)return;let i=e(t);i.right?r.setAttribute("data-overflow-right","true"):r.removeAttribute("data-overflow-right"),i.left?r.setAttribute("data-overflow-left","true"):r.removeAttribute("data-overflow-left")}catch(e){console.error("updateScrollState got error",e,this)}}reRender(){let e=this._editor.value;this._editor.setValue(""),this._editor.insert(e)}}class ql extends HTMLElement{resultView;resultView2;loadingResultView;errorView;mode=void 0;_lastLoadingState=!1;_isLoadingResultTimeOut;calculator;viewMoreResultFormatButton;likeButton;dislikeButton;moreButton;resultViewState={};_value;constructor(){super(),this.mode=this.getAttribute("data-mode")}set isLoadingResult(e){if(this._isLoadingResultTimeOut&&clearTimeout(this._isLoadingResultTimeOut),this._lastLoadingState===e)return;const t=()=>{this._lastLoadingState=e,console.log("updateLoadingUI","loading",e,"this._lastLoadingState",this._lastLoadingState),e?(this.show(),this.resultView.hide(),this.resultView2.hide(),this.errorView.hide(),this.loadingResultView.show()):this.loadingResultView.hide()};!0===this._lastLoadingState&&void 0===e?this._isLoadingResultTimeOut=setTimeout((()=>{t()}),400):t()}updateResultViewState(e){Object.keys(e).forEach((t=>{let r=`data-${t}`;e[t]?this.setAttribute(r,""):this.removeAttribute(r)})),this.resultViewState=e}set value(e){this._value=e,this.resultView.resultObject=e?.resultObject,this.updateResultViewState({disliked:void 0,liked:void 0,isError:void 0,hasResult:void 0}),null==e&&(this.resultView.value=void 0,this.resultView2.value=void 0,this.errorView.value=void 0),e?.result?(this.resultView.value=e.result.latex,e.result.latex&&this.updateResultViewState({...this.resultViewState,hasResult:!0}),this.resultView.show()):(this.resultView.hide(),this.resultView.value=""),e?.resultRepresentation?(this.resultView2.show(),this.resultView2.value=e.resultRepresentation.latex,e.resultRepresentation.latex&&this.updateResultViewState({...this.resultViewState,hasResult:!0})):(this.resultView2.hide(),this.resultView2.value=""),e?.error?(this.errorView.value=e.error.message,this.errorView.show(),e.error.message&&this.updateResultViewState({...this.resultViewState,hasResult:!0,isError:!0})):(this.errorView.hide(),this.errorView.value=""),e?.options?.scrollToResultView&&this.calculator?.calculatorScreenElement.scrollToPosition(this.mode===ir.CALC_MODE?"resultViewCalcMode":"resultViewMathMode")}get value(){return this._value}get isHidden(){return"none"===this.style.display}get isShow(){return!this.isHidden}init(e){this.calculator=e,this.errorView=this.querySelector("error-view"),this.resultView=this.querySelector('math-view[data-name="result"]'),this.resultView2=this.querySelector('math-view[data-name="result-2"]'),this.loadingResultView=this.querySelector("result-loading");const t=e.mathContextMenu;this.resultView.addEventListener("contextmenu",(e=>{this.resultView.value&&(t.bindingData({resultObject:this.resultView.resultObject,targetElement:this.resultView,latex:this.resultView.value}),t.show(e))})),this.resultView.addEventListener("click",(t=>{this.resultView.value&&(e.executeCommands([f.openResultFormatDialog,!0,this.resultView.resultObject]),Xe.sendMathContextMenuEvent("result-format-by-click-math"))})),this.moreButton=this.querySelector('button[name="more"]'),this.moreButton.addEventListener("click",(e=>{this.resultView.value&&(t.bindingData({resultObject:this.resultView.resultObject,targetElement:this.resultView,latex:this.resultView.value}),t.show(e))})),this.viewMoreResultFormatButton=this.querySelector('button[name="result-format"]'),this.viewMoreResultFormatButton.addEventListener("click",(t=>{this.resultView.value&&e.executeCommands([f.openResultFormatDialog,!0,this.resultView.resultObject])})),this.likeButton=this.querySelector('button[name="thumb-up"]');let r=Fh.getInstance();this.likeButton.addEventListener("click",(e=>{!this.resultView.value&&!this.errorView.value||(this.updateResultViewState({...this.resultViewState,liked:!this.resultViewState.liked,disliked:!1}),this.likeButton.querySelectorAll("svg").forEach((e=>{e.classList.add("shake")})),setTimeout((()=>{this.likeButton.querySelectorAll("svg").forEach((e=>{e.classList.remove("shake")}))}),400),r.recordMathResultRating({eventId:this.value?.eventId,like:this.resultViewState.liked,dislike:this.resultViewState.disliked}))})),this.dislikeButton=this.querySelector('button[name="thumb-down"]'),this.dislikeButton.addEventListener("click",(e=>{!this.resultView.value&&!this.errorView.value||(this.updateResultViewState({...this.resultViewState,liked:!1,disliked:!this.resultViewState.disliked}),this.dislikeButton.querySelectorAll("svg").forEach((e=>{e.classList.add("shake")})),setTimeout((()=>{this.dislikeButton.querySelectorAll("svg").forEach((e=>{e.classList.remove("shake")}))}),400),this.resultViewState.disliked?r.showCalculationResultDislike({eventId:this.value?.eventId,like:this.resultViewState.liked,dislike:this.resultViewState.disliked}):r.recordMathResultRating({eventId:this.value?.eventId,like:this.resultViewState.liked,dislike:this.resultViewState.disliked}))}))}hide(){this.style.display="none"}show(){this.style.display="flex"}}class $l extends HTMLElement{mathInput;resultViewInstance;variableViewPrefix;constructor(){super(),console.log("Init",this.id)}set currentCalcModeStep(e){let t=e?.actions,r=e?.variableName;t==_e.CALCULATE_AND_SAVE_VARIABLE_VALUE?(this.variableViewPrefix.value=`\\variable{${r}}=`,this.mathInput.value=this.calculator.variableManager.variables[r]?.displayingLatex||"",this.mathInput.clearInNextInsert=!0,this._calculator.focusStateManager.setFocusState({focusElement:oi.SCREEN_CONTAINER}),this.resultViewInstance.value=void 0,this.resultViewInstance.show(),this.show()):this.hide()}_calculator;get calculator(){return this._calculator}init(){this._calculator=ar.getCalculator(),this.variableViewPrefix=this.querySelector(`#${B.variableNameDisplayCalcMode}`),this.mathInput=this.querySelector("math-input"),this.resultViewInstance=this.querySelector("result-view"),this.resultViewInstance.init(this._calculator),this.resultViewInstance.hide(),this.mathInput.focusElementName=oi.CALC_MODE_INPUT}show(){this.style.display="block"}hide(){this.style.display="none"}focus(){this.mathInput.focus()}blur(){this.mathInput.blur()}}class Vl extends HTMLElement{tabToggleCalculationType;calculatorModeLabel;calculatorMainModeLabel;toggleRightTabPanelButton;toggleCalculationTypeButton;redoButton;undoButton;calcSettingManager;constructor(){super()}_calculator;get calculator(){return this._calculator}init(e){this._calculator=e,this.calcSettingManager=this.calculator.calcSettingManager,this.toggleCalculationTypeButton=this.querySelector(`#${B.toggleCalculationType}`),this.toggleCalculationTypeButton.addEventListener("click",(()=>{this.calculator.executeCommands(f.switchSymbolicAndDecimal)})),this.calcSettingManager.$calculationType.subscribe((e=>{this.toggleCalculationTypeButton.textContent="DEC"==e?"DECI":e,this.toggleCalculationTypeButton.value=e})),this.calculatorMainModeLabel=this.querySelector(`#${B.calculatorMainModeLabel}`),this.redoButton=this.querySelector(`#${B.buttonRedo}`),this.undoButton=this.querySelector(`#${B.buttonUndo}`),this.updateUndoRedoButton(),this.redoButton.addEventListener("click",(()=>{this.calculator.executeCommands(f.redo)})),this.undoButton.addEventListener("click",(()=>{this.calculator.executeCommands(f.undo)})),this.calculator.addEventListener("command-executed",(()=>{this.updateUndoRedoButton()})),this.calcSettingManager.$calculatorMainMode.subscribe((e=>{e===ir.MATH_MODE&&(this.calculatorMainModeLabel.style.display="none"),e===ir.CALC_MODE&&(this.calculatorMainModeLabel.textContent="CALC",this.calculatorMainModeLabel.style.display="grid")})),this.toggleRightTabPanelButton=this.querySelector(`#${B.toggleRightPanelButton}`),this.toggleRightTabPanelButton.addEventListener("click",(()=>{Qt.getRightPanelAttribute().show?Qt.setRightSideBar({show:!1}):Qt.setRightSideBar({show:!0})}))}updateUndoRedoButton(){let e=this.calculator.calculatorScreenElement.currentInput,t="data-disabled";e&&e.canUndo?this.undoButton.removeAttribute(t):this.undoButton.setAttribute(t,void 0),e&&e.canRedo?this.redoButton.removeAttribute(t):this.redoButton.setAttribute(t,void 0)}hide(){this.style.display="none"}show(){this.style.display="flex"}}class Hl extends HTMLElement{calculator;historyList=[];listItemTemplate;MAX_HISTORY_LENGTH=30;constructor(){super()}init(e){this.calculator=e,this.listItemTemplate=this.querySelector('screen-history-item[type="template"]'),this.calculator.calcHistoryManager.$screenHistoryListChangedAction.subscribe((e=>{this.onHistoryListUpdated(e)}))}clearAllElements(){let e=[];for(let t of this.children)t.tagName==="screen-history-item".toUpperCase()&&"template"!=t.getAttribute("type")&&e.push(t);e.forEach((e=>e.remove()))}appendElement(e){try{this.appendChild(this.getNewListItem(e)),this.childElementCount>this.MAX_HISTORY_LENGTH&&this.firstElementChild.remove()}catch(e){console.error("appendElement screen history got error ",e)}}onHistoryListUpdated(e){switch(e.action){case"init":this.historyList=e.originList,this.clearAllElements(),this.historyList?.forEach((e=>{this.appendElement(e)}));break;case"push":this.appendElement(e.value);break;default:console.error("Action not handled yet!, ",+JSON.stringify(e))}}getNewListItem(e){let t=this.listItemTemplate.cloneNode(!0);return t.init(this.calculator),t.data=e,t.show(),t}}class Nl extends HTMLElement{calculator;_variables;_valueElements={};constructor(){super()}init(e){console.log("Init variable-list-element"),this.calculator=e,Object.keys(Qn).forEach((e=>{this._valueElements[e]=this.querySelector(`math-view[name=${e}]`)})),this.calculator.variableManager.$variableList.subscribe((e=>{this.onVariablesUpdated(e)})),this.setAttribute("data-init","true")}get isInitialized(){return"true"===this.getAttribute("data-init")}onVariablesUpdated(e){const t=this._variables;this._variables={...e};for(const r of Object.keys(Qn))t?.[r]?.displayingLatex!=e?.[r]?.displayingLatex&&(this._valueElements[r].value=e?.[r]?.displayingLatex)}}function Ul(){return zl.apply(null,arguments)}function Yl(e){return e instanceof Array||"[object Array]"===Object.prototype.toString.call(e)}function jl(e){return null!=e&&"[object Object]"===Object.prototype.toString.call(e)}function Wl(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function Gl(e){if(Object.getOwnPropertyNames)return 0===Object.getOwnPropertyNames(e).length;var t;for(t in e)if(Wl(e,t))return!1;return!0}function Jl(e){return void 0===e}function Xl(e){return"number"==typeof e||"[object Number]"===Object.prototype.toString.call(e)}function Zl(e){return e instanceof Date||"[object Date]"===Object.prototype.toString.call(e)}function Kl(e,t){var r,i=[],a=e.length;for(r=0;r<a;++r)i.push(t(e[r],r));return i}function Ql(e,t){for(var r in t)Wl(t,r)&&(e[r]=t[r]);return Wl(t,"toString")&&(e.toString=t.toString),Wl(t,"valueOf")&&(e.valueOf=t.valueOf),e}function ec(e,t,r,i){return _h(e,t,r,i,!0).utc()}function tc(e){return null==e._pf&&(e._pf={empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidEra:null,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],era:null,meridiem:null,rfc2822:!1,weekdayMismatch:!1}),e._pf}function rc(e){var t=null,r=!1,i=e._d&&!isNaN(e._d.getTime());return i&&(t=tc(e),r=Bl.call(t.parsedDateParts,(function(e){return null!=e})),i=t.overflow<0&&!t.empty&&!t.invalidEra&&!t.invalidMonth&&!t.invalidWeekday&&!t.weekdayMismatch&&!t.nullInput&&!t.invalidFormat&&!t.userInvalidated&&(!t.meridiem||t.meridiem&&r),e._strict&&(i=i&&0===t.charsLeftOver&&0===t.unusedTokens.length&&void 0===t.bigHour)),null!=Object.isFrozen&&Object.isFrozen(e)?i:(e._isValid=i,e._isValid)}function ic(e){var t=ec(NaN);return null!=e?Ql(tc(t),e):tc(t).userInvalidated=!0,t}Bl=Array.prototype.some?Array.prototype.some:function(e){var t,r=Object(this),i=r.length>>>0;for(t=0;t<i;t++)if(t in r&&e.call(this,r[t],t,r))return!0;return!1};var ac=Ul.momentProperties=[],sc=!1;function nc(e,t){var r,i,a,s=ac.length;if(Jl(t._isAMomentObject)||(e._isAMomentObject=t._isAMomentObject),Jl(t._i)||(e._i=t._i),Jl(t._f)||(e._f=t._f),Jl(t._l)||(e._l=t._l),Jl(t._strict)||(e._strict=t._strict),Jl(t._tzm)||(e._tzm=t._tzm),Jl(t._isUTC)||(e._isUTC=t._isUTC),Jl(t._offset)||(e._offset=t._offset),Jl(t._pf)||(e._pf=tc(t)),Jl(t._locale)||(e._locale=t._locale),s>0)for(r=0;r<s;r++)Jl(a=t[i=ac[r]])||(e[i]=a);return e}function oc(e){nc(this,e),this._d=new Date(null!=e._d?e._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),!1===sc&&(sc=!0,Ul.updateOffset(this),sc=!1)}function lc(e){return e instanceof oc||null!=e&&null!=e._isAMomentObject}function cc(e){!1===Ul.suppressDeprecationWarnings&&typeof console<"u"&&console.warn&&console.warn("Deprecation warning: "+e)}function uc(e,t){var r=!0;return Ql((function(){if(null!=Ul.deprecationHandler&&Ul.deprecationHandler(null,e),r){var i,a,s,n=[],o=arguments.length;for(a=0;a<o;a++){if(i="","object"==typeof arguments[a]){for(s in i+="\n["+a+"] ",arguments[0])Wl(arguments[0],s)&&(i+=s+": "+arguments[0][s]+", ");i=i.slice(0,-2)}else i=arguments[a];n.push(i)}cc(e+"\nArguments: "+Array.prototype.slice.call(n).join("")+"\n"+(new Error).stack),r=!1}return t.apply(this,arguments)}),t)}var hc,dc={};function mc(e,t){null!=Ul.deprecationHandler&&Ul.deprecationHandler(e,t),dc[e]||(cc(t),dc[e]=!0)}function pc(e){return typeof Function<"u"&&e instanceof Function||"[object Function]"===Object.prototype.toString.call(e)}function gc(e,t){var r,i=Ql({},e);for(r in t)Wl(t,r)&&(jl(e[r])&&jl(t[r])?(i[r]={},Ql(i[r],e[r]),Ql(i[r],t[r])):null!=t[r]?i[r]=t[r]:delete i[r]);for(r in e)Wl(e,r)&&!Wl(t,r)&&jl(e[r])&&(i[r]=Ql({},i[r]));return i}function fc(e){null!=e&&this.set(e)}Ul.suppressDeprecationWarnings=!1,Ul.deprecationHandler=null,hc=Object.keys?Object.keys:function(e){var t,r=[];for(t in e)Wl(e,t)&&r.push(t);return r};function yc(e,t,r){var i=""+Math.abs(e),a=t-i.length;return(e>=0?r?"+":"":"-")+Math.pow(10,Math.max(0,a)).toString().substr(1)+i}var bc=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|N{1,5}|YYYYYY|YYYYY|YYYY|YY|y{2,4}|yo?|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,vc=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,wc={},_c={};function Sc(e,t,r,i){var a=i;"string"==typeof i&&(a=function(){return this[i]()}),e&&(_c[e]=a),t&&(_c[t[0]]=function(){return yc(a.apply(this,arguments),t[1],t[2])}),r&&(_c[r]=function(){return this.localeData().ordinal(a.apply(this,arguments),e)})}function xc(e){return e.match(/\[[\s\S]/)?e.replace(/^\[|\]$/g,""):e.replace(/\\/g,"")}function Mc(e,t){return e.isValid()?(t=kc(t,e.localeData()),wc[t]=wc[t]||function(e){var t,r,i=e.match(bc);for(t=0,r=i.length;t<r;t++)_c[i[t]]?i[t]=_c[i[t]]:i[t]=xc(i[t]);return function(t){var a,s="";for(a=0;a<r;a++)s+=pc(i[a])?i[a].call(t,e):i[a];return s}}(t),wc[t](e)):e.localeData().invalidDate()}function kc(e,t){var r=5;function i(e){return t.longDateFormat(e)||e}for(vc.lastIndex=0;r>=0&&vc.test(e);)e=e.replace(vc,i),vc.lastIndex=0,r-=1;return e}var Lc={D:"date",dates:"date",date:"date",d:"day",days:"day",day:"day",e:"weekday",weekdays:"weekday",weekday:"weekday",E:"isoWeekday",isoweekdays:"isoWeekday",isoweekday:"isoWeekday",DDD:"dayOfYear",dayofyears:"dayOfYear",dayofyear:"dayOfYear",h:"hour",hours:"hour",hour:"hour",ms:"millisecond",milliseconds:"millisecond",millisecond:"millisecond",m:"minute",minutes:"minute",minute:"minute",M:"month",months:"month",month:"month",Q:"quarter",quarters:"quarter",quarter:"quarter",s:"second",seconds:"second",second:"second",gg:"weekYear",weekyears:"weekYear",weekyear:"weekYear",GG:"isoWeekYear",isoweekyears:"isoWeekYear",isoweekyear:"isoWeekYear",w:"week",weeks:"week",week:"week",W:"isoWeek",isoweeks:"isoWeek",isoweek:"isoWeek",y:"year",years:"year",year:"year"};function Ac(e){return"string"==typeof e?Lc[e]||Lc[e.toLowerCase()]:void 0}function Cc(e){var t,r,i={};for(r in e)Wl(e,r)&&((t=Ac(r))&&(i[t]=e[r]));return i}var Tc={date:9,day:11,weekday:11,isoWeekday:11,dayOfYear:4,hour:13,millisecond:16,minute:14,month:8,quarter:7,second:15,weekYear:1,isoWeekYear:1,week:5,isoWeek:5,year:1};var Dc,Ec=/\d/,Fc=/\d\d/,Ic=/\d{3}/,Pc=/\d{4}/,zc=/[+-]?\d{6}/,Bc=/\d\d?/,Oc=/\d\d\d\d?/,Rc=/\d\d\d\d\d\d?/,qc=/\d{1,3}/,$c=/\d{1,4}/,Vc=/[+-]?\d{1,6}/,Hc=/\d+/,Nc=/[+-]?\d+/,Uc=/Z|[+-]\d\d:?\d\d/gi,Yc=/Z|[+-]\d\d(?::?\d\d)?/gi,jc=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i,Wc=/^[1-9]\d?/,Gc=/^([1-9]\d|\d)/;function Jc(e,t,r){Dc[e]=pc(t)?t:function(e,i){return e&&r?r:t}}function Xc(e,t){return Wl(Dc,e)?Dc[e](t._strict,t._locale):new RegExp(function(e){return Zc(e.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,(function(e,t,r,i,a){return t||r||i||a})))}(e))}function Zc(e){return e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function Kc(e){return e<0?Math.ceil(e)||0:Math.floor(e)}function Qc(e){var t=+e,r=0;return 0!==t&&isFinite(t)&&(r=Kc(t)),r}Dc={};var eu={};function tu(e,t){var r,i,a=t;for("string"==typeof e&&(e=[e]),Xl(t)&&(a=function(e,r){r[t]=Qc(e)}),i=e.length,r=0;r<i;r++)eu[e[r]]=a}function ru(e,t){tu(e,(function(e,r,i,a){i._w=i._w||{},t(e,i._w,i,a)}))}function iu(e,t,r){null!=t&&Wl(eu,e)&&eu[e](t,r._a,r,e)}function au(e){return e%4==0&&e%100!=0||e%400==0}var su=0,nu=1,ou=2,lu=3,cu=4,uu=5,hu=6,du=7,mu=8;function pu(e){return au(e)?366:365}Sc("Y",0,0,(function(){var e=this.year();return e<=9999?yc(e,4):"+"+e})),Sc(0,["YY",2],0,(function(){return this.year()%100})),Sc(0,["YYYY",4],0,"year"),Sc(0,["YYYYY",5],0,"year"),Sc(0,["YYYYYY",6,!0],0,"year"),Jc("Y",Nc),Jc("YY",Bc,Fc),Jc("YYYY",$c,Pc),Jc("YYYYY",Vc,zc),Jc("YYYYYY",Vc,zc),tu(["YYYYY","YYYYYY"],su),tu("YYYY",(function(e,t){t[su]=2===e.length?Ul.parseTwoDigitYear(e):Qc(e)})),tu("YY",(function(e,t){t[su]=Ul.parseTwoDigitYear(e)})),tu("Y",(function(e,t){t[su]=parseInt(e,10)})),Ul.parseTwoDigitYear=function(e){return Qc(e)+(Qc(e)>68?1900:2e3)};var gu,fu=yu("FullYear",!0);function yu(e,t){return function(r){return null!=r?(vu(this,e,r),Ul.updateOffset(this,t),this):bu(this,e)}}function bu(e,t){if(!e.isValid())return NaN;var r=e._d,i=e._isUTC;switch(t){case"Milliseconds":return i?r.getUTCMilliseconds():r.getMilliseconds();case"Seconds":return i?r.getUTCSeconds():r.getSeconds();case"Minutes":return i?r.getUTCMinutes():r.getMinutes();case"Hours":return i?r.getUTCHours():r.getHours();case"Date":return i?r.getUTCDate():r.getDate();case"Day":return i?r.getUTCDay():r.getDay();case"Month":return i?r.getUTCMonth():r.getMonth();case"FullYear":return i?r.getUTCFullYear():r.getFullYear();default:return NaN}}function vu(e,t,r){var i,a,s,n,o;if(e.isValid()&&!isNaN(r)){switch(i=e._d,a=e._isUTC,t){case"Milliseconds":return void(a?i.setUTCMilliseconds(r):i.setMilliseconds(r));case"Seconds":return void(a?i.setUTCSeconds(r):i.setSeconds(r));case"Minutes":return void(a?i.setUTCMinutes(r):i.setMinutes(r));case"Hours":return void(a?i.setUTCHours(r):i.setHours(r));case"Date":return void(a?i.setUTCDate(r):i.setDate(r));case"FullYear":break;default:return}s=r,n=e.month(),o=29!==(o=e.date())||1!==n||au(s)?o:28,a?i.setUTCFullYear(s,n,o):i.setFullYear(s,n,o)}}function wu(e,t){if(isNaN(e)||isNaN(t))return NaN;var r=function(e,t){return(e%t+t)%t}(t,12);return e+=(t-r)/12,1===r?au(e)?29:28:31-r%7%2}gu=Array.prototype.indexOf?Array.prototype.indexOf:function(e){var t;for(t=0;t<this.length;++t)if(this[t]===e)return t;return-1},Sc("M",["MM",2],"Mo",(function(){return this.month()+1})),Sc("MMM",0,0,(function(e){return this.localeData().monthsShort(this,e)})),Sc("MMMM",0,0,(function(e){return this.localeData().months(this,e)})),Jc("M",Bc,Wc),Jc("MM",Bc,Fc),Jc("MMM",(function(e,t){return t.monthsShortRegex(e)})),Jc("MMMM",(function(e,t){return t.monthsRegex(e)})),tu(["M","MM"],(function(e,t){t[nu]=Qc(e)-1})),tu(["MMM","MMMM"],(function(e,t,r,i){var a=r._locale.monthsParse(e,i,r._strict);null!=a?t[nu]=a:tc(r).invalidMonth=e}));var _u="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),Su="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),xu=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,Mu=jc,ku=jc;function Lu(e,t,r){var i,a,s,n=e.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],i=0;i<12;++i)s=ec([2e3,i]),this._shortMonthsParse[i]=this.monthsShort(s,"").toLocaleLowerCase(),this._longMonthsParse[i]=this.months(s,"").toLocaleLowerCase();return r?"MMM"===t?-1!==(a=gu.call(this._shortMonthsParse,n))?a:null:-1!==(a=gu.call(this._longMonthsParse,n))?a:null:"MMM"===t?-1!==(a=gu.call(this._shortMonthsParse,n))?a:-1!==(a=gu.call(this._longMonthsParse,n))?a:null:-1!==(a=gu.call(this._longMonthsParse,n))?a:-1!==(a=gu.call(this._shortMonthsParse,n))?a:null}function Au(e,t){if(!e.isValid())return e;if("string"==typeof t)if(/^\d+$/.test(t))t=Qc(t);else if(!Xl(t=e.localeData().monthsParse(t)))return e;var r=t,i=e.date();return i=i<29?i:Math.min(i,wu(e.year(),r)),e._isUTC?e._d.setUTCMonth(r,i):e._d.setMonth(r,i),e}function Cu(e){return null!=e?(Au(this,e),Ul.updateOffset(this,!0),this):bu(this,"Month")}function Tu(){function e(e,t){return t.length-e.length}var t,r,i,a,s=[],n=[],o=[];for(t=0;t<12;t++)r=ec([2e3,t]),i=Zc(this.monthsShort(r,"")),a=Zc(this.months(r,"")),s.push(i),n.push(a),o.push(a),o.push(i);s.sort(e),n.sort(e),o.sort(e),this._monthsRegex=new RegExp("^("+o.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+n.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+s.join("|")+")","i")}function Du(e,t,r,i,a,s,n){var o;return e<100&&e>=0?(o=new Date(e+400,t,r,i,a,s,n),isFinite(o.getFullYear())&&o.setFullYear(e)):o=new Date(e,t,r,i,a,s,n),o}function Eu(e){var t,r;return e<100&&e>=0?((r=Array.prototype.slice.call(arguments))[0]=e+400,t=new Date(Date.UTC.apply(null,r)),isFinite(t.getUTCFullYear())&&t.setUTCFullYear(e)):t=new Date(Date.UTC.apply(null,arguments)),t}function Fu(e,t,r){var i=7+t-r;return-((7+Eu(e,0,i).getUTCDay()-t)%7)+i-1}function Iu(e,t,r,i,a){var s,n,o=1+7*(t-1)+(7+r-i)%7+Fu(e,i,a);return o<=0?n=pu(s=e-1)+o:o>pu(e)?(s=e+1,n=o-pu(e)):(s=e,n=o),{year:s,dayOfYear:n}}function Pu(e,t,r){var i,a,s=Fu(e.year(),t,r),n=Math.floor((e.dayOfYear()-s-1)/7)+1;return n<1?i=n+zu(a=e.year()-1,t,r):n>zu(e.year(),t,r)?(i=n-zu(e.year(),t,r),a=e.year()+1):(a=e.year(),i=n),{week:i,year:a}}function zu(e,t,r){var i=Fu(e,t,r),a=Fu(e+1,t,r);return(pu(e)-i+a)/7}Sc("w",["ww",2],"wo","week"),Sc("W",["WW",2],"Wo","isoWeek"),Jc("w",Bc,Wc),Jc("ww",Bc,Fc),Jc("W",Bc,Wc),Jc("WW",Bc,Fc),ru(["w","ww","W","WW"],(function(e,t,r,i){t[i.substr(0,1)]=Qc(e)}));function Bu(e,t){return e.slice(t,7).concat(e.slice(0,t))}Sc("d",0,"do","day"),Sc("dd",0,0,(function(e){return this.localeData().weekdaysMin(this,e)})),Sc("ddd",0,0,(function(e){return this.localeData().weekdaysShort(this,e)})),Sc("dddd",0,0,(function(e){return this.localeData().weekdays(this,e)})),Sc("e",0,0,"weekday"),Sc("E",0,0,"isoWeekday"),Jc("d",Bc),Jc("e",Bc),Jc("E",Bc),Jc("dd",(function(e,t){return t.weekdaysMinRegex(e)})),Jc("ddd",(function(e,t){return t.weekdaysShortRegex(e)})),Jc("dddd",(function(e,t){return t.weekdaysRegex(e)})),ru(["dd","ddd","dddd"],(function(e,t,r,i){var a=r._locale.weekdaysParse(e,i,r._strict);null!=a?t.d=a:tc(r).invalidWeekday=e})),ru(["d","e","E"],(function(e,t,r,i){t[i]=Qc(e)}));var Ou="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),Ru="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),qu="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),$u=jc,Vu=jc,Hu=jc;function Nu(e,t,r){var i,a,s,n=e.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],i=0;i<7;++i)s=ec([2e3,1]).day(i),this._minWeekdaysParse[i]=this.weekdaysMin(s,"").toLocaleLowerCase(),this._shortWeekdaysParse[i]=this.weekdaysShort(s,"").toLocaleLowerCase(),this._weekdaysParse[i]=this.weekdays(s,"").toLocaleLowerCase();return r?"dddd"===t?-1!==(a=gu.call(this._weekdaysParse,n))?a:null:"ddd"===t?-1!==(a=gu.call(this._shortWeekdaysParse,n))?a:null:-1!==(a=gu.call(this._minWeekdaysParse,n))?a:null:"dddd"===t?-1!==(a=gu.call(this._weekdaysParse,n))||-1!==(a=gu.call(this._shortWeekdaysParse,n))?a:-1!==(a=gu.call(this._minWeekdaysParse,n))?a:null:"ddd"===t?-1!==(a=gu.call(this._shortWeekdaysParse,n))||-1!==(a=gu.call(this._weekdaysParse,n))?a:-1!==(a=gu.call(this._minWeekdaysParse,n))?a:null:-1!==(a=gu.call(this._minWeekdaysParse,n))||-1!==(a=gu.call(this._weekdaysParse,n))?a:-1!==(a=gu.call(this._shortWeekdaysParse,n))?a:null}function Uu(){function e(e,t){return t.length-e.length}var t,r,i,a,s,n=[],o=[],l=[],c=[];for(t=0;t<7;t++)r=ec([2e3,1]).day(t),i=Zc(this.weekdaysMin(r,"")),a=Zc(this.weekdaysShort(r,"")),s=Zc(this.weekdays(r,"")),n.push(i),o.push(a),l.push(s),c.push(i),c.push(a),c.push(s);n.sort(e),o.sort(e),l.sort(e),c.sort(e),this._weekdaysRegex=new RegExp("^("+c.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+l.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+o.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+n.join("|")+")","i")}function Yu(){return this.hours()%12||12}function ju(e,t){Sc(e,0,0,(function(){return this.localeData().meridiem(this.hours(),this.minutes(),t)}))}function Wu(e,t){return t._meridiemParse}Sc("H",["HH",2],0,"hour"),Sc("h",["hh",2],0,Yu),Sc("k",["kk",2],0,(function(){return this.hours()||24})),Sc("hmm",0,0,(function(){return""+Yu.apply(this)+yc(this.minutes(),2)})),Sc("hmmss",0,0,(function(){return""+Yu.apply(this)+yc(this.minutes(),2)+yc(this.seconds(),2)})),Sc("Hmm",0,0,(function(){return""+this.hours()+yc(this.minutes(),2)})),Sc("Hmmss",0,0,(function(){return""+this.hours()+yc(this.minutes(),2)+yc(this.seconds(),2)})),ju("a",!0),ju("A",!1),Jc("a",Wu),Jc("A",Wu),Jc("H",Bc,Gc),Jc("h",Bc,Wc),Jc("k",Bc,Wc),Jc("HH",Bc,Fc),Jc("hh",Bc,Fc),Jc("kk",Bc,Fc),Jc("hmm",Oc),Jc("hmmss",Rc),Jc("Hmm",Oc),Jc("Hmmss",Rc),tu(["H","HH"],lu),tu(["k","kk"],(function(e,t,r){var i=Qc(e);t[lu]=24===i?0:i})),tu(["a","A"],(function(e,t,r){r._isPm=r._locale.isPM(e),r._meridiem=e})),tu(["h","hh"],(function(e,t,r){t[lu]=Qc(e),tc(r).bigHour=!0})),tu("hmm",(function(e,t,r){var i=e.length-2;t[lu]=Qc(e.substr(0,i)),t[cu]=Qc(e.substr(i)),tc(r).bigHour=!0})),tu("hmmss",(function(e,t,r){var i=e.length-4,a=e.length-2;t[lu]=Qc(e.substr(0,i)),t[cu]=Qc(e.substr(i,2)),t[uu]=Qc(e.substr(a)),tc(r).bigHour=!0})),tu("Hmm",(function(e,t,r){var i=e.length-2;t[lu]=Qc(e.substr(0,i)),t[cu]=Qc(e.substr(i))})),tu("Hmmss",(function(e,t,r){var i=e.length-4,a=e.length-2;t[lu]=Qc(e.substr(0,i)),t[cu]=Qc(e.substr(i,2)),t[uu]=Qc(e.substr(a))}));var Gu=yu("Hours",!0);var Ju,Xu={calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},longDateFormat:{LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},invalidDate:"Invalid date",ordinal:"%d",dayOfMonthOrdinalParse:/\d{1,2}/,relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",w:"a week",ww:"%d weeks",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},months:_u,monthsShort:Su,week:{dow:0,doy:6},weekdays:Ou,weekdaysMin:qu,weekdaysShort:Ru,meridiemParse:/[ap]\.?m?\.?/i},Zu={},Ku={};function Qu(e,t){var r,i=Math.min(e.length,t.length);for(r=0;r<i;r+=1)if(e[r]!==t[r])return r;return i}function eh(e){return e&&e.toLowerCase().replace("_","-")}function th(e){var r=null;if(void 0===Zu[e]&&typeof t<"u"&&t&&t.exports&&function(e){return!(!e||!e.match("^[^/\\\\]*$"))}(e))try{r=Ju._abbr,require("./locale/"+e),rh(r)}catch{Zu[e]=null}return Zu[e]}function rh(e,t){var r;return e&&((r=Jl(t)?ah(e):ih(e,t))?Ju=r:typeof console<"u"&&console.warn&&console.warn("Locale "+e+" not found. Did you forget to load it?")),Ju._abbr}function ih(e,t){if(null!==t){var r,i=Xu;if(t.abbr=e,null!=Zu[e])mc("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),i=Zu[e]._config;else if(null!=t.parentLocale)if(null!=Zu[t.parentLocale])i=Zu[t.parentLocale]._config;else{if(null==(r=th(t.parentLocale)))return Ku[t.parentLocale]||(Ku[t.parentLocale]=[]),Ku[t.parentLocale].push({name:e,config:t}),null;i=r._config}return Zu[e]=new fc(gc(i,t)),Ku[e]&&Ku[e].forEach((function(e){ih(e.name,e.config)})),rh(e),Zu[e]}return delete Zu[e],null}function ah(e){var t;if(e&&e._locale&&e._locale._abbr&&(e=e._locale._abbr),!e)return Ju;if(!Yl(e)){if(t=th(e))return t;e=[e]}return function(e){for(var t,r,i,a,s=0;s<e.length;){for(t=(a=eh(e[s]).split("-")).length,r=(r=eh(e[s+1]))?r.split("-"):null;t>0;){if(i=th(a.slice(0,t).join("-")))return i;if(r&&r.length>=t&&Qu(a,r)>=t-1)break;t--}s++}return Ju}(e)}function sh(e){var t,r=e._a;return r&&-2===tc(e).overflow&&(t=r[nu]<0||r[nu]>11?nu:r[ou]<1||r[ou]>wu(r[su],r[nu])?ou:r[lu]<0||r[lu]>24||24===r[lu]&&(0!==r[cu]||0!==r[uu]||0!==r[hu])?lu:r[cu]<0||r[cu]>59?cu:r[uu]<0||r[uu]>59?uu:r[hu]<0||r[hu]>999?hu:-1,tc(e)._overflowDayOfYear&&(t<su||t>ou)&&(t=ou),tc(e)._overflowWeeks&&-1===t&&(t=du),tc(e)._overflowWeekday&&-1===t&&(t=mu),tc(e).overflow=t),e}var nh=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,oh=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d|))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,lh=/Z|[+-]\d\d(?::?\d\d)?/,ch=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/],["YYYYMM",/\d{6}/,!1],["YYYY",/\d{4}/,!1]],uh=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],hh=/^\/?Date\((-?\d+)/i,dh=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/,mh={UT:0,GMT:0,EDT:-240,EST:-300,CDT:-300,CST:-360,MDT:-360,MST:-420,PDT:-420,PST:-480};function ph(e){var t,r,i,a,s,n,o=e._i,l=nh.exec(o)||oh.exec(o),c=ch.length,u=uh.length;if(l){for(tc(e).iso=!0,t=0,r=c;t<r;t++)if(ch[t][1].exec(l[1])){a=ch[t][0],i=!1!==ch[t][2];break}if(null==a)return void(e._isValid=!1);if(l[3]){for(t=0,r=u;t<r;t++)if(uh[t][1].exec(l[3])){s=(l[2]||" ")+uh[t][0];break}if(null==s)return void(e._isValid=!1)}if(!i&&null!=s)return void(e._isValid=!1);if(l[4]){if(!lh.exec(l[4]))return void(e._isValid=!1);n="Z"}e._f=a+(s||"")+(n||""),vh(e)}else e._isValid=!1}function gh(e){var t=parseInt(e,10);return t<=49?2e3+t:t<=999?1900+t:t}function fh(e){var t,r=dh.exec(function(e){return e.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,"")}(e._i));if(r){if(t=function(e,t,r,i,a,s){var n=[gh(e),Su.indexOf(t),parseInt(r,10),parseInt(i,10),parseInt(a,10)];return s&&n.push(parseInt(s,10)),n}(r[4],r[3],r[2],r[5],r[6],r[7]),!function(e,t,r){return!e||Ru.indexOf(e)===new Date(t[0],t[1],t[2]).getDay()||(tc(r).weekdayMismatch=!0,r._isValid=!1,!1)}(r[1],t,e))return;e._a=t,e._tzm=function(e,t,r){if(e)return mh[e];if(t)return 0;var i=parseInt(r,10),a=i%100;return(i-a)/100*60+a}(r[8],r[9],r[10]),e._d=Eu.apply(null,e._a),e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),tc(e).rfc2822=!0}else e._isValid=!1}function yh(e,t,r){return e??t??r}function bh(e){var t,r,i,a,s,n=[];if(!e._d){for(i=function(e){var t=new Date(Ul.now());return e._useUTC?[t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate()]:[t.getFullYear(),t.getMonth(),t.getDate()]}(e),e._w&&null==e._a[ou]&&null==e._a[nu]&&function(e){var t,r,i,a,s,n,o,l,c;t=e._w,null!=t.GG||null!=t.W||null!=t.E?(s=1,n=4,r=yh(t.GG,e._a[su],Pu(Sh(),1,4).year),i=yh(t.W,1),a=yh(t.E,1),(a<1||a>7)&&(l=!0)):(s=e._locale._week.dow,n=e._locale._week.doy,c=Pu(Sh(),s,n),r=yh(t.gg,e._a[su],c.year),i=yh(t.w,c.week),null!=t.d?(a=t.d,(a<0||a>6)&&(l=!0)):null!=t.e?(a=t.e+s,(t.e<0||t.e>6)&&(l=!0)):a=s),i<1||i>zu(r,s,n)?tc(e)._overflowWeeks=!0:null!=l?tc(e)._overflowWeekday=!0:(o=Iu(r,i,a,s,n),e._a[su]=o.year,e._dayOfYear=o.dayOfYear)}(e),null!=e._dayOfYear&&(s=yh(e._a[su],i[su]),(e._dayOfYear>pu(s)||0===e._dayOfYear)&&(tc(e)._overflowDayOfYear=!0),r=Eu(s,0,e._dayOfYear),e._a[nu]=r.getUTCMonth(),e._a[ou]=r.getUTCDate()),t=0;t<3&&null==e._a[t];++t)e._a[t]=n[t]=i[t];for(;t<7;t++)e._a[t]=n[t]=null==e._a[t]?2===t?1:0:e._a[t];24===e._a[lu]&&0===e._a[cu]&&0===e._a[uu]&&0===e._a[hu]&&(e._nextDay=!0,e._a[lu]=0),e._d=(e._useUTC?Eu:Du).apply(null,n),a=e._useUTC?e._d.getUTCDay():e._d.getDay(),null!=e._tzm&&e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),e._nextDay&&(e._a[lu]=24),e._w&&typeof e._w.d<"u"&&e._w.d!==a&&(tc(e).weekdayMismatch=!0)}}function vh(e){if(e._f!==Ul.ISO_8601)if(e._f!==Ul.RFC_2822){e._a=[],tc(e).empty=!0;var t,r,i,a,s,n,o,l=""+e._i,c=l.length,u=0;for(o=(i=kc(e._f,e._locale).match(bc)||[]).length,t=0;t<o;t++)a=i[t],(r=(l.match(Xc(a,e))||[])[0])&&((s=l.substr(0,l.indexOf(r))).length>0&&tc(e).unusedInput.push(s),l=l.slice(l.indexOf(r)+r.length),u+=r.length),_c[a]?(r?tc(e).empty=!1:tc(e).unusedTokens.push(a),iu(a,r,e)):e._strict&&!r&&tc(e).unusedTokens.push(a);tc(e).charsLeftOver=c-u,l.length>0&&tc(e).unusedInput.push(l),e._a[lu]<=12&&!0===tc(e).bigHour&&e._a[lu]>0&&(tc(e).bigHour=void 0),tc(e).parsedDateParts=e._a.slice(0),tc(e).meridiem=e._meridiem,e._a[lu]=function(e,t,r){var i;return null==r?t:null!=e.meridiemHour?e.meridiemHour(t,r):(null!=e.isPM&&(i=e.isPM(r),i&&t<12&&(t+=12),!i&&12===t&&(t=0)),t)}(e._locale,e._a[lu],e._meridiem),null!==(n=tc(e).era)&&(e._a[su]=e._locale.erasConvertYear(n,e._a[su])),bh(e),sh(e)}else fh(e);else ph(e)}function wh(e){var t=e._i,r=e._f;return e._locale=e._locale||ah(e._l),null===t||void 0===r&&""===t?ic({nullInput:!0}):("string"==typeof t&&(e._i=t=e._locale.preparse(t)),lc(t)?new oc(sh(t)):(Zl(t)?e._d=t:Yl(r)?function(e){var t,r,i,a,s,n,o=!1,l=e._f.length;if(0===l)return tc(e).invalidFormat=!0,void(e._d=new Date(NaN));for(a=0;a<l;a++)s=0,n=!1,t=nc({},e),null!=e._useUTC&&(t._useUTC=e._useUTC),t._f=e._f[a],vh(t),rc(t)&&(n=!0),s+=tc(t).charsLeftOver,s+=10*tc(t).unusedTokens.length,tc(t).score=s,o?s<i&&(i=s,r=t):(null==i||s<i||n)&&(i=s,r=t,n&&(o=!0));Ql(e,r||t)}(e):r?vh(e):function(e){var t=e._i;Jl(t)?e._d=new Date(Ul.now()):Zl(t)?e._d=new Date(t.valueOf()):"string"==typeof t?function(e){var t=hh.exec(e._i);null===t?(ph(e),!1===e._isValid&&(delete e._isValid,fh(e),!1===e._isValid&&(delete e._isValid,e._strict?e._isValid=!1:Ul.createFromInputFallback(e)))):e._d=new Date(+t[1])}(e):Yl(t)?(e._a=Kl(t.slice(0),(function(e){return parseInt(e,10)})),bh(e)):jl(t)?function(e){if(!e._d){var t=Cc(e._i),r=void 0===t.day?t.date:t.day;e._a=Kl([t.year,t.month,r,t.hour,t.minute,t.second,t.millisecond],(function(e){return e&&parseInt(e,10)})),bh(e)}}(e):Xl(t)?e._d=new Date(t):Ul.createFromInputFallback(e)}(e),rc(e)||(e._d=null),e))}function _h(e,t,r,i,a){var s={};return(!0===t||!1===t)&&(i=t,t=void 0),(!0===r||!1===r)&&(i=r,r=void 0),(jl(e)&&Gl(e)||Yl(e)&&0===e.length)&&(e=void 0),s._isAMomentObject=!0,s._useUTC=s._isUTC=a,s._l=r,s._i=e,s._f=t,s._strict=i,function(e){var t=new oc(sh(wh(e)));return t._nextDay&&(t.add(1,"d"),t._nextDay=void 0),t}(s)}function Sh(e,t,r,i){return _h(e,t,r,i,!1)}Ul.createFromInputFallback=uc("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",(function(e){e._d=new Date(e._i+(e._useUTC?" UTC":""))})),Ul.ISO_8601=function(){},Ul.RFC_2822=function(){};var xh=uc("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",(function(){var e=Sh.apply(null,arguments);return this.isValid()&&e.isValid()?e<this?this:e:ic()})),Ch=uc("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",(function(){var e=Sh.apply(null,arguments);return this.isValid()&&e.isValid()?e>this?this:e:ic()}));function Th(e,t){var r,i;if(1===t.length&&Yl(t[0])&&(t=t[0]),!t.length)return Sh();for(r=t[0],i=1;i<t.length;++i)(!t[i].isValid()||t[i][e](r))&&(r=t[i]);return r}var Ih=["year","quarter","month","week","day","hour","minute","second","millisecond"];function Ph(e){var t=Cc(e),r=t.year||0,i=t.quarter||0,a=t.month||0,s=t.week||t.isoWeek||0,n=t.day||0,o=t.hour||0,l=t.minute||0,c=t.second||0,u=t.millisecond||0;this._isValid=function(e){var t,r,i=!1,a=Ih.length;for(t in e)if(Wl(e,t)&&(-1===gu.call(Ih,t)||null!=e[t]&&isNaN(e[t])))return!1;for(r=0;r<a;++r)if(e[Ih[r]]){if(i)return!1;parseFloat(e[Ih[r]])!==Qc(e[Ih[r]])&&(i=!0)}return!0}(t),this._milliseconds=+u+1e3*c+6e4*l+1e3*o*60*60,this._days=+n+7*s,this._months=+a+3*i+12*r,this._data={},this._locale=ah(),this._bubble()}function zh(e){return e instanceof Ph}function Oh(e){return e<0?-1*Math.round(-1*e):Math.round(e)}function Rh(e,t){Sc(e,0,0,(function(){var e=this.utcOffset(),r="+";return e<0&&(e=-e,r="-"),r+yc(~~(e/60),2)+t+yc(~~e%60,2)}))}Rh("Z",":"),Rh("ZZ",""),Jc("Z",Yc),Jc("ZZ",Yc),tu(["Z","ZZ"],(function(e,t,r){r._useUTC=!0,r._tzm=$h(Yc,e)}));var qh=/([\+\-]|\d\d)/gi;function $h(e,t){var r,i,a=(t||"").match(e);return null===a?null:0===(i=60*(r=((a[a.length-1]||[])+"").match(qh)||["-",0,0])[1]+Qc(r[2]))?0:"+"===r[0]?i:-i}function Vh(e,t){var r,i;return t._isUTC?(r=t.clone(),i=(lc(e)||Zl(e)?e.valueOf():Sh(e).valueOf())-r.valueOf(),r._d.setTime(r._d.valueOf()+i),Ul.updateOffset(r,!1),r):Sh(e).local()}function Hh(e){return-Math.round(e._d.getTimezoneOffset())}function Nh(){return!!this.isValid()&&(this._isUTC&&0===this._offset)}Ul.updateOffset=function(){};var Uh=/^(-|\+)?(?:(\d*)[. ])?(\d+):(\d+)(?::(\d+)(\.\d*)?)?$/,Yh=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function jh(e,t){var r,i,a,s=e,n=null;return zh(e)?s={ms:e._milliseconds,d:e._days,M:e._months}:Xl(e)||!isNaN(+e)?(s={},t?s[t]=+e:s.milliseconds=+e):(n=Uh.exec(e))?(r="-"===n[1]?-1:1,s={y:0,d:Qc(n[ou])*r,h:Qc(n[lu])*r,m:Qc(n[cu])*r,s:Qc(n[uu])*r,ms:Qc(Oh(1e3*n[hu]))*r}):(n=Yh.exec(e))?(r="-"===n[1]?-1:1,s={y:Wh(n[2],r),M:Wh(n[3],r),w:Wh(n[4],r),d:Wh(n[5],r),h:Wh(n[6],r),m:Wh(n[7],r),s:Wh(n[8],r)}):null==s?s={}:"object"==typeof s&&("from"in s||"to"in s)&&(a=function(e,t){var r;return e.isValid()&&t.isValid()?(t=Vh(t,e),e.isBefore(t)?r=Gh(e,t):(r=Gh(t,e),r.milliseconds=-r.milliseconds,r.months=-r.months),r):{milliseconds:0,months:0}}(Sh(s.from),Sh(s.to)),(s={}).ms=a.milliseconds,s.M=a.months),i=new Ph(s),zh(e)&&Wl(e,"_locale")&&(i._locale=e._locale),zh(e)&&Wl(e,"_isValid")&&(i._isValid=e._isValid),i}function Wh(e,t){var r=e&&parseFloat(e.replace(",","."));return(isNaN(r)?0:r)*t}function Gh(e,t){var r={};return r.months=t.month()-e.month()+12*(t.year()-e.year()),e.clone().add(r.months,"M").isAfter(t)&&--r.months,r.milliseconds=+t-+e.clone().add(r.months,"M"),r}function Jh(e,t){return function(r,i){var a;return null!==i&&!isNaN(+i)&&(mc(t,"moment()."+t+"(period, number) is deprecated. Please use moment()."+t+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),a=r,r=i,i=a),Xh(this,jh(r,i),e),this}}function Xh(e,t,r,i){var a=t._milliseconds,s=Oh(t._days),n=Oh(t._months);e.isValid()&&(i=i??!0,n&&Au(e,bu(e,"Month")+n*r),s&&vu(e,"Date",bu(e,"Date")+s*r),a&&e._d.setTime(e._d.valueOf()+a*r),i&&Ul.updateOffset(e,s||n))}jh.fn=Ph.prototype,jh.invalid=function(){return jh(NaN)};var Zh=Jh(1,"add"),Kh=Jh(-1,"subtract");function Qh(e){return"string"==typeof e||e instanceof String}function ed(e){return lc(e)||Zl(e)||Qh(e)||Xl(e)||function(e){var t=Yl(e),r=!1;return t&&(r=0===e.filter((function(t){return!Xl(t)&&Qh(e)})).length),t&&r}(e)||function(e){var t,r,i=jl(e)&&!Gl(e),a=!1,s=["years","year","y","months","month","M","days","day","d","dates","date","D","hours","hour","h","minutes","minute","m","seconds","second","s","milliseconds","millisecond","ms"],n=s.length;for(t=0;t<n;t+=1)r=s[t],a=a||Wl(e,r);return i&&a}(e)||null==e}function td(e,t){if(e.date()<t.date())return-td(t,e);var r,i=12*(t.year()-e.year())+(t.month()-e.month()),a=e.clone().add(i,"months");return t-a<0?r=(t-a)/(a-e.clone().add(i-1,"months")):r=(t-a)/(e.clone().add(i+1,"months")-a),-(i+r)||0}function rd(e){var t;return void 0===e?this._locale._abbr:(null!=(t=ah(e))&&(this._locale=t),this)}Ul.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",Ul.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";var id=uc("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",(function(e){return void 0===e?this.localeData():this.locale(e)}));function ad(){return this._locale}var sd=1e3,nd=6e4,od=60*nd,ld=3506328*od;function cd(e,t){return(e%t+t)%t}function ud(e,t,r){return e<100&&e>=0?new Date(e+400,t,r)-ld:new Date(e,t,r).valueOf()}function hd(e,t,r){return e<100&&e>=0?Date.UTC(e+400,t,r)-ld:Date.UTC(e,t,r)}function dd(e,t){return t.erasAbbrRegex(e)}function md(){var e,t,r,i,a,s=[],n=[],o=[],l=[],c=this.eras();for(e=0,t=c.length;e<t;++e)r=Zc(c[e].name),i=Zc(c[e].abbr),a=Zc(c[e].narrow),n.push(r),s.push(i),o.push(a),l.push(r),l.push(i),l.push(a);this._erasRegex=new RegExp("^("+l.join("|")+")","i"),this._erasNameRegex=new RegExp("^("+n.join("|")+")","i"),this._erasAbbrRegex=new RegExp("^("+s.join("|")+")","i"),this._erasNarrowRegex=new RegExp("^("+o.join("|")+")","i")}function pd(e,t){Sc(0,[e,e.length],0,t)}function gd(e,t,r,i,a){var s;return null==e?Pu(this,i,a).year:(t>(s=zu(e,i,a))&&(t=s),fd.call(this,e,t,r,i,a))}function fd(e,t,r,i,a){var s=Iu(e,t,r,i,a),n=Eu(s.year,0,s.dayOfYear);return this.year(n.getUTCFullYear()),this.month(n.getUTCMonth()),this.date(n.getUTCDate()),this}Sc("N",0,0,"eraAbbr"),Sc("NN",0,0,"eraAbbr"),Sc("NNN",0,0,"eraAbbr"),Sc("NNNN",0,0,"eraName"),Sc("NNNNN",0,0,"eraNarrow"),Sc("y",["y",1],"yo","eraYear"),Sc("y",["yy",2],0,"eraYear"),Sc("y",["yyy",3],0,"eraYear"),Sc("y",["yyyy",4],0,"eraYear"),Jc("N",dd),Jc("NN",dd),Jc("NNN",dd),Jc("NNNN",(function(e,t){return t.erasNameRegex(e)})),Jc("NNNNN",(function(e,t){return t.erasNarrowRegex(e)})),tu(["N","NN","NNN","NNNN","NNNNN"],(function(e,t,r,i){var a=r._locale.erasParse(e,i,r._strict);a?tc(r).era=a:tc(r).invalidEra=e})),Jc("y",Hc),Jc("yy",Hc),Jc("yyy",Hc),Jc("yyyy",Hc),Jc("yo",(function(e,t){return t._eraYearOrdinalRegex||Hc})),tu(["y","yy","yyy","yyyy"],su),tu(["yo"],(function(e,t,r,i){var a;r._locale._eraYearOrdinalRegex&&(a=e.match(r._locale._eraYearOrdinalRegex)),r._locale.eraYearOrdinalParse?t[su]=r._locale.eraYearOrdinalParse(e,a):t[su]=parseInt(e,10)})),Sc(0,["gg",2],0,(function(){return this.weekYear()%100})),Sc(0,["GG",2],0,(function(){return this.isoWeekYear()%100})),pd("gggg","weekYear"),pd("ggggg","weekYear"),pd("GGGG","isoWeekYear"),pd("GGGGG","isoWeekYear"),Jc("G",Nc),Jc("g",Nc),Jc("GG",Bc,Fc),Jc("gg",Bc,Fc),Jc("GGGG",$c,Pc),Jc("gggg",$c,Pc),Jc("GGGGG",Vc,zc),Jc("ggggg",Vc,zc),ru(["gggg","ggggg","GGGG","GGGGG"],(function(e,t,r,i){t[i.substr(0,2)]=Qc(e)})),ru(["gg","GG"],(function(e,t,r,i){t[i]=Ul.parseTwoDigitYear(e)})),Sc("Q",0,"Qo","quarter"),Jc("Q",Ec),tu("Q",(function(e,t){t[nu]=3*(Qc(e)-1)})),Sc("D",["DD",2],"Do","date"),Jc("D",Bc,Wc),Jc("DD",Bc,Fc),Jc("Do",(function(e,t){return e?t._dayOfMonthOrdinalParse||t._ordinalParse:t._dayOfMonthOrdinalParseLenient})),tu(["D","DD"],ou),tu("Do",(function(e,t){t[ou]=Qc(e.match(Bc)[0])}));var yd=yu("Date",!0);Sc("DDD",["DDDD",3],"DDDo","dayOfYear"),Jc("DDD",qc),Jc("DDDD",Ic),tu(["DDD","DDDD"],(function(e,t,r){r._dayOfYear=Qc(e)})),Sc("m",["mm",2],0,"minute"),Jc("m",Bc,Gc),Jc("mm",Bc,Fc),tu(["m","mm"],cu);var bd=yu("Minutes",!1);Sc("s",["ss",2],0,"second"),Jc("s",Bc,Gc),Jc("ss",Bc,Fc),tu(["s","ss"],uu);var vd,wd,_d=yu("Seconds",!1);for(Sc("S",0,0,(function(){return~~(this.millisecond()/100)})),Sc(0,["SS",2],0,(function(){return~~(this.millisecond()/10)})),Sc(0,["SSS",3],0,"millisecond"),Sc(0,["SSSS",4],0,(function(){return 10*this.millisecond()})),Sc(0,["SSSSS",5],0,(function(){return 100*this.millisecond()})),Sc(0,["SSSSSS",6],0,(function(){return 1e3*this.millisecond()})),Sc(0,["SSSSSSS",7],0,(function(){return 1e4*this.millisecond()})),Sc(0,["SSSSSSSS",8],0,(function(){return 1e5*this.millisecond()})),Sc(0,["SSSSSSSSS",9],0,(function(){return 1e6*this.millisecond()})),Jc("S",qc,Ec),Jc("SS",qc,Fc),Jc("SSS",qc,Ic),vd="SSSS";vd.length<=9;vd+="S")Jc(vd,Hc);function Sd(e,t){t[hu]=Qc(1e3*("0."+e))}for(vd="S";vd.length<=9;vd+="S")tu(vd,Sd);wd=yu("Milliseconds",!1),Sc("z",0,0,"zoneAbbr"),Sc("zz",0,0,"zoneName");var xd=oc.prototype;function Md(e){return e}xd.add=Zh,xd.calendar=function(e,t){1===arguments.length&&(arguments[0]?ed(arguments[0])?(e=arguments[0],t=void 0):function(e){var t,r=jl(e)&&!Gl(e),i=!1,a=["sameDay","nextDay","lastDay","nextWeek","lastWeek","sameElse"];for(t=0;t<a.length;t+=1)i=i||Wl(e,a[t]);return r&&i}(arguments[0])&&(t=arguments[0],e=void 0):(e=void 0,t=void 0));var r=e||Sh(),i=Vh(r,this).startOf("day"),a=Ul.calendarFormat(this,i)||"sameElse",s=t&&(pc(t[a])?t[a].call(this,r):t[a]);return this.format(s||this.localeData().calendar(a,this,Sh(r)))},xd.clone=function(){return new oc(this)},xd.diff=function(e,t,r){var i,a,s;if(!this.isValid())return NaN;if(!(i=Vh(e,this)).isValid())return NaN;switch(a=6e4*(i.utcOffset()-this.utcOffset()),t=Ac(t)){case"year":s=td(this,i)/12;break;case"month":s=td(this,i);break;case"quarter":s=td(this,i)/3;break;case"second":s=(this-i)/1e3;break;case"minute":s=(this-i)/6e4;break;case"hour":s=(this-i)/36e5;break;case"day":s=(this-i-a)/864e5;break;case"week":s=(this-i-a)/6048e5;break;default:s=this-i}return r?s:Kc(s)},xd.endOf=function(e){var t,r;if(void 0===(e=Ac(e))||"millisecond"===e||!this.isValid())return this;switch(r=this._isUTC?hd:ud,e){case"year":t=r(this.year()+1,0,1)-1;break;case"quarter":t=r(this.year(),this.month()-this.month()%3+3,1)-1;break;case"month":t=r(this.year(),this.month()+1,1)-1;break;case"week":t=r(this.year(),this.month(),this.date()-this.weekday()+7)-1;break;case"isoWeek":t=r(this.year(),this.month(),this.date()-(this.isoWeekday()-1)+7)-1;break;case"day":case"date":t=r(this.year(),this.month(),this.date()+1)-1;break;case"hour":t=this._d.valueOf(),t+=od-cd(t+(this._isUTC?0:this.utcOffset()*nd),od)-1;break;case"minute":t=this._d.valueOf(),t+=nd-cd(t,nd)-1;break;case"second":t=this._d.valueOf(),t+=sd-cd(t,sd)-1}return this._d.setTime(t),Ul.updateOffset(this,!0),this},xd.format=function(e){e||(e=this.isUtc()?Ul.defaultFormatUtc:Ul.defaultFormat);var t=Mc(this,e);return this.localeData().postformat(t)},xd.from=function(e,t){return this.isValid()&&(lc(e)&&e.isValid()||Sh(e).isValid())?jh({to:this,from:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()},xd.fromNow=function(e){return this.from(Sh(),e)},xd.to=function(e,t){return this.isValid()&&(lc(e)&&e.isValid()||Sh(e).isValid())?jh({from:this,to:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()},xd.toNow=function(e){return this.to(Sh(),e)},xd.get=function(e){return pc(this[e=Ac(e)])?this[e]():this},xd.invalidAt=function(){return tc(this).overflow},xd.isAfter=function(e,t){var r=lc(e)?e:Sh(e);return!(!this.isValid()||!r.isValid())&&("millisecond"===(t=Ac(t)||"millisecond")?this.valueOf()>r.valueOf():r.valueOf()<this.clone().startOf(t).valueOf())},xd.isBefore=function(e,t){var r=lc(e)?e:Sh(e);return!(!this.isValid()||!r.isValid())&&("millisecond"===(t=Ac(t)||"millisecond")?this.valueOf()<r.valueOf():this.clone().endOf(t).valueOf()<r.valueOf())},xd.isBetween=function(e,t,r,i){var a=lc(e)?e:Sh(e),s=lc(t)?t:Sh(t);return!!(this.isValid()&&a.isValid()&&s.isValid())&&(("("===(i=i||"()")[0]?this.isAfter(a,r):!this.isBefore(a,r))&&(")"===i[1]?this.isBefore(s,r):!this.isAfter(s,r)))},xd.isSame=function(e,t){var r,i=lc(e)?e:Sh(e);return!(!this.isValid()||!i.isValid())&&("millisecond"===(t=Ac(t)||"millisecond")?this.valueOf()===i.valueOf():(r=i.valueOf(),this.clone().startOf(t).valueOf()<=r&&r<=this.clone().endOf(t).valueOf()))},xd.isSameOrAfter=function(e,t){return this.isSame(e,t)||this.isAfter(e,t)},xd.isSameOrBefore=function(e,t){return this.isSame(e,t)||this.isBefore(e,t)},xd.isValid=function(){return rc(this)},xd.lang=id,xd.locale=rd,xd.localeData=ad,xd.max=Ch,xd.min=xh,xd.parsingFlags=function(){return Ql({},tc(this))},xd.set=function(e,t){if("object"==typeof e){var r,i=function(e){var t,r=[];for(t in e)Wl(e,t)&&r.push({unit:t,priority:Tc[t]});return r.sort((function(e,t){return e.priority-t.priority})),r}(e=Cc(e)),a=i.length;for(r=0;r<a;r++)this[i[r].unit](e[i[r].unit])}else if(pc(this[e=Ac(e)]))return this[e](t);return this},xd.startOf=function(e){var t,r;if(void 0===(e=Ac(e))||"millisecond"===e||!this.isValid())return this;switch(r=this._isUTC?hd:ud,e){case"year":t=r(this.year(),0,1);break;case"quarter":t=r(this.year(),this.month()-this.month()%3,1);break;case"month":t=r(this.year(),this.month(),1);break;case"week":t=r(this.year(),this.month(),this.date()-this.weekday());break;case"isoWeek":t=r(this.year(),this.month(),this.date()-(this.isoWeekday()-1));break;case"day":case"date":t=r(this.year(),this.month(),this.date());break;case"hour":t=this._d.valueOf(),t-=cd(t+(this._isUTC?0:this.utcOffset()*nd),od);break;case"minute":t=this._d.valueOf(),t-=cd(t,nd);break;case"second":t=this._d.valueOf(),t-=cd(t,sd)}return this._d.setTime(t),Ul.updateOffset(this,!0),this},xd.subtract=Kh,xd.toArray=function(){var e=this;return[e.year(),e.month(),e.date(),e.hour(),e.minute(),e.second(),e.millisecond()]},xd.toObject=function(){var e=this;return{years:e.year(),months:e.month(),date:e.date(),hours:e.hours(),minutes:e.minutes(),seconds:e.seconds(),milliseconds:e.milliseconds()}},xd.toDate=function(){return new Date(this.valueOf())},xd.toISOString=function(e){if(!this.isValid())return null;var t=!0!==e,r=t?this.clone().utc():this;return r.year()<0||r.year()>9999?Mc(r,t?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):pc(Date.prototype.toISOString)?t?this.toDate().toISOString():new Date(this.valueOf()+60*this.utcOffset()*1e3).toISOString().replace("Z",Mc(r,"Z")):Mc(r,t?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")},xd.inspect=function(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var e,t,r,i="moment",a="";return this.isLocal()||(i=0===this.utcOffset()?"moment.utc":"moment.parseZone",a="Z"),e="["+i+'("]',t=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",r=a+'[")]',this.format(e+t+"-MM-DD[T]HH:mm:ss.SSS"+r)},typeof Symbol<"u"&&null!=Symbol.for&&(xd[Symbol.for("nodejs.util.inspect.custom")]=function(){return"Moment<"+this.format()+">"}),xd.toJSON=function(){return this.isValid()?this.toISOString():null},xd.toString=function(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")},xd.unix=function(){return Math.floor(this.valueOf()/1e3)},xd.valueOf=function(){return this._d.valueOf()-6e4*(this._offset||0)},xd.creationData=function(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}},xd.eraName=function(){var e,t,r,i=this.localeData().eras();for(e=0,t=i.length;e<t;++e)if(r=this.clone().startOf("day").valueOf(),i[e].since<=r&&r<=i[e].until||i[e].until<=r&&r<=i[e].since)return i[e].name;return""},xd.eraNarrow=function(){var e,t,r,i=this.localeData().eras();for(e=0,t=i.length;e<t;++e)if(r=this.clone().startOf("day").valueOf(),i[e].since<=r&&r<=i[e].until||i[e].until<=r&&r<=i[e].since)return i[e].narrow;return""},xd.eraAbbr=function(){var e,t,r,i=this.localeData().eras();for(e=0,t=i.length;e<t;++e)if(r=this.clone().startOf("day").valueOf(),i[e].since<=r&&r<=i[e].until||i[e].until<=r&&r<=i[e].since)return i[e].abbr;return""},xd.eraYear=function(){var e,t,r,i,a=this.localeData().eras();for(e=0,t=a.length;e<t;++e)if(r=a[e].since<=a[e].until?1:-1,i=this.clone().startOf("day").valueOf(),a[e].since<=i&&i<=a[e].until||a[e].until<=i&&i<=a[e].since)return(this.year()-Ul(a[e].since).year())*r+a[e].offset;return this.year()},xd.year=fu,xd.isLeapYear=function(){return au(this.year())},xd.weekYear=function(e){return gd.call(this,e,this.week(),this.weekday()+this.localeData()._week.dow,this.localeData()._week.dow,this.localeData()._week.doy)},xd.isoWeekYear=function(e){return gd.call(this,e,this.isoWeek(),this.isoWeekday(),1,4)},xd.quarter=xd.quarters=function(e){return null==e?Math.ceil((this.month()+1)/3):this.month(3*(e-1)+this.month()%3)},xd.month=Cu,xd.daysInMonth=function(){return wu(this.year(),this.month())},xd.week=xd.weeks=function(e){var t=this.localeData().week(this);return null==e?t:this.add(7*(e-t),"d")},xd.isoWeek=xd.isoWeeks=function(e){var t=Pu(this,1,4).week;return null==e?t:this.add(7*(e-t),"d")},xd.weeksInYear=function(){var e=this.localeData()._week;return zu(this.year(),e.dow,e.doy)},xd.weeksInWeekYear=function(){var e=this.localeData()._week;return zu(this.weekYear(),e.dow,e.doy)},xd.isoWeeksInYear=function(){return zu(this.year(),1,4)},xd.isoWeeksInISOWeekYear=function(){return zu(this.isoWeekYear(),1,4)},xd.date=yd,xd.day=xd.days=function(e){if(!this.isValid())return null!=e?this:NaN;var t=bu(this,"Day");return null!=e?(e=function(e,t){return"string"!=typeof e?e:isNaN(e)?"number"==typeof(e=t.weekdaysParse(e))?e:null:parseInt(e,10)}(e,this.localeData()),this.add(e-t,"d")):t},xd.weekday=function(e){if(!this.isValid())return null!=e?this:NaN;var t=(this.day()+7-this.localeData()._week.dow)%7;return null==e?t:this.add(e-t,"d")},xd.isoWeekday=function(e){if(!this.isValid())return null!=e?this:NaN;if(null!=e){var t=function(e,t){return"string"==typeof e?t.weekdaysParse(e)%7||7:isNaN(e)?null:e}(e,this.localeData());return this.day(this.day()%7?t:t-7)}return this.day()||7},xd.dayOfYear=function(e){var t=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return null==e?t:this.add(e-t,"d")},xd.hour=xd.hours=Gu,xd.minute=xd.minutes=bd,xd.second=xd.seconds=_d,xd.millisecond=xd.milliseconds=wd,xd.utcOffset=function(e,t,r){var i,a=this._offset||0;if(!this.isValid())return null!=e?this:NaN;if(null!=e){if("string"==typeof e){if(null===(e=$h(Yc,e)))return this}else Math.abs(e)<16&&!r&&(e*=60);return!this._isUTC&&t&&(i=Hh(this)),this._offset=e,this._isUTC=!0,null!=i&&this.add(i,"m"),a!==e&&(!t||this._changeInProgress?Xh(this,jh(e-a,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,Ul.updateOffset(this,!0),this._changeInProgress=null)),this}return this._isUTC?a:Hh(this)},xd.utc=function(e){return this.utcOffset(0,e)},xd.local=function(e){return this._isUTC&&(this.utcOffset(0,e),this._isUTC=!1,e&&this.subtract(Hh(this),"m")),this},xd.parseZone=function(){if(null!=this._tzm)this.utcOffset(this._tzm,!1,!0);else if("string"==typeof this._i){var e=$h(Uc,this._i);null!=e?this.utcOffset(e):this.utcOffset(0,!0)}return this},xd.hasAlignedHourOffset=function(e){return!!this.isValid()&&(e=e?Sh(e).utcOffset():0,(this.utcOffset()-e)%60==0)},xd.isDST=function(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()},xd.isLocal=function(){return!!this.isValid()&&!this._isUTC},xd.isUtcOffset=function(){return!!this.isValid()&&this._isUTC},xd.isUtc=Nh,xd.isUTC=Nh,xd.zoneAbbr=function(){return this._isUTC?"UTC":""},xd.zoneName=function(){return this._isUTC?"Coordinated Universal Time":""},xd.dates=uc("dates accessor is deprecated. Use date instead.",yd),xd.months=uc("months accessor is deprecated. Use month instead",Cu),xd.years=uc("years accessor is deprecated. Use year instead",fu),xd.zone=uc("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",(function(e,t){return null!=e?("string"!=typeof e&&(e=-e),this.utcOffset(e,t),this):-this.utcOffset()})),xd.isDSTShifted=uc("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",(function(){if(!Jl(this._isDSTShifted))return this._isDSTShifted;var e,t={};return nc(t,this),(t=wh(t))._a?(e=t._isUTC?ec(t._a):Sh(t._a),this._isDSTShifted=this.isValid()&&function(e,t){var r,i=Math.min(e.length,t.length),a=Math.abs(e.length-t.length),s=0;for(r=0;r<i;r++)Qc(e[r])!==Qc(t[r])&&s++;return s+a}(t._a,e.toArray())>0):this._isDSTShifted=!1,this._isDSTShifted}));var kd=fc.prototype;function Ld(e,t,r,i){var a=ah(),s=ec().set(i,t);return a[r](s,e)}function Ad(e,t,r){if(Xl(e)&&(t=e,e=void 0),e=e||"",null!=t)return Ld(e,t,r,"month");var i,a=[];for(i=0;i<12;i++)a[i]=Ld(e,i,r,"month");return a}function Cd(e,t,r,i){"boolean"==typeof e?(Xl(t)&&(r=t,t=void 0),t=t||""):(r=t=e,e=!1,Xl(t)&&(r=t,t=void 0),t=t||"");var a,s=ah(),n=e?s._week.dow:0,o=[];if(null!=r)return Ld(t,(r+n)%7,i,"day");for(a=0;a<7;a++)o[a]=Ld(t,(a+n)%7,i,"day");return o}kd.calendar=function(e,t,r){var i=this._calendar[e]||this._calendar.sameElse;return pc(i)?i.call(t,r):i},kd.longDateFormat=function(e){var t=this._longDateFormat[e],r=this._longDateFormat[e.toUpperCase()];return t||!r?t:(this._longDateFormat[e]=r.match(bc).map((function(e){return"MMMM"===e||"MM"===e||"DD"===e||"dddd"===e?e.slice(1):e})).join(""),this._longDateFormat[e])},kd.invalidDate=function(){return this._invalidDate},kd.ordinal=function(e){return this._ordinal.replace("%d",e)},kd.preparse=Md,kd.postformat=Md,kd.relativeTime=function(e,t,r,i){var a=this._relativeTime[r];return pc(a)?a(e,t,r,i):a.replace(/%d/i,e)},kd.pastFuture=function(e,t){var r=this._relativeTime[e>0?"future":"past"];return pc(r)?r(t):r.replace(/%s/i,t)},kd.set=function(e){var t,r;for(r in e)Wl(e,r)&&(pc(t=e[r])?this[r]=t:this["_"+r]=t);this._config=e,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)},kd.eras=function(e,t){var r,i,a,s=this._eras||ah("en")._eras;for(r=0,i=s.length;r<i;++r){if("string"==typeof s[r].since)a=Ul(s[r].since).startOf("day"),s[r].since=a.valueOf();switch(typeof s[r].until){case"undefined":s[r].until=1/0;break;case"string":a=Ul(s[r].until).startOf("day").valueOf(),s[r].until=a.valueOf()}}return s},kd.erasParse=function(e,t,r){var i,a,s,n,o,l=this.eras();for(e=e.toUpperCase(),i=0,a=l.length;i<a;++i)if(s=l[i].name.toUpperCase(),n=l[i].abbr.toUpperCase(),o=l[i].narrow.toUpperCase(),r)switch(t){case"N":case"NN":case"NNN":if(n===e)return l[i];break;case"NNNN":if(s===e)return l[i];break;case"NNNNN":if(o===e)return l[i]}else if([s,n,o].indexOf(e)>=0)return l[i]},kd.erasConvertYear=function(e,t){var r=e.since<=e.until?1:-1;return void 0===t?Ul(e.since).year():Ul(e.since).year()+(t-e.offset)*r},kd.erasAbbrRegex=function(e){return Wl(this,"_erasAbbrRegex")||md.call(this),e?this._erasAbbrRegex:this._erasRegex},kd.erasNameRegex=function(e){return Wl(this,"_erasNameRegex")||md.call(this),e?this._erasNameRegex:this._erasRegex},kd.erasNarrowRegex=function(e){return Wl(this,"_erasNarrowRegex")||md.call(this),e?this._erasNarrowRegex:this._erasRegex},kd.months=function(e,t){return e?Yl(this._months)?this._months[e.month()]:this._months[(this._months.isFormat||xu).test(t)?"format":"standalone"][e.month()]:Yl(this._months)?this._months:this._months.standalone},kd.monthsShort=function(e,t){return e?Yl(this._monthsShort)?this._monthsShort[e.month()]:this._monthsShort[xu.test(t)?"format":"standalone"][e.month()]:Yl(this._monthsShort)?this._monthsShort:this._monthsShort.standalone},kd.monthsParse=function(e,t,r){var i,a,s;if(this._monthsParseExact)return Lu.call(this,e,t,r);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),i=0;i<12;i++){if(a=ec([2e3,i]),r&&!this._longMonthsParse[i]&&(this._longMonthsParse[i]=new RegExp("^"+this.months(a,"").replace(".","")+"$","i"),this._shortMonthsParse[i]=new RegExp("^"+this.monthsShort(a,"").replace(".","")+"$","i")),!r&&!this._monthsParse[i]&&(s="^"+this.months(a,"")+"|^"+this.monthsShort(a,""),this._monthsParse[i]=new RegExp(s.replace(".",""),"i")),r&&"MMMM"===t&&this._longMonthsParse[i].test(e))return i;if(r&&"MMM"===t&&this._shortMonthsParse[i].test(e))return i;if(!r&&this._monthsParse[i].test(e))return i}},kd.monthsRegex=function(e){return this._monthsParseExact?(Wl(this,"_monthsRegex")||Tu.call(this),e?this._monthsStrictRegex:this._monthsRegex):(Wl(this,"_monthsRegex")||(this._monthsRegex=ku),this._monthsStrictRegex&&e?this._monthsStrictRegex:this._monthsRegex)},kd.monthsShortRegex=function(e){return this._monthsParseExact?(Wl(this,"_monthsRegex")||Tu.call(this),e?this._monthsShortStrictRegex:this._monthsShortRegex):(Wl(this,"_monthsShortRegex")||(this._monthsShortRegex=Mu),this._monthsShortStrictRegex&&e?this._monthsShortStrictRegex:this._monthsShortRegex)},kd.week=function(e){return Pu(e,this._week.dow,this._week.doy).week},kd.firstDayOfYear=function(){return this._week.doy},kd.firstDayOfWeek=function(){return this._week.dow},kd.weekdays=function(e,t){var r=Yl(this._weekdays)?this._weekdays:this._weekdays[e&&!0!==e&&this._weekdays.isFormat.test(t)?"format":"standalone"];return!0===e?Bu(r,this._week.dow):e?r[e.day()]:r},kd.weekdaysMin=function(e){return!0===e?Bu(this._weekdaysMin,this._week.dow):e?this._weekdaysMin[e.day()]:this._weekdaysMin},kd.weekdaysShort=function(e){return!0===e?Bu(this._weekdaysShort,this._week.dow):e?this._weekdaysShort[e.day()]:this._weekdaysShort},kd.weekdaysParse=function(e,t,r){var i,a,s;if(this._weekdaysParseExact)return Nu.call(this,e,t,r);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),i=0;i<7;i++){if(a=ec([2e3,1]).day(i),r&&!this._fullWeekdaysParse[i]&&(this._fullWeekdaysParse[i]=new RegExp("^"+this.weekdays(a,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[i]=new RegExp("^"+this.weekdaysShort(a,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[i]=new RegExp("^"+this.weekdaysMin(a,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[i]||(s="^"+this.weekdays(a,"")+"|^"+this.weekdaysShort(a,"")+"|^"+this.weekdaysMin(a,""),this._weekdaysParse[i]=new RegExp(s.replace(".",""),"i")),r&&"dddd"===t&&this._fullWeekdaysParse[i].test(e))return i;if(r&&"ddd"===t&&this._shortWeekdaysParse[i].test(e))return i;if(r&&"dd"===t&&this._minWeekdaysParse[i].test(e))return i;if(!r&&this._weekdaysParse[i].test(e))return i}},kd.weekdaysRegex=function(e){return this._weekdaysParseExact?(Wl(this,"_weekdaysRegex")||Uu.call(this),e?this._weekdaysStrictRegex:this._weekdaysRegex):(Wl(this,"_weekdaysRegex")||(this._weekdaysRegex=$u),this._weekdaysStrictRegex&&e?this._weekdaysStrictRegex:this._weekdaysRegex)},kd.weekdaysShortRegex=function(e){return this._weekdaysParseExact?(Wl(this,"_weekdaysRegex")||Uu.call(this),e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(Wl(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=Vu),this._weekdaysShortStrictRegex&&e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)},kd.weekdaysMinRegex=function(e){return this._weekdaysParseExact?(Wl(this,"_weekdaysRegex")||Uu.call(this),e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(Wl(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=Hu),this._weekdaysMinStrictRegex&&e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)},kd.isPM=function(e){return"p"===(e+"").toLowerCase().charAt(0)},kd.meridiem=function(e,t,r){return e>11?r?"pm":"PM":r?"am":"AM"},rh("en",{eras:[{since:"0001-01-01",until:1/0,offset:1,name:"Anno Domini",narrow:"AD",abbr:"AD"},{since:"0000-12-31",until:-1/0,offset:1,name:"Before Christ",narrow:"BC",abbr:"BC"}],dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(e){var t=e%10;return e+(1===Qc(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th")}}),Ul.lang=uc("moment.lang is deprecated. Use moment.locale instead.",rh),Ul.langData=uc("moment.langData is deprecated. Use moment.localeData instead.",ah);var Td=Math.abs;function Dd(e,t,r,i){var a=jh(t,r);return e._milliseconds+=i*a._milliseconds,e._days+=i*a._days,e._months+=i*a._months,e._bubble()}function Ed(e){return e<0?Math.floor(e):Math.ceil(e)}function Fd(e){return 4800*e/146097}function Id(e){return 146097*e/4800}function Pd(e){return function(){return this.as(e)}}var zd=Pd("ms"),Bd=Pd("s"),Od=Pd("m"),Rd=Pd("h"),qd=Pd("d"),$d=Pd("w"),Vd=Pd("M"),Hd=Pd("Q"),Nd=Pd("y"),Ud=zd;function Yd(e){return function(){return this.isValid()?this._data[e]:NaN}}var jd=Yd("milliseconds"),Wd=Yd("seconds"),Gd=Yd("minutes"),Jd=Yd("hours"),Xd=Yd("days"),Zd=Yd("months"),Kd=Yd("years");var Qd=Math.round,em={ss:44,s:45,m:45,h:22,d:26,w:null,M:11};function tm(e,t,r,i,a){return a.relativeTime(t||1,!!r,e,i)}var rm=Math.abs;function im(e){return(e>0)-(e<0)||+e}function am(){if(!this.isValid())return this.localeData().invalidDate();var e,t,r,i,a,s,n,o,l=rm(this._milliseconds)/1e3,c=rm(this._days),u=rm(this._months),h=this.asSeconds();return h?(e=Kc(l/60),t=Kc(e/60),l%=60,e%=60,r=Kc(u/12),u%=12,i=l?l.toFixed(3).replace(/\.?0+$/,""):"",a=h<0?"-":"",s=im(this._months)!==im(h)?"-":"",n=im(this._days)!==im(h)?"-":"",o=im(this._milliseconds)!==im(h)?"-":"",a+"P"+(r?s+r+"Y":"")+(u?s+u+"M":"")+(c?n+c+"D":"")+(t||e||l?"T":"")+(t?o+t+"H":"")+(e?o+e+"M":"")+(l?o+i+"S":"")):"P0D"}var sm=Ph.prototype;sm.isValid=function(){return this._isValid},sm.abs=function(){var e=this._data;return this._milliseconds=Td(this._milliseconds),this._days=Td(this._days),this._months=Td(this._months),e.milliseconds=Td(e.milliseconds),e.seconds=Td(e.seconds),e.minutes=Td(e.minutes),e.hours=Td(e.hours),e.months=Td(e.months),e.years=Td(e.years),this},sm.add=function(e,t){return Dd(this,e,t,1)},sm.subtract=function(e,t){return Dd(this,e,t,-1)},sm.as=function(e){if(!this.isValid())return NaN;var t,r,i=this._milliseconds;if("month"===(e=Ac(e))||"quarter"===e||"year"===e)switch(t=this._days+i/864e5,r=this._months+Fd(t),e){case"month":return r;case"quarter":return r/3;case"year":return r/12}else switch(t=this._days+Math.round(Id(this._months)),e){case"week":return t/7+i/6048e5;case"day":return t+i/864e5;case"hour":return 24*t+i/36e5;case"minute":return 1440*t+i/6e4;case"second":return 86400*t+i/1e3;case"millisecond":return Math.floor(864e5*t)+i;default:throw new Error("Unknown unit "+e)}},sm.asMilliseconds=zd,sm.asSeconds=Bd,sm.asMinutes=Od,sm.asHours=Rd,sm.asDays=qd,sm.asWeeks=$d,sm.asMonths=Vd,sm.asQuarters=Hd,sm.asYears=Nd,sm.valueOf=Ud,sm._bubble=function(){var e,t,r,i,a,s=this._milliseconds,n=this._days,o=this._months,l=this._data;return s>=0&&n>=0&&o>=0||s<=0&&n<=0&&o<=0||(s+=864e5*Ed(Id(o)+n),n=0,o=0),l.milliseconds=s%1e3,e=Kc(s/1e3),l.seconds=e%60,t=Kc(e/60),l.minutes=t%60,r=Kc(t/60),l.hours=r%24,n+=Kc(r/24),o+=a=Kc(Fd(n)),n-=Ed(Id(a)),i=Kc(o/12),o%=12,l.days=n,l.months=o,l.years=i,this},sm.clone=function(){return jh(this)},sm.get=function(e){return e=Ac(e),this.isValid()?this[e+"s"]():NaN},sm.milliseconds=jd,sm.seconds=Wd,sm.minutes=Gd,sm.hours=Jd,sm.days=Xd,sm.weeks=function(){return Kc(this.days()/7)},sm.months=Zd,sm.years=Kd,sm.humanize=function(e,t){if(!this.isValid())return this.localeData().invalidDate();var r,i,a=!1,s=em;return"object"==typeof e&&(t=e,e=!1),"boolean"==typeof e&&(a=e),"object"==typeof t&&(s=Object.assign({},em,t),null!=t.s&&null==t.ss&&(s.ss=t.s-1)),i=function(e,t,r,i){var a=jh(e).abs(),s=Qd(a.as("s")),n=Qd(a.as("m")),o=Qd(a.as("h")),l=Qd(a.as("d")),c=Qd(a.as("M")),u=Qd(a.as("w")),h=Qd(a.as("y")),d=s<=r.ss&&["s",s]||s<r.s&&["ss",s]||n<=1&&["m"]||n<r.m&&["mm",n]||o<=1&&["h"]||o<r.h&&["hh",o]||l<=1&&["d"]||l<r.d&&["dd",l];return null!=r.w&&(d=d||u<=1&&["w"]||u<r.w&&["ww",u]),(d=d||c<=1&&["M"]||c<r.M&&["MM",c]||h<=1&&["y"]||["yy",h])[2]=t,d[3]=+e>0,d[4]=i,tm.apply(null,d)}(this,!a,s,r=this.localeData()),a&&(i=r.pastFuture(+this,i)),r.postformat(i)},sm.toISOString=am,sm.toString=am,sm.toJSON=am,sm.locale=rd,sm.localeData=ad,sm.toIsoString=uc("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",am),sm.lang=id,Sc("X",0,0,"unix"),Sc("x",0,0,"valueOf"),Jc("x",Nc),Jc("X",/[+-]?\d+(\.\d{1,3})?/),tu("X",(function(e,t,r){r._d=new Date(1e3*parseFloat(e))})),tu("x",(function(e,t,r){r._d=new Date(Qc(e))})),Ul.version="2.30.1",function(e){zl=e}(Sh),Ul.fn=xd,Ul.min=function(){return Th("isBefore",[].slice.call(arguments,0))},Ul.max=function(){return Th("isAfter",[].slice.call(arguments,0))},Ul.now=function(){return Date.now?Date.now():+new Date},Ul.utc=ec,Ul.unix=function(e){return Sh(1e3*e)},Ul.months=function(e,t){return Ad(e,t,"months")},Ul.isDate=Zl,Ul.locale=rh,Ul.invalid=ic,Ul.duration=jh,Ul.isMoment=lc,Ul.weekdays=function(e,t,r){return Cd(e,t,r,"weekdays")},Ul.parseZone=function(){return Sh.apply(null,arguments).parseZone()},Ul.localeData=ah,Ul.isDuration=zh,Ul.monthsShort=function(e,t){return Ad(e,t,"monthsShort")},Ul.weekdaysMin=function(e,t,r){return Cd(e,t,r,"weekdaysMin")},Ul.defineLocale=ih,Ul.updateLocale=function(e,t){if(null!=t){var r,i,a=Xu;null!=Zu[e]&&null!=Zu[e].parentLocale?Zu[e].set(gc(Zu[e]._config,t)):(null!=(i=th(e))&&(a=i._config),t=gc(a,t),null==i&&(t.abbr=e),(r=new fc(t)).parentLocale=Zu[e],Zu[e]=r),rh(e)}else null!=Zu[e]&&(null!=Zu[e].parentLocale?(Zu[e]=Zu[e].parentLocale,e===rh()&&rh(e)):null!=Zu[e]&&delete Zu[e]);return Zu[e]},Ul.locales=function(){return hc(Zu)},Ul.weekdaysShort=function(e,t,r){return Cd(e,t,r,"weekdaysShort")},Ul.normalizeUnits=Ac,Ul.relativeTimeRounding=function(e){return void 0===e?Qd:"function"==typeof e&&(Qd=e,!0)},Ul.relativeTimeThreshold=function(e,t){return void 0!==em[e]&&(void 0===t?em[e]:(em[e]=t,"s"===e&&(em.ss=t-1),!0))},Ul.calendarFormat=function(e,t){var r=e.diff(t,"days",!0);return r<-6?"sameElse":r<-1?"lastWeek":r<0?"lastDay":r<1?"sameDay":r<2?"nextDay":r<7?"nextWeek":"sameElse"},Ul.prototype=xd,Ul.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"GGGG-[W]WW",MONTH:"YYYY-MM"};class nm extends HTMLElement{inputView;resultView;resultView2;commandNameElement;timeElement;deleteButtonElement;constructor(){super(),this.inputView=this.querySelector('math-view[name="input"]'),this.resultView=this.querySelector('math-view[name="result"]'),this.resultView2=this.querySelector('math-view[name="result2"]'),this.commandNameElement=this.querySelector('[data-name="command-name"]'),this.timeElement=this.querySelector('[data-name="time"]'),this.deleteButtonElement=this.querySelector('button[value="delete"]'),this.deleteButtonElement.addEventListener("click",(()=>{let e=new CustomEvent("delete");this.dispatchEvent(e)}))}_data;set data(e){this.removeAttribute("type"),this._data=e,this.id=nm.getHistoryItemId(e.id),this.inputView.ansValue=e.extraInfo.ansValue,this.inputView.value=e.input.input?.latex,this.resultView.value=e.result.result?.latex,this.resultView2.value=e.result.resultRepresentation?.latex,this.commandNameElement.innerText=this.commandMapping(e.extraInfo?.command),this.timeElement.innerText=Ul(e.calcAt).format("HH:mm DD-MMM")}set type(e){e?this.setAttribute("type",e):this.removeAttribute("type")}static getHistoryItemId(e){return"history-"+e}commandMapping(e){switch(e){case"calculate":return"=";case"solve":return"Solve";case"primeFactor":return"Prime Factor";case"stoVariable":return"STO";case"calculateMPlus":return"M+";case"calculateMMinus":return"M-";case"convertToMixedFraction":return"Mixed Fraction";case"convertToDMS":return"DMS";default:return e??" "}}init(e){const t=e.mathContextMenu;this.inputView?.addEventListener("contextmenu",(e=>{t.bindingData({targetElement:this.inputView,latex:this.inputView.value,resultObject:this.inputView.resultObject}),t.show(e)})),this.resultView?.addEventListener("contextmenu",(e=>{t.bindingData({targetElement:this.resultView,latex:this.resultView.value,resultObject:this.resultView.resultObject}),t.show(e)})),this.resultView2?.addEventListener("contextmenu",(e=>{this.resultView2.value&&(t.bindingData({targetElement:this.resultView2,latex:this.resultView2.value.substring(1).trim()}),t.show(e))}))}show(){this._data?.input?.input?.latex?this.inputView.show():this.inputView.hide(),this._data?.result?.result?.latex?this.resultView.show():this.resultView.hide(),this._data?.result?.resultRepresentation?.latex?this.resultView2.show():this.resultView2.hide(),this.style.display="block"}hide(){this.style.display="none"}}class om extends HTMLElement{calculator;historyList=[];displayHistoryList=[];isLoading=!0;listItemTemplate;listContainer;pageSize=10;pagingData={page:0,total:1};paginationElement;constructor(){super()}init(e){console.log("Init history-list-element"),this.calculator=e,this.listItemTemplate=this.querySelector('history-item[type="template"]'),this.listContainer=this.querySelector("ul"),this.paginationElement=this.querySelector("pagination-element"),this.calculator.calcHistoryManager.$loadingHistory.subscribe((e=>{this.isLoading=e,this.updateEmptyState(),e?this.setAttribute("data-loading",""):this.removeAttribute("data-loading")})),"init"!=this.calculator.calcHistoryManager.$historyListChangedAction.value.action&&this.onHistoryListUpdated({action:"init",originList:this.calculator.calcHistoryManager.historyList}),this.calculator.calcHistoryManager.$historyListChangedAction.subscribe((e=>{this.onHistoryListUpdated(e)})),this.paginationElement.addEventListener("change",(e=>{this.onPageChange(e.detail)})),this.setAttribute("data-init","true")}get isInitialized(){return"true"===this.getAttribute("data-init")}deleteItem(e){this.calculator.calcHistoryManager.deleteHistory(e)}clearAllElements(){let e=[];for(let t of this.listContainer.children)t.tagName==="history-item".toUpperCase()&&"template"!=t.getAttribute("type")&&e.push(t);e.forEach((e=>e.remove()))}updateChildElement(e){let t=this.listContainer.querySelector(`${nm.getHistoryItemId(e.id)}`);t&&(t.data=e)}insertInFirstPlace(e){if(this.listContainer.firstChild){if(this.listContainer.firstChild.id==nm.getHistoryItemId(e.id))return;this.listContainer.insertBefore(this.getNewListItem(e),this.listContainer.firstChild)}else this.listContainer.appendChild(this.getNewListItem(e))}onPageChange(e){bn(this.pagingData,e)||(this.pagingData=e,this.clearAllElements(),this.getDisplayHistoryList(this.pageSize,this.pagingData.page,this.historyList).forEach((e=>{this.insertInFirstPlace(e)})))}getDisplayHistoryList(e,t,r){return 0==r.length?[]:r.slice(Math.max(0,r.length-e*(t+1)),Math.max(0,r.length-e*t))}onHistoryListUpdated(e){this.historyList=e.originList;let t=this.getDisplayHistoryList(this.pageSize,this.pagingData.page,this.historyList);switch(e.action){case"init":case"delete":this.clearAllElements(),t.forEach((e=>{this.insertInFirstPlace(e)}));break;case"push":this.insertInFirstPlace(t[t.length-1]);break;case"update":this.updateChildElement(e.value);break;default:console.error("Action not handled yet! ",e)}this.updateEmptyState(),this.paginationElement.pagingData={...this.pagingData,total:Math.max(Math.ceil(this.historyList.length/this.pageSize),1)},this.removeLastItemIfOverSize()}removeLastItemIfOverSize(){let e=this.listContainer.childElementCount;if(e>this.pageSize)for(let t=0;t<e-this.pageSize;t++)this.listContainer.lastElementChild.remove()}updateEmptyState(){if(0!=this.historyList.length||this.isLoading)this.removeAttribute("data-empty");else{this.setAttribute("data-empty","");try{let e=this.querySelector("#player-empty-history");e.reset(),e.play()}catch(e){console.warn(e)}}}getNewListItem(e){let t=this.listItemTemplate.cloneNode(!0);return t.init(this.calculator),t.data=e,t.addEventListener("delete",(t=>{this.deleteItem(e.id)})),t.show(),t}}customElements.define("calculator-container",Mh),window.addEventListener("DOMContentLoaded",(function(){const e=document.querySelector("#calculatorPage");let t=document.querySelector("calculator-container"),r=t.querySelector("calculator-screen"),i=t.querySelector("screen-math-mode"),a=t.querySelector("screen-calc-mode"),s=t.querySelector("calculator-menu-bar"),n=t.querySelector("screen-history-list"),o=e.querySelector("right-panel-container variable-list"),l=e.querySelector("right-panel-container history-list"),c=document.querySelector("math-context-menu");i.init(),a.init(),r.init(),t.init(),s.init(t),n.init(t),c.init(t),Js(l,(e=>{e&&!l.isInitialized&&l.init(t)})),Js(o,(e=>{e&&!o.isInitialized&&o.init(t)}))})),customElements.define("calculator-dialog-wrapper",c);class lm extends HTMLElement{buttonClose;buttonHistory;buttonVariable;buttonUserFunctions;historyPanel;variablesPanel;userFunctionsPanel;buttonHistoryPin;buttonHistoryClose;buttonHistoryOptions;buttonHistoryDelete;buttonVariablesPin;buttonVariablesClose;buttonVariablesOptions;buttonVariablesDelete;backdrop;constructor(){super(),this.buttonClose=this.querySelector('#RightSideToolbar button[value="close"]'),this.backdrop=this.querySelector('[data-role="backdrop"]'),this.buttonHistory=this.querySelector('button[value="history"]'),this.buttonVariable=this.querySelector('button[value="variables"]'),this.buttonUserFunctions=this.querySelector('button[value="user-functions"]'),this.historyPanel=this.querySelector('section[data-panel-name="history"]'),this.variablesPanel=this.querySelector('section[data-panel-name="variables"]'),this.userFunctionsPanel=this.querySelector('section[data-panel-name="user-functions"]'),this.buttonHistoryPin=this.historyPanel.querySelector('button[value="pin"]'),this.buttonHistoryClose=this.historyPanel.querySelector('button[value="close"]'),this.buttonHistoryOptions=this.historyPanel.querySelector('button[value="options"]'),this.buttonHistoryDelete=this.historyPanel.querySelector('button[value="delete"]'),this.buttonVariablesPin=this.variablesPanel.querySelector('button[value="pin"]'),this.buttonVariablesClose=this.variablesPanel.querySelector('button[value="close"]'),this.buttonVariablesOptions=this.variablesPanel.querySelector('button[value="options"]'),this.buttonVariablesDelete=this.variablesPanel.querySelector('button[value="delete"]'),this.buttonClose.addEventListener("click",(()=>{Qt.setRightSideBar({show:!1})})),this.backdrop.addEventListener("click",(()=>{Qt.setRightSideBar({show:!1}),Qt.getViewWidth()>=450&&(this.closePanel("variables"),this.closePanel("history"))})),this.buttonHistory.addEventListener("click",(()=>{let e="history";this.isOpen(e)?this.closePanel(e):this.openPanel(e)})),this.buttonVariable.addEventListener("click",(()=>{let e="variables";this.isOpen(e)?this.closePanel(e):this.openPanel(e)})),this.buttonHistoryPin.addEventListener("click",(()=>{let e="history";this.isPin(e)?this.unPinPanel(e):this.pinPanel(e)})),this.buttonHistoryClose.addEventListener("click",(()=>{this.closePanel("history")})),this.buttonHistoryDelete.addEventListener("click",(()=>{ar.getCalculator()?.executeCommands([f.clearHistory,!0])})),this.buttonVariablesPin.addEventListener("click",(()=>{let e="variables";this.isPin(e)?this.unPinPanel(e):this.pinPanel(e)})),this.buttonVariablesClose.addEventListener("click",(()=>{this.closePanel("variables")})),this.buttonVariablesDelete.addEventListener("click",(()=>{ar.getCalculator()?.executeCommands([f.clearAllVariableValue,!0])})),this.buttonUserFunctions.addEventListener("click",(()=>{let e="user-functions";this.isOpen(e)?this.closePanel(e):this.openPanel(e)}));let e=Qt.getViewWidth();(e>1200||e<450)&&this.openPanel("history")}isOpen(e){return console.log(this.getAttribute(`data-open-${e}`)),null!==this.getAttribute(`data-open-${e}`)}openPanel(e){this.isOpen("variables")&&!this.isPin("variables")&&this.closePanel("variables"),this.isOpen("history")&&!this.isPin("history")&&this.closePanel("history"),this.isOpen("user-functions")&&!this.isPin("user-functions")&&this.closePanel("user-functions"),this.setAttribute(`data-open-${e}`,"")}closePanel(e){this.removeAttribute(`data-open-${e}`),this.unPinPanel(e)}isPin(e){return console.log(this.getAttribute(`data-pin-${e}`)),null!==this.getAttribute(`data-pin-${e}`)}pinPanel(e){this.setAttribute(`data-pin-${e}`,"")}unPinPanel(e){this.removeAttribute(`data-pin-${e}`)}}customElements.define("right-panel-container",lm),customElements.define("calculator-screen",i),customElements.define("calculator-menu-bar",Vl);class cm extends HTMLElement{constructor(){super(),this.messageElement=this.querySelector('[data-name="message"]')}closeTimeout;messageElement;show(e){let t,r="info";this.closeTimeout&&(clearTimeout(this.closeTimeout),this.closeTimeout=void 0,console.log("Clear timeout ")),"string"==typeof e&&(t=e),"object"==typeof e&&(t=e.message,e.type&&(r=e.type)),this.type=r,this.messageElement.textContent=t;try{let e=this;e.classList.remove("hide"),e.classList.add("show");let t=this.hide;this.closeTimeout="loading"===r?setTimeout((function(){t(e)}),1e4):setTimeout((function(){t(e)}),3e3)}catch(e){console.error("Show Toast got error ",e)}}hide(e){(e=e||this).classList.add("hide"),setTimeout((function(){e.classList.remove("hide"),e.classList.remove("show")}),500)}set type(e){e?this.setAttribute("data-type",e):this.removeAttribute("data-type")}}customElements.define("calc-toast",cm),customElements.define("variable-list",Nl),customElements.define("history-list",om),customElements.define("metric-conversions-dialog",n),customElements.define("cmplx-dialog",l),customElements.define("scientific-constants-dialog",s),customElements.define("result-format-dialog",a),customElements.define("hyp-dialog",o);class um extends HTMLElement{dialogElement;calculator;preventInteract=!1;constructor(){super(),this.dialogElement=this.querySelector("dialog"),this.dialogElement.addEventListener("close",(()=>{Xe.sendOpenFeedbackDialog("close")})),this.querySelector('[value="save"]').addEventListener("click",(()=>{this.saveConfig()}))}get open(){return this.dialogElement.open}init(e){this.calculator=e,this.dialogElement.addEventListener("close",(()=>{this.calculator.focusStateManager.restoreFocusState()}))}renderPreview(){Kn.decimalSeparatorChar=is.Comma,this.querySelectorAll("math-view").forEach((e=>{e.render()})),Kn.decimalSeparatorChar=1==this.calculator.calcSettingManager.useDecimalPointSeparator||void 0===this.calculator.calcSettingManager.useDecimalPointSeparator?is.Dot:is.Comma}saveConfig(){try{let e=this.querySelector('input[type="radio"]:checked').value;this.calculator.executeCommands([f.toggleUseDecimalPointSeparator,"term-separator"===e]),"term-separator"===e?(this.calculator.executeCommands(f.insertTermSeparator),Xe.sendOpenCommasMappingSelectDialog("action-fired-term-separator")):(this.calculator.executeCommands(f.insertDecimalSeparator),Xe.sendOpenCommasMappingSelectDialog("action-fired-decimal-separator"))}catch(e){console.error("saveConfig commas mapping got error",e),Xe.sendOpenCommasMappingSelectDialog("action-fired-error")}finally{this.calculator.calcSettingManager.userSettingState={...this.calculator.calcSettingManager.userSettingState,isSelectedCommasMapping:!0},this.close()}}close(){this.dialogElement.close()}show(){Xe.sendOpenCommasMappingSelectDialog("open-auto"),this.renderPreview(),setTimeout((()=>{this.preventInteract=!1}),300),this.dialogElement.showModal()}}customElements.define("commas-mapping-select-dialog",um),customElements.define("confirm-action-dialog",b0);class hm extends HTMLElement{dialogElement;calculator;listContainer;preventInteract=!1;constructor(){super(),this.dialogElement=this.querySelector("dialog"),this.listContainer=this.querySelector("ul"),this.querySelector('[value="close"]').addEventListener("click",(()=>{this.close()}))}init(e){this.calculator=e,this.dialogElement.addEventListener("close",(()=>{this.calculator.focusStateManager.restoreFocusState()})),this.querySelector("ul").querySelectorAll("[data-code]").forEach((t=>{t.addEventListener("click",(()=>{if(this.preventInteract)return;let r=t.getAttribute("data-code");"insert-matrix"===r?e.executeCommands([f.openInsertMatrixDialog,!0]):r&&e.executeCommands([f.insert,r]),e.executeCommands([f.openMatrixDialog,!1])}))}))}close(){this.dialogElement.close()}show(){this.preventInteract=!0,setTimeout((()=>{this.preventInteract=!1}),300),this.dialogElement.showModal()}get open(){return this.dialogElement.open}}customElements.define("matrix-dialog",hm);class dm extends HTMLElement{dialogElement;calculator;preventInteract=!1;cellGrid=[];_currentSize;_currentHover=[-1,-1];xDisplay;yDisplay;buttonInsert;constructor(){super(),this.dialogElement=this.querySelector("dialog"),this.querySelector('[value="close"]').addEventListener("click",(()=>{this.close()}));let e=this.querySelectorAll('div[role="cell"]');this.xDisplay=this.querySelector('[data-display="x"]'),this.yDisplay=this.querySelector('[data-display="y"]'),this.buttonInsert=this.querySelector('button[value="insert"]'),Array.from(Array(kh)).forEach((e=>{this.cellGrid.push([])})),e.forEach((e=>{this.cellGrid[e.dataset.x][e.dataset.y]=e,e.addEventListener("click",(()=>{this.currentSize=[Number(e.dataset.x),Number(e.dataset.y)]})),e.addEventListener("mouseenter",(()=>{this.currentHover=[Number(e.dataset.x),Number(e.dataset.y)]})),e.addEventListener("mouseleave",(()=>{this.currentHover=[-1,-1]}))})),this.currentSize=[2,2]}init(e){this.calculator=e,this.dialogElement.addEventListener("close",(()=>{this.calculator.focusStateManager.restoreFocusState()})),this.buttonInsert.addEventListener("click",(()=>{e.executeCommands([f.insert,`\\begin{bmatrix}${Array(this._currentSize[0]+1).fill(Array(this._currentSize[1]+1).fill("#?").join(" & ")).join("\\\\")}\\end{bmatrix}`]),this.close()}))}set currentSize(e){this._currentSize=e,this.render()}set currentHover(e){this._currentHover=e,this.render()}render(){this.cellGrid.forEach(((e,t)=>{e.forEach(((e,r)=>{t<=this._currentSize[0]&&r<=this._currentSize[1]?e.setAttribute("data-selected",""):e.removeAttribute("data-selected"),t<=this._currentHover[0]&&r<=this._currentHover[1]?e.setAttribute("data-hovered",""):e.removeAttribute("data-hovered")}))})),this.xDisplay.textContent=(this._currentSize[0]+1).toString(),this.yDisplay.textContent=(this._currentSize[1]+1).toString()}close(){this.dialogElement.close()}show(){this.preventInteract=!0,setTimeout((()=>{this.preventInteract=!1}),300),this.dialogElement.showModal()}get open(){return this.dialogElement.open}}customElements.define("insert-matrix-dialog",dm),document.querySelector('button[value="skip-login"]').addEventListener("click",(e=>{Eh.skipLoginRequest(),document.querySelector("#loginDialog").close()})),customElements.define("screen-math-mode",u),customElements.define("screen-calc-mode",$l),customElements.define("screen-history-list",Hl);const mm=[{id:B.buttonShift,display:{[h.DEFAULT]:"SHIFT"},commands:{[h.DEFAULT]:[f.changeCalculatorMode,h.SHIFT],[h.SHIFT]:[f.changeCalculatorMode,h.DEFAULT],[h.ALPHA]:[f.changeCalculatorMode,h.SHIFT]}},{id:B.buttonAlpha,display:{[h.DEFAULT]:"ALPHA"},commands:{[h.DEFAULT]:[f.changeCalculatorMode,h.ALPHA],[h.SHIFT]:[f.changeCalculatorMode,h.ALPHA],[h.ALPHA]:[f.changeCalculatorMode,h.DEFAULT]}},{id:B.buttonNavigateLeft,display:{[h.DEFAULT]:"left"},commands:{[h.DEFAULT]:f.cursorMoveLeft,[h.SHIFT]:void 0,[h.ALPHA]:void 0}},{id:B.buttonNavigateRight,display:{[h.DEFAULT]:"right"},commands:{[h.DEFAULT]:f.cursorMoveRight,[h.SHIFT]:void 0,[h.ALPHA]:void 0}},{id:B.buttonMode,display:{[h.DEFAULT]:"MODE"},commands:{[h.DEFAULT]:f.toggleFullscreen,[h.SHIFT]:void 0,[h.ALPHA]:void 0}},{id:B.buttonSecondMode,display:{[h.DEFAULT]:"2nd"},commands:{[h.DEFAULT]:[f.openSettingsDialog,!0],[h.SHIFT]:void 0,[h.ALPHA]:void 0}},{id:B.buttonCalc,display:{[h.DEFAULT]:"CALC"},commands:{[h.DEFAULT]:[f.changeCalculatorMainMode,ir.CALC_MODE],[h.SHIFT]:f.solve,[h.ALPHA]:f.insertEqual}},{id:B.buttonIntegral,display:{[h.DEFAULT]:"dx"},commands:{[h.DEFAULT]:f.insertIntegral,[h.SHIFT]:f.insertDerivative,[h.ALPHA]:f.insertColon}},{id:B.buttonNavigateUp,display:{[h.DEFAULT]:"up"},commands:{[h.DEFAULT]:f.cursorMoveUp,[h.SHIFT]:void 0,[h.ALPHA]:void 0}},{id:B.buttonNavigateDown,display:{[h.DEFAULT]:"down"},commands:{[h.DEFAULT]:f.cursorMoveDown,[h.SHIFT]:void 0,[h.ALPHA]:void 0}},{id:B.buttonXPowerByNegative1,display:{[h.DEFAULT]:"x^-1"},commands:{[h.DEFAULT]:f.insertXPowerByNegative1,[h.SHIFT]:f.insertFactorial,[h.ALPHA]:void 0}},{id:B.buttonLogAOfX,display:{[h.DEFAULT]:"loga x"},commands:{[h.DEFAULT]:f.insertLogAOfB,[h.SHIFT]:f.insertSumX,[h.ALPHA]:f.insertProdX}},{id:B.buttonFraction,display:{[h.DEFAULT]:"fraction"},commands:{[h.DEFAULT]:f.insertFraction,[h.SHIFT]:f.insertMixedNumber,[h.ALPHA]:f.insertQuotient}},{id:B.buttonRoot,display:{[h.DEFAULT]:"root"},commands:{[h.DEFAULT]:f.insertSqrt,[h.SHIFT]:f.insertCubeRoot,[h.ALPHA]:f.insertModule}},{id:B.buttonXPowerBy2,display:{[h.DEFAULT]:"square"},commands:{[h.DEFAULT]:f.insertXPowerBy2,[h.SHIFT]:f.insertXPowerBy3,[h.ALPHA]:f.insertRepeatingPart}},{id:B.buttonXPowerByY,display:{[h.DEFAULT]:"x^y"},commands:{[h.DEFAULT]:f.insertXPowerByY,[h.SHIFT]:f.insertYRootOfX,[h.ALPHA]:void 0}},{id:B.buttonLog,display:{[h.DEFAULT]:"log"},commands:{[h.DEFAULT]:f.insertLog,[h.SHIFT]:f.insertTenPowerByX,[h.ALPHA]:void 0}},{id:B.buttonLn,display:{[h.DEFAULT]:"ln"},commands:{[h.DEFAULT]:f.insertLn,[h.SHIFT]:f.insertEPowerByX,[h.ALPHA]:f.insertVariableT,[h.RECALC]:f.insertVariableT,[h.STO]:[f.stoVariable,Ue.t]}},{id:B.buttonChangeNumberSign,display:{[h.DEFAULT]:"open-minus-close"},commands:{[h.DEFAULT]:f.insertInvertNumberSign,[h.SHIFT]:f.insertPolar,[h.ALPHA]:f.insertVariableA,[h.RECALC]:f.insertVariableA,[h.STO]:[f.stoVariable,Ue.a]}},{id:B.buttonTimeUnit,display:{[h.DEFAULT]:"time-unit"},commands:{[h.DEFAULT]:f.insertDmsUnit,[h.SHIFT]:f.primeFactor,[h.ALPHA]:f.insertVariableB,[h.RECALC]:f.insertVariableB,[h.STO]:[f.stoVariable,Ue.b]}},{id:B.buttonHyp,display:{[h.DEFAULT]:"hyp"},commands:{[h.DEFAULT]:f.openHypDialog,[h.SHIFT]:f.insertAbs,[h.ALPHA]:f.insertVariableC,[h.RECALC]:f.insertVariableC,[h.STO]:[f.stoVariable,Ue.c]}},{id:B.buttonSin,display:{[h.DEFAULT]:"sin"},commands:{[h.DEFAULT]:f.insertSin,[h.SHIFT]:f.insertArcSin,[h.ALPHA]:f.insertVariableD,[h.RECALC]:f.insertVariableD,[h.STO]:[f.stoVariable,Ue.d]}},{id:B.buttonCos,display:{[h.DEFAULT]:"cos"},commands:{[h.DEFAULT]:f.insertCos,[h.SHIFT]:f.insertArcCos,[h.ALPHA]:f.insertVariableZ,[h.RECALC]:f.insertVariableZ,[h.STO]:[f.stoVariable,Ue.z]}},{id:B.buttonTan,display:{[h.DEFAULT]:"tan"},commands:{[h.DEFAULT]:f.insertTan,[h.SHIFT]:f.insertArcTan,[h.ALPHA]:f.insertVariableF,[h.RECALC]:f.insertVariableF,[h.STO]:[f.stoVariable,Ue.f]}},{id:B.buttonRCL,display:{[h.DEFAULT]:"RCL"},commands:{[h.DEFAULT]:[f.changeCalculatorMode,h.RECALC],[h.SHIFT]:[f.changeCalculatorMode,h.STO],[h.ALPHA]:[f.clearAllVariableValue,!0],[h.RECALC]:[f.changeCalculatorMode,h.DEFAULT]}},{id:B.buttonENG,display:{[h.DEFAULT]:"ENG"},commands:{[h.DEFAULT]:[f.openDecimalFormatSettingDialog,!0],[h.SHIFT]:f.insertImaginaryI,[h.ALPHA]:f.insertCot}},{id:B.buttonParenthesesOpen,display:{[h.DEFAULT]:"("},commands:{[h.DEFAULT]:f.insertParenthesesOpen,[h.SHIFT]:f.insertPercentage,[h.ALPHA]:f.insertArcCot}},{id:B.buttonParenthesesClose,display:{[h.DEFAULT]:")"},commands:{[h.DEFAULT]:f.insertParenthesesClose,[h.SHIFT]:f.insertTermSeparator,[h.ALPHA]:f.insertVariableX,[h.RECALC]:f.insertVariableX,[h.STO]:[f.stoVariable,Ue.x]}},{id:B.buttonSSwapD,display:{[h.DEFAULT]:"s-swap-d"},commands:{[h.DEFAULT]:f.switchSymbolicAndDecimal,[h.SHIFT]:f.convertToMixedFraction,[h.ALPHA]:f.insertVariableY,[h.RECALC]:f.insertVariableY,[h.STO]:[f.stoVariable,Ue.y]}},{id:B.buttonMPlus,display:{[h.DEFAULT]:"M+"},commands:{[h.DEFAULT]:f.calculateMPlus,[h.SHIFT]:f.calculateMMinus,[h.ALPHA]:f.insertVariableM,[h.RECALC]:f.insertVariableM,[h.STO]:[f.stoVariable,Ue.m]}},{id:B.buttonNum7,display:{[h.DEFAULT]:"num7"},commands:{[h.DEFAULT]:f.insertNum7,[h.SHIFT]:f.openScientificConstantsDialog,[h.ALPHA]:void 0}},{id:B.buttonNum8,display:{[h.DEFAULT]:"num8"},commands:{[h.DEFAULT]:f.insertNum8,[h.SHIFT]:[f.openMetricConversionsDialog,!0],[h.ALPHA]:void 0}},{id:B.buttonNum9,display:{[h.DEFAULT]:"num9"},commands:{[h.DEFAULT]:f.insertNum9,[h.SHIFT]:f.insertLim,[h.ALPHA]:f.insertInfinity}},{id:B.buttonDelete,display:{[h.DEFAULT]:"DEL"},commands:{[h.DEFAULT]:f.deleteBackward,[h.SHIFT]:void 0,[h.ALPHA]:void 0}},{id:B.buttonClear,display:{[h.DEFAULT]:"AC"},commands:{[h.DEFAULT]:f.deleteAll,[h.SHIFT]:void 0,[h.ALPHA]:void 0}},{id:B.buttonNum4,display:{[h.DEFAULT]:"num4"},commands:{[h.DEFAULT]:f.insertNum4,[h.SHIFT]:[f.openMatrixDialog,!0],[h.ALPHA]:[f.openInsertMatrixDialog,!0]}},{id:B.buttonNum5,display:{[h.DEFAULT]:"num5"},commands:{[h.DEFAULT]:f.insertNum5,[h.SHIFT]:void 0,[h.ALPHA]:void 0}},{id:B.buttonNum6,display:{[h.DEFAULT]:"num6"},commands:{[h.DEFAULT]:f.insertNum6,[h.SHIFT]:void 0,[h.ALPHA]:void 0}},{id:B.buttonMultiply,display:{[h.DEFAULT]:"multiply"},commands:{[h.DEFAULT]:f.insertMultiplication,[h.SHIFT]:f.insertNPR,[h.ALPHA]:f.insertGCD}},{id:B.buttonDivide,display:{[h.DEFAULT]:"divide"},commands:{[h.DEFAULT]:f.insertDivide,[h.SHIFT]:f.insertNCR,[h.ALPHA]:f.insertLCM}},{id:B.buttonNum1,display:{[h.DEFAULT]:"num1"},commands:{[h.DEFAULT]:f.insertNum1,[h.SHIFT]:void 0,[h.ALPHA]:void 0}},{id:B.buttonNum2,display:{[h.DEFAULT]:"num2"},commands:{[h.DEFAULT]:f.insertNum2,[h.SHIFT]:f.openCMPLXDialog,[h.ALPHA]:void 0}},{id:B.buttonNum3,display:{[h.DEFAULT]:"num3"},commands:{[h.DEFAULT]:f.insertNum3,[h.SHIFT]:void 0,[h.ALPHA]:void 0}},{id:B.buttonPlus,display:{[h.DEFAULT]:"plus"},commands:{[h.DEFAULT]:f.insertPlus,[h.SHIFT]:f.insertPol,[h.ALPHA]:f.insertCeil}},{id:B.buttonMinus,display:{[h.DEFAULT]:"minus"},commands:{[h.DEFAULT]:f.insertMinus,[h.SHIFT]:f.insertRec,[h.ALPHA]:f.insertFloor}},{id:B.buttonNum0,display:{[h.DEFAULT]:"num0"},commands:{[h.DEFAULT]:f.insertNum0,[h.SHIFT]:void 0,[h.ALPHA]:void 0}},{id:B.buttonDot,display:{[h.DEFAULT]:"dot"},commands:{[h.DEFAULT]:f.insertDecimalSeparator,[h.SHIFT]:f.insertVariableRandReal,[h.ALPHA]:f.insertRanInt}},{id:B.buttonExp,display:{[h.DEFAULT]:"x10^x"},commands:{[h.DEFAULT]:f.insertExp,[h.SHIFT]:f.insertPi,[h.ALPHA]:f.insertEulerE}},{id:B.buttonAns,display:{[h.DEFAULT]:"Ans"},commands:{[h.DEFAULT]:f.insertVariableAns,[h.SHIFT]:void 0,[h.ALPHA]:f.insertVariablePreAns}},{id:B.buttonEqual,display:{[h.DEFAULT]:"equal"},commands:{[h.DEFAULT]:f.calculate,[h.SHIFT]:void 0,[h.ALPHA]:void 0}}];class pm extends HTMLElement{constructor(){super(),this._calculator=ar.getCalculator(),this.bindingEvent()}print(...e){let t=document.getElementById("debug-view");const r=document.createElement("div"),i=document.createTextNode(`${(new Date).toISOString()}: `+e.join(" : "));r.appendChild(i),t.appendChild(r),t.scrollTop=t.scrollHeight}_calculator;get calculator(){return this._calculator}set calculator(e){this._calculator=e}get currentCalculatorMode(){return this.calculator.calcSettingManager.calculatorMode}get currentCalculatorMainMode(){return ir.MATH_MODE}vibrate(){Dh()&&window.navigator.vibrate(3)}executeCommands(e){try{this.calculator.executeCommands(e)}catch(t){console.log("Press calculator button got ",e,t)}}bindingEvent(){if(this.hasEventListener())return;let e=this.querySelector("button"),t=mm.find((e=>e.id===this.id));if(!t.commands)return;let r,i;function a(){i=void 0,r&&clearTimeout(r)}function s({cancelFirst:t=!1}){t&&a(),e?.classList.remove("active"),i&&i(),t||a()}function n(e,r=!1){r&&e.vibrate();const i=r?h.SHIFT:e.currentCalculatorMode;let a=t.commands[i];void 0===a&&(a=t.commands[h.DEFAULT+""]),"object"==typeof a&&!Array.isArray(a)&&(a=a[e.currentCalculatorMainMode]),e.executeCommands(a)}this.addEventListener("touchmove",(e=>{const t=this.getBoundingClientRect(),r=e.touches[0];(r.clientX<t.left||r.clientX>t.right||r.clientY<t.top||r.clientY>t.bottom)&&s({cancelFirst:!0}),e.preventDefault()}),!1),this.addEventListener("pointerdown",(t=>{(function(t){e?.classList.add("active"),t.vibrate(),i=()=>n(t,!1),r=setTimeout((()=>{a(),n(t,!0)}),500)})(this),t.preventDefault(),t.stopPropagation()}),!1),this.addEventListener("pointerup",(e=>{s({cancelFirst:!1}),e.preventDefault(),e.stopPropagation()}),!1),this.addEventListener("pointerleave",(e=>{s({cancelFirst:!0}),e.preventDefault(),e.stopPropagation()}),!1),this.addEventListener("pointercancel",(e=>{s({cancelFirst:!0}),e.preventDefault(),e.stopPropagation()}),!1),this.addEventListener("click",(e=>{e.preventDefault(),e.stopPropagation()}),!1),this.markAsHasEventListener()}hasEventListener(){return this.hasAttribute("data-bind")}markAsHasEventListener(){this.setAttribute("data-bind","true"),console.debug("Bind event to calc-button")}}customElements.define("calc-button",pm),customElements.define("math-view",Pl),customElements.define("history-item",nm);class gm extends HTMLElement{_page;_totalPage;autoHide;constructor(){super(),this.pagingData={page:ai.toNumber(this.getAttribute("data-page"))??0,total:ai.toNumber(this.getAttribute("data-total"))??1},this.autoHide="true"==this.getAttribute("data-auto-hide")}get pageButtons(){return this.querySelectorAll("button")}get pagingData(){return{page:this._page,total:this._totalPage}}hide(){this.style.display="none"}show(){this.style.display="inline-flex"}set pagingData(e){if(bn(this.pagingData,e))return;this._page=e.page,this._totalPage=e.total,this.render();let t=new CustomEvent("change",{detail:this.pagingData});this.dispatchEvent(t)}activeElement(e,t){const r="btn-active";e.classList.contains(r)?t||e.classList.remove(r):t&&e.classList.add(r)}onPageClick(e){let t=this._page;switch(console.log(e),e){case"next":t=Math.min(t+1,this._totalPage-1);break;case"prev":t=Math.max(t-1,0);break;default:t=ai.toNumber(e)}this.pagingData={...this.pagingData,page:t}}prevButtonTemplate=()=>{let e=document.createElement("button");return e.value="prev",e.className="join-item btn btn-sm",e.innerText="",e};nextButtonTemplate=()=>{let e=document.createElement("button");return e.value="next",e.className="join-item btn btn-sm",e.innerText="",e};pageButtonTemplate=e=>{let t=document.createElement("button");return t.value=e.toString(),t.className="join-item btn btn-sm",t.innerText=(e+1).toString(),t};render(){this.setAttribute("data-page",this._page?.toString()),this.setAttribute("data-total",this._totalPage?.toString()),this.autoHide?this.pagingData.total<=1?this.hide():this.show():this.pagingData.total&&this.show(),this.pageButtons.forEach((e=>{e.remove()})),this.appendChild(this.prevButtonTemplate()),Array.from(Array(this._totalPage).keys()).forEach((e=>{this.appendChild(this.pageButtonTemplate(e))})),this.appendChild(this.nextButtonTemplate()),this.pageButtons.forEach((e=>{e.getAttribute("value")==this._page.toString()?this.activeElement(e,!0):this.activeElement(e,!1)})),this.pageButtons.forEach((e=>{e.addEventListener("click",(()=>{this.onPageClick(e.value)}))}))}}customElements.define("pagination-element",gm),customElements.define("math-input",Rl),customElements.define("result-view",ql);class fm extends HTMLElement{inputView;resultView;resultView2;calculator;moreOptionOfInputButton;moreOptionOfResultButton;constructor(){super(),this.inputView=this.querySelector('math-view[name="input"]'),this.resultView=this.querySelector('math-view[name="result"]'),this.resultView2=this.querySelector('math-view[name="result2"]'),this.moreOptionOfResultButton=this.querySelector('button[name="more-option-result"]'),this.moreOptionOfInputButton=this.querySelector('button[name="more-option-input"]')}_data;set data(e){this.removeAttribute("type"),this._data=e,this.id=fm.getScreenHistoryItemId(e.id),this.inputView.ansValue=e.extraInfo.ansValue,this.inputView.value=e.input.input?.latex,this.resultView.value=e.result.result?.latex,this.resultView.resultObject=e.extraInfo?.resultObject,this.resultView2.value=e.result.resultRepresentation?.latex}set type(e){e?this.setAttribute("type",e):this.removeAttribute("type")}static getScreenHistoryItemId(e){return"screen-history-"+e}init(e){this.calculator=e;const t=e.mathContextMenu;this.moreOptionOfInputButton.addEventListener("click",(e=>{e.preventDefault(),e.stopPropagation(),t.bindingData({targetElement:this.inputView,latex:this.inputView.value,resultObject:this.inputView.resultObject}),t.show(e)})),this.moreOptionOfResultButton.addEventListener("click",(e=>{e.preventDefault(),e.stopPropagation(),t.bindingData({targetElement:this.resultView,latex:this.resultView.value,resultObject:this.resultView.resultObject}),t.show(e)})),this.inputView?.addEventListener("click",(()=>{this.inputView?.value&&(e.mathExpression?b0.showConfirm({title:"Insert expression to the editor?"}).then((t=>{"confirm"==t?(e.executeCommands([f.insert,this.inputView?.value,{scrollIntoView:!0}]),Xe.sendMathContextMenuEvent("insert-to-editor-by-click-math-confirmed")):Xe.sendMathContextMenuEvent("insert-to-editor-by-click-math-cancelled")})):(e.executeCommands([f.insert,this.inputView?.value,{scrollIntoView:!0}]),Xe.sendMathContextMenuEvent("insert-to-editor-by-click-math")))})),this.inputView?.addEventListener("contextmenu",(e=>{t.bindingData({targetElement:this.inputView,latex:this.inputView.value,resultObject:this.inputView.resultObject}),t.show(e)})),this.resultView?.addEventListener("contextmenu",(e=>{t.bindingData({targetElement:this.resultView,latex:this.resultView.value,resultObject:this.resultView.resultObject}),t.show(e)})),this.resultView2?.addEventListener("contextmenu",(e=>{this.resultView2.value&&(t.bindingData({targetElement:this.resultView2,latex:this.resultView2.value.substring(1).trim()}),t.show(e))})),this.resultView?.addEventListener("click",(()=>{e.executeCommands([f.openResultFormatDialog,!0,this.resultView.resultObject]),Xe.sendMathContextMenuEvent("result-format-by-click-math")}))}show(){this._data?.input?.input?.latex?this.inputView.show():this.inputView.hide(),this._data?.result?.result?.latex?this.resultView.show():this.resultView.hide(),this._data?.result?.resultRepresentation?.latex?this.resultView2.show():this.resultView2.hide(),this.style.display="block"}hide(){this.style.display="none"}}customElements.define("screen-history-item",fm);class ym extends HTMLElement{constructor(){super()}show(){this.setAttribute("data-visibility","show"),this.style.display="block"}hide(){this.setAttribute("data-visibility","hide"),this.style.display="none"}}customElements.define("result-loading",ym);class bm extends HTMLElement{constructor(){super()}_value;set value(e){this._value=e,this.textContent=e}get value(){return this._value}show(){this.setAttribute("data-visibility","show"),this.style.display="block"}hide(){this.setAttribute("data-visibility","hide"),this.style.display="none"}}customElements.define("error-view",bm)}));export default N3();